var FD=Object.defineProperty;var PD=(t,e,n)=>e in t?FD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u5=(t,e,n)=>(PD(t,typeof e!="symbol"?e+"":e,n),n);function LD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $y(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var xF={exports:{}},Gy={},bF={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=Symbol.for("react.element"),jD=Symbol.for("react.portal"),UD=Symbol.for("react.fragment"),kD=Symbol.for("react.strict_mode"),RD=Symbol.for("react.profiler"),OD=Symbol.for("react.provider"),DD=Symbol.for("react.context"),QD=Symbol.for("react.forward_ref"),MD=Symbol.for("react.suspense"),HD=Symbol.for("react.memo"),VD=Symbol.for("react.lazy"),d5=Symbol.iterator;function KD(t){return t===null||typeof t!="object"?null:(t=d5&&t[d5]||t["@@iterator"],typeof t=="function"?t:null)}var _F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BF=Object.assign,CF={};function Af(t,e,n){this.props=t,this.context=e,this.refs=CF,this.updater=n||_F}Af.prototype.isReactComponent={};Af.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Af.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EF(){}EF.prototype=Af.prototype;function V_(t,e,n){this.props=t,this.context=e,this.refs=CF,this.updater=n||_F}var K_=V_.prototype=new EF;K_.constructor=V_;BF(K_,Af.prototype);K_.isPureReactComponent=!0;var h5=Array.isArray,SF=Object.prototype.hasOwnProperty,z_={current:null},IF={key:!0,ref:!0,__self:!0,__source:!0};function NF(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SF.call(e,r)&&!IF.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Gm,type:t,key:s,ref:o,props:i,_owner:z_.current}}function zD(t,e){return{$$typeof:Gm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gm}function $D(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f5=/\/+/g;function jw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$D(""+t.key):e.toString(36)}function Y0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gm:case jD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jw(o,0):r,h5(i)?(n="",t!=null&&(n=t.replace(f5,"$&/")+"/"),Y0(i,e,n,"",function(u){return u})):i!=null&&($_(i)&&(i=zD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",h5(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+jw(s,l);o+=Y0(s,e,n,a,i)}else if(a=KD(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+jw(s,l++),o+=Y0(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kg(t,e,n){if(t==null)return t;var r=[],i=0;return Y0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function GD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vs={current:null},X0={transition:null},WD={ReactCurrentDispatcher:Vs,ReactCurrentBatchConfig:X0,ReactCurrentOwner:z_};function TF(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:kg,forEach:function(t,e,n){kg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kg(t,function(){e++}),e},toArray:function(t){return kg(t,function(e){return e})||[]},only:function(t){if(!$_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fn.Component=Af;fn.Fragment=UD;fn.Profiler=RD;fn.PureComponent=V_;fn.StrictMode=kD;fn.Suspense=MD;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WD;fn.act=TF;fn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BF({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=z_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)SF.call(e,a)&&!IF.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Gm,type:t.type,key:i,ref:s,props:r,_owner:o}};fn.createContext=function(t){return t={$$typeof:DD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OD,_context:t},t.Consumer=t};fn.createElement=NF;fn.createFactory=function(t){var e=NF.bind(null,t);return e.type=t,e};fn.createRef=function(){return{current:null}};fn.forwardRef=function(t){return{$$typeof:QD,render:t}};fn.isValidElement=$_;fn.lazy=function(t){return{$$typeof:VD,_payload:{_status:-1,_result:t},_init:GD}};fn.memo=function(t,e){return{$$typeof:HD,type:t,compare:e===void 0?null:e}};fn.startTransition=function(t){var e=X0.transition;X0.transition={};try{t()}finally{X0.transition=e}};fn.unstable_act=TF;fn.useCallback=function(t,e){return Vs.current.useCallback(t,e)};fn.useContext=function(t){return Vs.current.useContext(t)};fn.useDebugValue=function(){};fn.useDeferredValue=function(t){return Vs.current.useDeferredValue(t)};fn.useEffect=function(t,e){return Vs.current.useEffect(t,e)};fn.useId=function(){return Vs.current.useId()};fn.useImperativeHandle=function(t,e,n){return Vs.current.useImperativeHandle(t,e,n)};fn.useInsertionEffect=function(t,e){return Vs.current.useInsertionEffect(t,e)};fn.useLayoutEffect=function(t,e){return Vs.current.useLayoutEffect(t,e)};fn.useMemo=function(t,e){return Vs.current.useMemo(t,e)};fn.useReducer=function(t,e,n){return Vs.current.useReducer(t,e,n)};fn.useRef=function(t){return Vs.current.useRef(t)};fn.useState=function(t){return Vs.current.useState(t)};fn.useSyncExternalStore=function(t,e,n){return Vs.current.useSyncExternalStore(t,e,n)};fn.useTransition=function(){return Vs.current.useTransition()};fn.version="18.3.1";bF.exports=fn;var Y=bF.exports;const Sn=$y(Y),_x=LD({__proto__:null,default:Sn},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD=Y,JD=Symbol.for("react.element"),YD=Symbol.for("react.fragment"),XD=Object.prototype.hasOwnProperty,ZD=qD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e6={key:!0,ref:!0,__self:!0,__source:!0};function FF(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XD.call(e,r)&&!e6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JD,type:t,key:s,ref:o,props:i,_owner:ZD.current}}Gy.Fragment=YD;Gy.jsx=FF;Gy.jsxs=FF;xF.exports=Gy;var d=xF.exports,PF={exports:{}},zo={},LF={exports:{}},jF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,ue){var ie=z.length;z.push(ue);e:for(;0<ie;){var be=ie-1>>>1,Q=z[be];if(0<i(Q,ue))z[be]=ue,z[ie]=Q,ie=be;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ue=z[0],ie=z.pop();if(ie!==ue){z[0]=ie;e:for(var be=0,Q=z.length,J=Q>>>1;be<J;){var re=2*(be+1)-1,ee=z[re],he=re+1,ve=z[he];if(0>i(ee,ie))he<Q&&0>i(ve,ee)?(z[be]=ve,z[he]=ie,be=he):(z[be]=ee,z[re]=ie,be=re);else if(he<Q&&0>i(ve,ie))z[be]=ve,z[he]=ie,be=he;else break e}}return ue}function i(z,ue){var ie=z.sortIndex-ue.sortIndex;return ie!==0?ie:z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,p=3,m=!1,b=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var ue=n(u);ue!==null;){if(ue.callback===null)r(u);else if(ue.startTime<=z)r(u),ue.sortIndex=ue.expirationTime,e(a,ue);else break;ue=n(u)}}function F(z){if(_=!1,E(z),!b)if(n(a)!==null)b=!0,V(M);else{var ue=n(u);ue!==null&&q(F,ue.startTime-z)}}function M(z,ue){b=!1,_&&(_=!1,w(S),S=-1),m=!0;var ie=p;try{for(E(ue),h=n(a);h!==null&&(!(h.expirationTime>ue)||z&&!j());){var be=h.callback;if(typeof be=="function"){h.callback=null,p=h.priorityLevel;var Q=be(h.expirationTime<=ue);ue=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(a)&&r(a),E(ue)}else r(a);h=n(a)}if(h!==null)var J=!0;else{var re=n(u);re!==null&&q(F,re.startTime-ue),J=!1}return J}finally{h=null,p=ie,m=!1}}var k=!1,N=null,S=-1,O=5,H=-1;function j(){return!(t.unstable_now()-H<O)}function T(){if(N!==null){var z=t.unstable_now();H=z;var ue=!0;try{ue=N(!0,z)}finally{ue?D():(k=!1,N=null)}}else k=!1}var D;if(typeof y=="function")D=function(){y(T)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,oe=W.port2;W.port1.onmessage=T,D=function(){oe.postMessage(null)}}else D=function(){C(T,0)};function V(z){N=z,k||(k=!0,D())}function q(z,ue){S=C(function(){z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,V(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var ue=3;break;default:ue=p}var ie=p;p=ue;try{return z()}finally{p=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,ue){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=p;p=z;try{return ue()}finally{p=ie}},t.unstable_scheduleCallback=function(z,ue,ie){var be=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?be+ie:be):ie=be,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ie+Q,z={id:c++,callback:ue,priorityLevel:z,startTime:ie,expirationTime:Q,sortIndex:-1},ie>be?(z.sortIndex=ie,e(u,z),n(a)===null&&z===n(u)&&(_?(w(S),S=-1):_=!0,q(F,ie-be))):(z.sortIndex=Q,e(a,z),b||m||(b=!0,V(M))),z},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(z){var ue=p;return function(){var ie=p;p=ue;try{return z.apply(this,arguments)}finally{p=ie}}}})(jF);LF.exports=jF;var t6=LF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6=Y,Ko=t6;function at(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UF=new Set,rm={};function xd(t,e){Gh(t,e),Gh(t+"Capture",e)}function Gh(t,e){for(rm[t]=e,t=0;t<e.length;t++)UF.add(e[t])}var IA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bx=Object.prototype.hasOwnProperty,r6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p5={},m5={};function i6(t){return Bx.call(m5,t)?!0:Bx.call(p5,t)?!1:r6.test(t)?m5[t]=!0:(p5[t]=!0,!1)}function s6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function o6(t,e,n,r){if(e===null||typeof e>"u"||s6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ks(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zi[t]=new Ks(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zi[e]=new Ks(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zi[t]=new Ks(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zi[t]=new Ks(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zi[t]=new Ks(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zi[t]=new Ks(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zi[t]=new Ks(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zi[t]=new Ks(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zi[t]=new Ks(t,5,!1,t.toLowerCase(),null,!1,!1)});var G_=/[\-:]([a-z])/g;function W_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G_,W_);Zi[e]=new Ks(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(G_,W_);Zi[e]=new Ks(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G_,W_);Zi[e]=new Ks(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zi[t]=new Ks(t,1,!1,t.toLowerCase(),null,!1,!1)});Zi.xlinkHref=new Ks("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zi[t]=new Ks(t,1,!1,t.toLowerCase(),null,!0,!0)});function q_(t,e,n,r){var i=Zi.hasOwnProperty(e)?Zi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o6(e,n,i,r)&&(n=null),r||i===null?i6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var QA=n6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rg=Symbol.for("react.element"),gh=Symbol.for("react.portal"),vh=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),kF=Symbol.for("react.provider"),RF=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),Ex=Symbol.for("react.suspense"),Sx=Symbol.for("react.suspense_list"),X_=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),OF=Symbol.for("react.offscreen"),g5=Symbol.iterator;function jf(t){return t===null||typeof t!="object"?null:(t=g5&&t[g5]||t["@@iterator"],typeof t=="function"?t:null)}var wr=Object.assign,Uw;function np(t){if(Uw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uw=e&&e[1]||""}return`
`+Uw+t}var kw=!1;function Rw(t,e){if(!t||kw)return"";kw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{kw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?np(t):""}function a6(t){switch(t.tag){case 5:return np(t.type);case 16:return np("Lazy");case 13:return np("Suspense");case 19:return np("SuspenseList");case 0:case 2:case 15:return t=Rw(t.type,!1),t;case 11:return t=Rw(t.type.render,!1),t;case 1:return t=Rw(t.type,!0),t;default:return""}}function Ix(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vh:return"Fragment";case gh:return"Portal";case Cx:return"Profiler";case J_:return"StrictMode";case Ex:return"Suspense";case Sx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RF:return(t.displayName||"Context")+".Consumer";case kF:return(t._context.displayName||"Context")+".Provider";case Y_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X_:return e=t.displayName||null,e!==null?e:Ix(t.type)||"Memo";case hc:e=t._payload,t=t._init;try{return Ix(t(e))}catch{}}return null}function l6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ix(e);case 8:return e===J_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A6(t){var e=DF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Og(t){t._valueTracker||(t._valueTracker=A6(t))}function QF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nx(t,e){var n=e.checked;return wr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MF(t,e){e=e.checked,e!=null&&q_(t,"checked",e,!1)}function Tx(t,e){MF(t,e);var n=Jc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fx(t,e.type,Jc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fx(t,e,n){(e!=="number"||Tv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rp=Array.isArray;function Ph(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Px(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(at(91));return wr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function w5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(at(92));if(rp(n)){if(1<n.length)throw Error(at(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jc(n)}}function HF(t,e){var n=Jc(e.value),r=Jc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function x5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dg,KF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dg=Dg||document.createElement("div"),Dg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function im(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c6=["Webkit","ms","Moz","O"];Object.keys(Bp).forEach(function(t){c6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bp[e]=Bp[t]})});function zF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bp.hasOwnProperty(t)&&Bp[t]?(""+e).trim():e+"px"}function $F(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var u6=wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jx(t,e){if(e){if(u6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(at(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(at(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(at(61))}if(e.style!=null&&typeof e.style!="object")throw Error(at(62))}}function Ux(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kx=null;function Z_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rx=null,Lh=null,jh=null;function b5(t){if(t=Jm(t)){if(typeof Rx!="function")throw Error(at(280));var e=t.stateNode;e&&(e=Xy(e),Rx(t.stateNode,t.type,e))}}function GF(t){Lh?jh?jh.push(t):jh=[t]:Lh=t}function WF(){if(Lh){var t=Lh,e=jh;if(jh=Lh=null,b5(t),e)for(t=0;t<e.length;t++)b5(e[t])}}function qF(t,e){return t(e)}function JF(){}var Ow=!1;function YF(t,e,n){if(Ow)return t(e,n);Ow=!0;try{return qF(t,e,n)}finally{Ow=!1,(Lh!==null||jh!==null)&&(JF(),WF())}}function sm(t,e){var n=t.stateNode;if(n===null)return null;var r=Xy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(at(231,e,typeof n));return n}var Ox=!1;if(IA)try{var Uf={};Object.defineProperty(Uf,"passive",{get:function(){Ox=!0}}),window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{Ox=!1}function d6(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Cp=!1,Fv=null,Pv=!1,Dx=null,h6={onError:function(t){Cp=!0,Fv=t}};function f6(t,e,n,r,i,s,o,l,a){Cp=!1,Fv=null,d6.apply(h6,arguments)}function p6(t,e,n,r,i,s,o,l,a){if(f6.apply(this,arguments),Cp){if(Cp){var u=Fv;Cp=!1,Fv=null}else throw Error(at(198));Pv||(Pv=!0,Dx=u)}}function bd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _5(t){if(bd(t)!==t)throw Error(at(188))}function m6(t){var e=t.alternate;if(!e){if(e=bd(t),e===null)throw Error(at(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _5(i),t;if(s===r)return _5(i),e;s=s.sibling}throw Error(at(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(at(189))}}if(n.alternate!==r)throw Error(at(190))}if(n.tag!==3)throw Error(at(188));return n.stateNode.current===n?t:e}function ZF(t){return t=m6(t),t!==null?eP(t):null}function eP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eP(t);if(e!==null)return e;t=t.sibling}return null}var tP=Ko.unstable_scheduleCallback,B5=Ko.unstable_cancelCallback,g6=Ko.unstable_shouldYield,v6=Ko.unstable_requestPaint,Vr=Ko.unstable_now,y6=Ko.unstable_getCurrentPriorityLevel,eB=Ko.unstable_ImmediatePriority,nP=Ko.unstable_UserBlockingPriority,Lv=Ko.unstable_NormalPriority,w6=Ko.unstable_LowPriority,rP=Ko.unstable_IdlePriority,Wy=null,Ol=null;function x6(t){if(Ol&&typeof Ol.onCommitFiberRoot=="function")try{Ol.onCommitFiberRoot(Wy,t,void 0,(t.current.flags&128)===128)}catch{}}var nl=Math.clz32?Math.clz32:B6,b6=Math.log,_6=Math.LN2;function B6(t){return t>>>=0,t===0?32:31-(b6(t)/_6|0)|0}var Qg=64,Mg=4194304;function ip(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ip(l):(s&=o,s!==0&&(r=ip(s)))}else o=n&~i,o!==0?r=ip(o):s!==0&&(r=ip(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nl(e),i=1<<n,r|=t[n],e&=~i;return r}function C6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nl(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=C6(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Qx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iP(){var t=Qg;return Qg<<=1,!(Qg&4194240)&&(Qg=64),t}function Dw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nl(e),t[e]=n}function S6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tB(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Kn=0;function sP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oP,nB,aP,lP,AP,Mx=!1,Hg=[],Lc=null,jc=null,Uc=null,om=new Map,am=new Map,gc=[],I6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C5(t,e){switch(t){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":jc=null;break;case"mouseover":case"mouseout":Uc=null;break;case"pointerover":case"pointerout":om.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":am.delete(e.pointerId)}}function kf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jm(e),e!==null&&nB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function N6(t,e,n,r,i){switch(e){case"focusin":return Lc=kf(Lc,t,e,n,r,i),!0;case"dragenter":return jc=kf(jc,t,e,n,r,i),!0;case"mouseover":return Uc=kf(Uc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return om.set(s,kf(om.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,am.set(s,kf(am.get(s)||null,t,e,n,r,i)),!0}return!1}function cP(t){var e=Mu(t.target);if(e!==null){var n=bd(e);if(n!==null){if(e=n.tag,e===13){if(e=XF(n),e!==null){t.blockedOn=e,AP(t.priority,function(){aP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Z0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kx=r,n.target.dispatchEvent(r),kx=null}else return e=Jm(n),e!==null&&nB(e),t.blockedOn=n,!1;e.shift()}return!0}function E5(t,e,n){Z0(t)&&n.delete(e)}function T6(){Mx=!1,Lc!==null&&Z0(Lc)&&(Lc=null),jc!==null&&Z0(jc)&&(jc=null),Uc!==null&&Z0(Uc)&&(Uc=null),om.forEach(E5),am.forEach(E5)}function Rf(t,e){t.blockedOn===e&&(t.blockedOn=null,Mx||(Mx=!0,Ko.unstable_scheduleCallback(Ko.unstable_NormalPriority,T6)))}function lm(t){function e(i){return Rf(i,t)}if(0<Hg.length){Rf(Hg[0],t);for(var n=1;n<Hg.length;n++){var r=Hg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lc!==null&&Rf(Lc,t),jc!==null&&Rf(jc,t),Uc!==null&&Rf(Uc,t),om.forEach(e),am.forEach(e),n=0;n<gc.length;n++)r=gc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gc.length&&(n=gc[0],n.blockedOn===null);)cP(n),n.blockedOn===null&&gc.shift()}var Uh=QA.ReactCurrentBatchConfig,Uv=!0;function F6(t,e,n,r){var i=Kn,s=Uh.transition;Uh.transition=null;try{Kn=1,rB(t,e,n,r)}finally{Kn=i,Uh.transition=s}}function P6(t,e,n,r){var i=Kn,s=Uh.transition;Uh.transition=null;try{Kn=4,rB(t,e,n,r)}finally{Kn=i,Uh.transition=s}}function rB(t,e,n,r){if(Uv){var i=Hx(t,e,n,r);if(i===null)qw(t,e,r,kv,n),C5(t,r);else if(N6(i,t,e,n,r))r.stopPropagation();else if(C5(t,r),e&4&&-1<I6.indexOf(t)){for(;i!==null;){var s=Jm(i);if(s!==null&&oP(s),s=Hx(t,e,n,r),s===null&&qw(t,e,r,kv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qw(t,e,r,null,n)}}var kv=null;function Hx(t,e,n,r){if(kv=null,t=Z_(r),t=Mu(t),t!==null)if(e=bd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kv=t,null}function uP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y6()){case eB:return 1;case nP:return 4;case Lv:case w6:return 16;case rP:return 536870912;default:return 16}default:return 16}}var Cc=null,iB=null,ev=null;function dP(){if(ev)return ev;var t,e=iB,n=e.length,r,i="value"in Cc?Cc.value:Cc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ev=i.slice(t,1<r?1-r:void 0)}function tv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vg(){return!0}function S5(){return!1}function $o(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vg:S5,this.isPropagationStopped=S5,this}return wr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vg)},persist:function(){},isPersistent:Vg}),e}var cf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sB=$o(cf),qm=wr({},cf,{view:0,detail:0}),L6=$o(qm),Qw,Mw,Of,qy=wr({},qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Of&&(Of&&t.type==="mousemove"?(Qw=t.screenX-Of.screenX,Mw=t.screenY-Of.screenY):Mw=Qw=0,Of=t),Qw)},movementY:function(t){return"movementY"in t?t.movementY:Mw}}),I5=$o(qy),j6=wr({},qy,{dataTransfer:0}),U6=$o(j6),k6=wr({},qm,{relatedTarget:0}),Hw=$o(k6),R6=wr({},cf,{animationName:0,elapsedTime:0,pseudoElement:0}),O6=$o(R6),D6=wr({},cf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q6=$o(D6),M6=wr({},cf,{data:0}),N5=$o(M6),H6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K6[t])?!!e[t]:!1}function oB(){return z6}var $6=wr({},qm,{key:function(t){if(t.key){var e=H6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oB,charCode:function(t){return t.type==="keypress"?tv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G6=$o($6),W6=wr({},qy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T5=$o(W6),q6=wr({},qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oB}),J6=$o(q6),Y6=wr({},cf,{propertyName:0,elapsedTime:0,pseudoElement:0}),X6=$o(Y6),Z6=wr({},qy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eQ=$o(Z6),tQ=[9,13,27,32],aB=IA&&"CompositionEvent"in window,Ep=null;IA&&"documentMode"in document&&(Ep=document.documentMode);var nQ=IA&&"TextEvent"in window&&!Ep,hP=IA&&(!aB||Ep&&8<Ep&&11>=Ep),F5=String.fromCharCode(32),P5=!1;function fP(t,e){switch(t){case"keyup":return tQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yh=!1;function rQ(t,e){switch(t){case"compositionend":return pP(e);case"keypress":return e.which!==32?null:(P5=!0,F5);case"textInput":return t=e.data,t===F5&&P5?null:t;default:return null}}function iQ(t,e){if(yh)return t==="compositionend"||!aB&&fP(t,e)?(t=dP(),ev=iB=Cc=null,yh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hP&&e.locale!=="ko"?null:e.data;default:return null}}var sQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sQ[t.type]:e==="textarea"}function mP(t,e,n,r){GF(r),e=Rv(e,"onChange"),0<e.length&&(n=new sB("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sp=null,Am=null;function oQ(t){SP(t,0)}function Jy(t){var e=bh(t);if(QF(e))return t}function aQ(t,e){if(t==="change")return e}var gP=!1;if(IA){var Vw;if(IA){var Kw="oninput"in document;if(!Kw){var j5=document.createElement("div");j5.setAttribute("oninput","return;"),Kw=typeof j5.oninput=="function"}Vw=Kw}else Vw=!1;gP=Vw&&(!document.documentMode||9<document.documentMode)}function U5(){Sp&&(Sp.detachEvent("onpropertychange",vP),Am=Sp=null)}function vP(t){if(t.propertyName==="value"&&Jy(Am)){var e=[];mP(e,Am,t,Z_(t)),YF(oQ,e)}}function lQ(t,e,n){t==="focusin"?(U5(),Sp=e,Am=n,Sp.attachEvent("onpropertychange",vP)):t==="focusout"&&U5()}function AQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jy(Am)}function cQ(t,e){if(t==="click")return Jy(e)}function uQ(t,e){if(t==="input"||t==="change")return Jy(e)}function dQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sl=typeof Object.is=="function"?Object.is:dQ;function cm(t,e){if(sl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bx.call(e,i)||!sl(t[i],e[i]))return!1}return!0}function k5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function R5(t,e){var n=k5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k5(n)}}function yP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wP(){for(var t=window,e=Tv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tv(t.document)}return e}function lB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hQ(t){var e=wP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yP(n.ownerDocument.documentElement,n)){if(r!==null&&lB(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=R5(n,s);var o=R5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fQ=IA&&"documentMode"in document&&11>=document.documentMode,wh=null,Vx=null,Ip=null,Kx=!1;function O5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kx||wh==null||wh!==Tv(r)||(r=wh,"selectionStart"in r&&lB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ip&&cm(Ip,r)||(Ip=r,r=Rv(Vx,"onSelect"),0<r.length&&(e=new sB("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wh)))}function Kg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xh={animationend:Kg("Animation","AnimationEnd"),animationiteration:Kg("Animation","AnimationIteration"),animationstart:Kg("Animation","AnimationStart"),transitionend:Kg("Transition","TransitionEnd")},zw={},xP={};IA&&(xP=document.createElement("div").style,"AnimationEvent"in window||(delete xh.animationend.animation,delete xh.animationiteration.animation,delete xh.animationstart.animation),"TransitionEvent"in window||delete xh.transitionend.transition);function Yy(t){if(zw[t])return zw[t];if(!xh[t])return t;var e=xh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xP)return zw[t]=e[n];return t}var bP=Yy("animationend"),_P=Yy("animationiteration"),BP=Yy("animationstart"),CP=Yy("transitionend"),EP=new Map,D5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Au(t,e){EP.set(t,e),xd(e,[t])}for(var $w=0;$w<D5.length;$w++){var Gw=D5[$w],pQ=Gw.toLowerCase(),mQ=Gw[0].toUpperCase()+Gw.slice(1);Au(pQ,"on"+mQ)}Au(bP,"onAnimationEnd");Au(_P,"onAnimationIteration");Au(BP,"onAnimationStart");Au("dblclick","onDoubleClick");Au("focusin","onFocus");Au("focusout","onBlur");Au(CP,"onTransitionEnd");Gh("onMouseEnter",["mouseout","mouseover"]);Gh("onMouseLeave",["mouseout","mouseover"]);Gh("onPointerEnter",["pointerout","pointerover"]);Gh("onPointerLeave",["pointerout","pointerover"]);xd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xd("onBeforeInput",["compositionend","keypress","textInput","paste"]);xd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(sp));function Q5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,p6(r,e,void 0,t),t.currentTarget=null}function SP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Q5(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Q5(i,l,u),s=a}}}if(Pv)throw t=Dx,Pv=!1,Dx=null,t}function or(t,e){var n=e[qx];n===void 0&&(n=e[qx]=new Set);var r=t+"__bubble";n.has(r)||(IP(e,t,2,!1),n.add(r))}function Ww(t,e,n){var r=0;e&&(r|=4),IP(n,t,r,e)}var zg="_reactListening"+Math.random().toString(36).slice(2);function um(t){if(!t[zg]){t[zg]=!0,UF.forEach(function(n){n!=="selectionchange"&&(gQ.has(n)||Ww(n,!1,t),Ww(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zg]||(e[zg]=!0,Ww("selectionchange",!1,e))}}function IP(t,e,n,r){switch(uP(e)){case 1:var i=F6;break;case 4:i=P6;break;default:i=rB}n=i.bind(null,e,n,t),i=void 0,!Ox||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Mu(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}YF(function(){var u=s,c=Z_(n),h=[];e:{var p=EP.get(t);if(p!==void 0){var m=sB,b=t;switch(t){case"keypress":if(tv(n)===0)break e;case"keydown":case"keyup":m=G6;break;case"focusin":b="focus",m=Hw;break;case"focusout":b="blur",m=Hw;break;case"beforeblur":case"afterblur":m=Hw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=I5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=U6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=J6;break;case bP:case _P:case BP:m=O6;break;case CP:m=X6;break;case"scroll":m=L6;break;case"wheel":m=eQ;break;case"copy":case"cut":case"paste":m=Q6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=T5}var _=(e&4)!==0,C=!_&&t==="scroll",w=_?p!==null?p+"Capture":null:p;_=[];for(var y=u,E;y!==null;){E=y;var F=E.stateNode;if(E.tag===5&&F!==null&&(E=F,w!==null&&(F=sm(y,w),F!=null&&_.push(dm(y,F,E)))),C)break;y=y.return}0<_.length&&(p=new m(p,b,null,n,c),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==kx&&(b=n.relatedTarget||n.fromElement)&&(Mu(b)||b[NA]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?Mu(b):null,b!==null&&(C=bd(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(_=I5,F="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=T5,F="onPointerLeave",w="onPointerEnter",y="pointer"),C=m==null?p:bh(m),E=b==null?p:bh(b),p=new _(F,y+"leave",m,n,c),p.target=C,p.relatedTarget=E,F=null,Mu(c)===u&&(_=new _(w,y+"enter",b,n,c),_.target=E,_.relatedTarget=C,F=_),C=F,m&&b)t:{for(_=m,w=b,y=0,E=_;E;E=Hd(E))y++;for(E=0,F=w;F;F=Hd(F))E++;for(;0<y-E;)_=Hd(_),y--;for(;0<E-y;)w=Hd(w),E--;for(;y--;){if(_===w||w!==null&&_===w.alternate)break t;_=Hd(_),w=Hd(w)}_=null}else _=null;m!==null&&M5(h,p,m,_,!1),b!==null&&C!==null&&M5(h,C,b,_,!0)}}e:{if(p=u?bh(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=aQ;else if(L5(p))if(gP)M=uQ;else{M=AQ;var k=lQ}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=cQ);if(M&&(M=M(t,u))){mP(h,M,n,c);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Fx(p,"number",p.value)}switch(k=u?bh(u):window,t){case"focusin":(L5(k)||k.contentEditable==="true")&&(wh=k,Vx=u,Ip=null);break;case"focusout":Ip=Vx=wh=null;break;case"mousedown":Kx=!0;break;case"contextmenu":case"mouseup":case"dragend":Kx=!1,O5(h,n,c);break;case"selectionchange":if(fQ)break;case"keydown":case"keyup":O5(h,n,c)}var N;if(aB)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else yh?fP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(hP&&n.locale!=="ko"&&(yh||S!=="onCompositionStart"?S==="onCompositionEnd"&&yh&&(N=dP()):(Cc=c,iB="value"in Cc?Cc.value:Cc.textContent,yh=!0)),k=Rv(u,S),0<k.length&&(S=new N5(S,t,null,n,c),h.push({event:S,listeners:k}),N?S.data=N:(N=pP(n),N!==null&&(S.data=N)))),(N=nQ?rQ(t,n):iQ(t,n))&&(u=Rv(u,"onBeforeInput"),0<u.length&&(c=new N5("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=N))}SP(h,e)})}function dm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sm(t,n),s!=null&&r.unshift(dm(t,s,i)),s=sm(t,e),s!=null&&r.push(dm(t,s,i))),t=t.return}return r}function Hd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=sm(n,s),a!=null&&o.unshift(dm(n,a,l))):i||(a=sm(n,s),a!=null&&o.push(dm(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vQ=/\r\n?/g,yQ=/\u0000|\uFFFD/g;function H5(t){return(typeof t=="string"?t:""+t).replace(vQ,`
`).replace(yQ,"")}function $g(t,e,n){if(e=H5(e),H5(t)!==e&&n)throw Error(at(425))}function Ov(){}var zx=null,$x=null;function Gx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wx=typeof setTimeout=="function"?setTimeout:void 0,wQ=typeof clearTimeout=="function"?clearTimeout:void 0,V5=typeof Promise=="function"?Promise:void 0,xQ=typeof queueMicrotask=="function"?queueMicrotask:typeof V5<"u"?function(t){return V5.resolve(null).then(t).catch(bQ)}:Wx;function bQ(t){setTimeout(function(){throw t})}function Jw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lm(e)}function kc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function K5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uf=Math.random().toString(36).slice(2),Ll="__reactFiber$"+uf,hm="__reactProps$"+uf,NA="__reactContainer$"+uf,qx="__reactEvents$"+uf,_Q="__reactListeners$"+uf,BQ="__reactHandles$"+uf;function Mu(t){var e=t[Ll];if(e)return e;for(var n=t.parentNode;n;){if(e=n[NA]||n[Ll]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=K5(t);t!==null;){if(n=t[Ll])return n;t=K5(t)}return e}t=n,n=t.parentNode}return null}function Jm(t){return t=t[Ll]||t[NA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(at(33))}function Xy(t){return t[hm]||null}var Jx=[],_h=-1;function cu(t){return{current:t}}function Ar(t){0>_h||(t.current=Jx[_h],Jx[_h]=null,_h--)}function sr(t,e){_h++,Jx[_h]=t.current,t.current=e}var Yc={},bs=cu(Yc),lo=cu(!1),cd=Yc;function Wh(t,e){var n=t.type.contextTypes;if(!n)return Yc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ao(t){return t=t.childContextTypes,t!=null}function Dv(){Ar(lo),Ar(bs)}function z5(t,e,n){if(bs.current!==Yc)throw Error(at(168));sr(bs,e),sr(lo,n)}function NP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(at(108,l6(t)||"Unknown",i));return wr({},n,r)}function Qv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yc,cd=bs.current,sr(bs,t),sr(lo,lo.current),!0}function $5(t,e,n){var r=t.stateNode;if(!r)throw Error(at(169));n?(t=NP(t,e,cd),r.__reactInternalMemoizedMergedChildContext=t,Ar(lo),Ar(bs),sr(bs,t)):Ar(lo),sr(lo,n)}var pA=null,Zy=!1,Yw=!1;function TP(t){pA===null?pA=[t]:pA.push(t)}function CQ(t){Zy=!0,TP(t)}function uu(){if(!Yw&&pA!==null){Yw=!0;var t=0,e=Kn;try{var n=pA;for(Kn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pA=null,Zy=!1}catch(i){throw pA!==null&&(pA=pA.slice(t+1)),tP(eB,uu),i}finally{Kn=e,Yw=!1}}return null}var Bh=[],Ch=0,Mv=null,Hv=0,ua=[],da=0,ud=null,mA=1,gA="";function Uu(t,e){Bh[Ch++]=Hv,Bh[Ch++]=Mv,Mv=t,Hv=e}function FP(t,e,n){ua[da++]=mA,ua[da++]=gA,ua[da++]=ud,ud=t;var r=mA;t=gA;var i=32-nl(r)-1;r&=~(1<<i),n+=1;var s=32-nl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mA=1<<32-nl(e)+i|n<<i|r,gA=s+t}else mA=1<<s|n<<i|r,gA=t}function AB(t){t.return!==null&&(Uu(t,1),FP(t,1,0))}function cB(t){for(;t===Mv;)Mv=Bh[--Ch],Bh[Ch]=null,Hv=Bh[--Ch],Bh[Ch]=null;for(;t===ud;)ud=ua[--da],ua[da]=null,gA=ua[--da],ua[da]=null,mA=ua[--da],ua[da]=null}var Ho=null,Oo=null,hr=!1,Ja=null;function PP(t,e){var n=ma(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ho=t,Oo=kc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ho=t,Oo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ud!==null?{id:mA,overflow:gA}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ma(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ho=t,Oo=null,!0):!1;default:return!1}}function Yx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xx(t){if(hr){var e=Oo;if(e){var n=e;if(!G5(t,e)){if(Yx(t))throw Error(at(418));e=kc(n.nextSibling);var r=Ho;e&&G5(t,e)?PP(r,n):(t.flags=t.flags&-4097|2,hr=!1,Ho=t)}}else{if(Yx(t))throw Error(at(418));t.flags=t.flags&-4097|2,hr=!1,Ho=t}}}function W5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ho=t}function Gg(t){if(t!==Ho)return!1;if(!hr)return W5(t),hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gx(t.type,t.memoizedProps)),e&&(e=Oo)){if(Yx(t))throw LP(),Error(at(418));for(;e;)PP(t,e),e=kc(e.nextSibling)}if(W5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(at(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oo=kc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oo=null}}else Oo=Ho?kc(t.stateNode.nextSibling):null;return!0}function LP(){for(var t=Oo;t;)t=kc(t.nextSibling)}function qh(){Oo=Ho=null,hr=!1}function uB(t){Ja===null?Ja=[t]:Ja.push(t)}var EQ=QA.ReactCurrentBatchConfig;function Df(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(at(309));var r=n.stateNode}if(!r)throw Error(at(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(at(284));if(!n._owner)throw Error(at(290,t))}return t}function Wg(t,e){throw t=Object.prototype.toString.call(e),Error(at(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q5(t){var e=t._init;return e(t._payload)}function jP(t){function e(w,y){if(t){var E=w.deletions;E===null?(w.deletions=[y],w.flags|=16):E.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Qc(w,y),w.index=0,w.sibling=null,w}function s(w,y,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<y?(w.flags|=2,y):E):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,E,F){return y===null||y.tag!==6?(y=i2(E,w.mode,F),y.return=w,y):(y=i(y,E),y.return=w,y)}function a(w,y,E,F){var M=E.type;return M===vh?c(w,y,E.props.children,F,E.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hc&&q5(M)===y.type)?(F=i(y,E.props),F.ref=Df(w,y,E),F.return=w,F):(F=lv(E.type,E.key,E.props,null,w.mode,F),F.ref=Df(w,y,E),F.return=w,F)}function u(w,y,E,F){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=s2(E,w.mode,F),y.return=w,y):(y=i(y,E.children||[]),y.return=w,y)}function c(w,y,E,F,M){return y===null||y.tag!==7?(y=Xu(E,w.mode,F,M),y.return=w,y):(y=i(y,E),y.return=w,y)}function h(w,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=i2(""+y,w.mode,E),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rg:return E=lv(y.type,y.key,y.props,null,w.mode,E),E.ref=Df(w,null,y),E.return=w,E;case gh:return y=s2(y,w.mode,E),y.return=w,y;case hc:var F=y._init;return h(w,F(y._payload),E)}if(rp(y)||jf(y))return y=Xu(y,w.mode,E,null),y.return=w,y;Wg(w,y)}return null}function p(w,y,E,F){var M=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:l(w,y,""+E,F);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Rg:return E.key===M?a(w,y,E,F):null;case gh:return E.key===M?u(w,y,E,F):null;case hc:return M=E._init,p(w,y,M(E._payload),F)}if(rp(E)||jf(E))return M!==null?null:c(w,y,E,F,null);Wg(w,E)}return null}function m(w,y,E,F,M){if(typeof F=="string"&&F!==""||typeof F=="number")return w=w.get(E)||null,l(y,w,""+F,M);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Rg:return w=w.get(F.key===null?E:F.key)||null,a(y,w,F,M);case gh:return w=w.get(F.key===null?E:F.key)||null,u(y,w,F,M);case hc:var k=F._init;return m(w,y,E,k(F._payload),M)}if(rp(F)||jf(F))return w=w.get(E)||null,c(y,w,F,M,null);Wg(y,F)}return null}function b(w,y,E,F){for(var M=null,k=null,N=y,S=y=0,O=null;N!==null&&S<E.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var H=p(w,N,E[S],F);if(H===null){N===null&&(N=O);break}t&&N&&H.alternate===null&&e(w,N),y=s(H,y,S),k===null?M=H:k.sibling=H,k=H,N=O}if(S===E.length)return n(w,N),hr&&Uu(w,S),M;if(N===null){for(;S<E.length;S++)N=h(w,E[S],F),N!==null&&(y=s(N,y,S),k===null?M=N:k.sibling=N,k=N);return hr&&Uu(w,S),M}for(N=r(w,N);S<E.length;S++)O=m(N,w,S,E[S],F),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?S:O.key),y=s(O,y,S),k===null?M=O:k.sibling=O,k=O);return t&&N.forEach(function(j){return e(w,j)}),hr&&Uu(w,S),M}function _(w,y,E,F){var M=jf(E);if(typeof M!="function")throw Error(at(150));if(E=M.call(E),E==null)throw Error(at(151));for(var k=M=null,N=y,S=y=0,O=null,H=E.next();N!==null&&!H.done;S++,H=E.next()){N.index>S?(O=N,N=null):O=N.sibling;var j=p(w,N,H.value,F);if(j===null){N===null&&(N=O);break}t&&N&&j.alternate===null&&e(w,N),y=s(j,y,S),k===null?M=j:k.sibling=j,k=j,N=O}if(H.done)return n(w,N),hr&&Uu(w,S),M;if(N===null){for(;!H.done;S++,H=E.next())H=h(w,H.value,F),H!==null&&(y=s(H,y,S),k===null?M=H:k.sibling=H,k=H);return hr&&Uu(w,S),M}for(N=r(w,N);!H.done;S++,H=E.next())H=m(N,w,S,H.value,F),H!==null&&(t&&H.alternate!==null&&N.delete(H.key===null?S:H.key),y=s(H,y,S),k===null?M=H:k.sibling=H,k=H);return t&&N.forEach(function(T){return e(w,T)}),hr&&Uu(w,S),M}function C(w,y,E,F){if(typeof E=="object"&&E!==null&&E.type===vh&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Rg:e:{for(var M=E.key,k=y;k!==null;){if(k.key===M){if(M=E.type,M===vh){if(k.tag===7){n(w,k.sibling),y=i(k,E.props.children),y.return=w,w=y;break e}}else if(k.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hc&&q5(M)===k.type){n(w,k.sibling),y=i(k,E.props),y.ref=Df(w,k,E),y.return=w,w=y;break e}n(w,k);break}else e(w,k);k=k.sibling}E.type===vh?(y=Xu(E.props.children,w.mode,F,E.key),y.return=w,w=y):(F=lv(E.type,E.key,E.props,null,w.mode,F),F.ref=Df(w,y,E),F.return=w,w=F)}return o(w);case gh:e:{for(k=E.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(w,y.sibling),y=i(y,E.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=s2(E,w.mode,F),y.return=w,w=y}return o(w);case hc:return k=E._init,C(w,y,k(E._payload),F)}if(rp(E))return b(w,y,E,F);if(jf(E))return _(w,y,E,F);Wg(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,E),y.return=w,w=y):(n(w,y),y=i2(E,w.mode,F),y.return=w,w=y),o(w)):n(w,y)}return C}var Jh=jP(!0),UP=jP(!1),Vv=cu(null),Kv=null,Eh=null,dB=null;function hB(){dB=Eh=Kv=null}function fB(t){var e=Vv.current;Ar(Vv),t._currentValue=e}function Zx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kh(t,e){Kv=t,dB=Eh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ao=!0),t.firstContext=null)}function wa(t){var e=t._currentValue;if(dB!==t)if(t={context:t,memoizedValue:e,next:null},Eh===null){if(Kv===null)throw Error(at(308));Eh=t,Kv.dependencies={lanes:0,firstContext:t}}else Eh=Eh.next=t;return e}var Hu=null;function pB(t){Hu===null?Hu=[t]:Hu.push(t)}function kP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pB(e)):(n.next=i.next,i.next=n),e.interleaved=n,TA(t,r)}function TA(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fc=!1;function mB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _A(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,In&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,TA(t,n)}return i=r.interleaved,i===null?(e.next=e,pB(r)):(e.next=i.next,i.next=e),r.interleaved=e,TA(t,n)}function nv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tB(t,n)}}function J5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zv(t,e,n,r){var i=t.updateQueue;fc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var p=l.lane,m=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,_=l;switch(p=e,m=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){h=b.call(m,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(m,h,p):b,p==null)break e;h=wr({},h,p);break e;case 2:fc=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=h):c=c.next=m,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hd|=o,t.lanes=o,t.memoizedState=h}}function Y5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(at(191,i));i.call(r)}}}var Ym={},Dl=cu(Ym),fm=cu(Ym),pm=cu(Ym);function Vu(t){if(t===Ym)throw Error(at(174));return t}function gB(t,e){switch(sr(pm,e),sr(fm,t),sr(Dl,Ym),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lx(e,t)}Ar(Dl),sr(Dl,e)}function Yh(){Ar(Dl),Ar(fm),Ar(pm)}function OP(t){Vu(pm.current);var e=Vu(Dl.current),n=Lx(e,t.type);e!==n&&(sr(fm,t),sr(Dl,n))}function vB(t){fm.current===t&&(Ar(Dl),Ar(fm))}var vr=cu(0);function $v(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xw=[];function yB(){for(var t=0;t<Xw.length;t++)Xw[t]._workInProgressVersionPrimary=null;Xw.length=0}var rv=QA.ReactCurrentDispatcher,Zw=QA.ReactCurrentBatchConfig,dd=0,yr=null,fi=null,Ni=null,Gv=!1,Np=!1,mm=0,SQ=0;function ls(){throw Error(at(321))}function wB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sl(t[n],e[n]))return!1;return!0}function xB(t,e,n,r,i,s){if(dd=s,yr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rv.current=t===null||t.memoizedState===null?FQ:PQ,t=n(r,i),Np){s=0;do{if(Np=!1,mm=0,25<=s)throw Error(at(301));s+=1,Ni=fi=null,e.updateQueue=null,rv.current=LQ,t=n(r,i)}while(Np)}if(rv.current=Wv,e=fi!==null&&fi.next!==null,dd=0,Ni=fi=yr=null,Gv=!1,e)throw Error(at(300));return t}function bB(){var t=mm!==0;return mm=0,t}function Il(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?yr.memoizedState=Ni=t:Ni=Ni.next=t,Ni}function xa(){if(fi===null){var t=yr.alternate;t=t!==null?t.memoizedState:null}else t=fi.next;var e=Ni===null?yr.memoizedState:Ni.next;if(e!==null)Ni=e,fi=t;else{if(t===null)throw Error(at(310));fi=t,t={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},Ni===null?yr.memoizedState=Ni=t:Ni=Ni.next=t}return Ni}function gm(t,e){return typeof e=="function"?e(t):e}function e2(t){var e=xa(),n=e.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=t;var r=fi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((dd&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,yr.lanes|=c,hd|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,sl(r,e.memoizedState)||(ao=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yr.lanes|=s,hd|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function t2(t){var e=xa(),n=e.queue;if(n===null)throw Error(at(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sl(s,e.memoizedState)||(ao=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function DP(){}function QP(t,e){var n=yr,r=xa(),i=e(),s=!sl(r.memoizedState,i);if(s&&(r.memoizedState=i,ao=!0),r=r.queue,_B(VP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ni!==null&&Ni.memoizedState.tag&1){if(n.flags|=2048,vm(9,HP.bind(null,n,r,i,e),void 0,null),Ti===null)throw Error(at(349));dd&30||MP(n,e,i)}return i}function MP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yr.updateQueue,e===null?(e={lastEffect:null,stores:null},yr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HP(t,e,n,r){e.value=n,e.getSnapshot=r,KP(e)&&zP(t)}function VP(t,e,n){return n(function(){KP(e)&&zP(t)})}function KP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sl(t,n)}catch{return!0}}function zP(t){var e=TA(t,1);e!==null&&rl(e,t,1,-1)}function X5(t){var e=Il();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:t},e.queue=t,t=t.dispatch=TQ.bind(null,yr,t),[e.memoizedState,t]}function vm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yr.updateQueue,e===null?(e={lastEffect:null,stores:null},yr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $P(){return xa().memoizedState}function iv(t,e,n,r){var i=Il();yr.flags|=t,i.memoizedState=vm(1|e,n,void 0,r===void 0?null:r)}function e1(t,e,n,r){var i=xa();r=r===void 0?null:r;var s=void 0;if(fi!==null){var o=fi.memoizedState;if(s=o.destroy,r!==null&&wB(r,o.deps)){i.memoizedState=vm(e,n,s,r);return}}yr.flags|=t,i.memoizedState=vm(1|e,n,s,r)}function Z5(t,e){return iv(8390656,8,t,e)}function _B(t,e){return e1(2048,8,t,e)}function GP(t,e){return e1(4,2,t,e)}function WP(t,e){return e1(4,4,t,e)}function qP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JP(t,e,n){return n=n!=null?n.concat([t]):null,e1(4,4,qP.bind(null,e,t),n)}function BB(){}function YP(t,e){var n=xa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XP(t,e){var n=xa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZP(t,e,n){return dd&21?(sl(n,e)||(n=iP(),yr.lanes|=n,hd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ao=!0),t.memoizedState=n)}function IQ(t,e){var n=Kn;Kn=n!==0&&4>n?n:4,t(!0);var r=Zw.transition;Zw.transition={};try{t(!1),e()}finally{Kn=n,Zw.transition=r}}function e3(){return xa().memoizedState}function NQ(t,e,n){var r=Dc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t3(t))n3(e,n);else if(n=kP(t,e,n,r),n!==null){var i=Ds();rl(n,t,r,i),r3(n,e,r)}}function TQ(t,e,n){var r=Dc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t3(t))n3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,sl(l,o)){var a=e.interleaved;a===null?(i.next=i,pB(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=kP(t,e,i,r),n!==null&&(i=Ds(),rl(n,t,r,i),r3(n,e,r))}}function t3(t){var e=t.alternate;return t===yr||e!==null&&e===yr}function n3(t,e){Np=Gv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tB(t,n)}}var Wv={readContext:wa,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},FQ={readContext:wa,useCallback:function(t,e){return Il().memoizedState=[t,e===void 0?null:e],t},useContext:wa,useEffect:Z5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,iv(4194308,4,qP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return iv(4194308,4,t,e)},useInsertionEffect:function(t,e){return iv(4,2,t,e)},useMemo:function(t,e){var n=Il();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Il();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NQ.bind(null,yr,t),[r.memoizedState,t]},useRef:function(t){var e=Il();return t={current:t},e.memoizedState=t},useState:X5,useDebugValue:BB,useDeferredValue:function(t){return Il().memoizedState=t},useTransition:function(){var t=X5(!1),e=t[0];return t=IQ.bind(null,t[1]),Il().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yr,i=Il();if(hr){if(n===void 0)throw Error(at(407));n=n()}else{if(n=e(),Ti===null)throw Error(at(349));dd&30||MP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Z5(VP.bind(null,r,s,t),[t]),r.flags|=2048,vm(9,HP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Il(),e=Ti.identifierPrefix;if(hr){var n=gA,r=mA;n=(r&~(1<<32-nl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SQ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PQ={readContext:wa,useCallback:YP,useContext:wa,useEffect:_B,useImperativeHandle:JP,useInsertionEffect:GP,useLayoutEffect:WP,useMemo:XP,useReducer:e2,useRef:$P,useState:function(){return e2(gm)},useDebugValue:BB,useDeferredValue:function(t){var e=xa();return ZP(e,fi.memoizedState,t)},useTransition:function(){var t=e2(gm)[0],e=xa().memoizedState;return[t,e]},useMutableSource:DP,useSyncExternalStore:QP,useId:e3,unstable_isNewReconciler:!1},LQ={readContext:wa,useCallback:YP,useContext:wa,useEffect:_B,useImperativeHandle:JP,useInsertionEffect:GP,useLayoutEffect:WP,useMemo:XP,useReducer:t2,useRef:$P,useState:function(){return t2(gm)},useDebugValue:BB,useDeferredValue:function(t){var e=xa();return fi===null?e.memoizedState=t:ZP(e,fi.memoizedState,t)},useTransition:function(){var t=t2(gm)[0],e=xa().memoizedState;return[t,e]},useMutableSource:DP,useSyncExternalStore:QP,useId:e3,unstable_isNewReconciler:!1};function Ga(t,e){if(t&&t.defaultProps){e=wr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function eb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var t1={isMounted:function(t){return(t=t._reactInternals)?bd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ds(),i=Dc(t),s=_A(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rc(t,s,i),e!==null&&(rl(e,t,i,r),nv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ds(),i=Dc(t),s=_A(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rc(t,s,i),e!==null&&(rl(e,t,i,r),nv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ds(),r=Dc(t),i=_A(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rc(t,i,r),e!==null&&(rl(e,t,r,n),nv(e,t,r))}};function eS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cm(n,r)||!cm(i,s):!0}function i3(t,e,n){var r=!1,i=Yc,s=e.contextType;return typeof s=="object"&&s!==null?s=wa(s):(i=Ao(e)?cd:bs.current,r=e.contextTypes,s=(r=r!=null)?Wh(t,i):Yc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&t1.enqueueReplaceState(e,e.state,null)}function tb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wa(s):(s=Ao(e)?cd:bs.current,i.context=Wh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(eb(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&t1.enqueueReplaceState(i,i.state,null),zv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xh(t,e){try{var n="",r=e;do n+=a6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function n2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jQ=typeof WeakMap=="function"?WeakMap:Map;function s3(t,e,n){n=_A(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jv||(Jv=!0,db=r),nb(t,e)},n}function o3(t,e,n){n=_A(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nb(t,e),typeof r!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jQ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WQ.bind(null,t,e,n),e.then(t,t))}function rS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_A(-1,1),e.tag=2,Rc(n,e,1))),n.lanes|=1),t)}var UQ=QA.ReactCurrentOwner,ao=!1;function Os(t,e,n,r){e.child=t===null?UP(e,null,n,r):Jh(e,t.child,n,r)}function sS(t,e,n,r,i){n=n.render;var s=e.ref;return kh(e,i),r=xB(t,e,n,r,s,i),n=bB(),t!==null&&!ao?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,FA(t,e,i)):(hr&&n&&AB(e),e.flags|=1,Os(t,e,r,i),e.child)}function oS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!PB(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,a3(t,e,s,r,i)):(t=lv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cm,n(o,r)&&t.ref===e.ref)return FA(t,e,i)}return e.flags|=1,t=Qc(s,r),t.ref=e.ref,t.return=e,e.child=t}function a3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cm(s,r)&&t.ref===e.ref)if(ao=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ao=!0);else return e.lanes=t.lanes,FA(t,e,i)}return rb(t,e,n,r,i)}function l3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(Ih,Ro),Ro|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sr(Ih,Ro),Ro|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,sr(Ih,Ro),Ro|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,sr(Ih,Ro),Ro|=r;return Os(t,e,i,n),e.child}function A3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rb(t,e,n,r,i){var s=Ao(n)?cd:bs.current;return s=Wh(e,s),kh(e,i),n=xB(t,e,n,r,s,i),r=bB(),t!==null&&!ao?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,FA(t,e,i)):(hr&&r&&AB(e),e.flags|=1,Os(t,e,n,i),e.child)}function aS(t,e,n,r,i){if(Ao(n)){var s=!0;Qv(e)}else s=!1;if(kh(e,i),e.stateNode===null)sv(t,e),i3(e,n,r),tb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wa(u):(u=Ao(n)?cd:bs.current,u=Wh(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&tS(e,o,r,u),fc=!1;var p=e.memoizedState;o.state=p,zv(e,r,o,i),a=e.memoizedState,l!==r||p!==a||lo.current||fc?(typeof c=="function"&&(eb(e,n,c,r),a=e.memoizedState),(l=fc||eS(e,n,l,r,p,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RP(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ga(e.type,l),o.props=u,h=e.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=wa(a):(a=Ao(n)?cd:bs.current,a=Wh(e,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&tS(e,o,r,a),fc=!1,p=e.memoizedState,o.state=p,zv(e,r,o,i);var b=e.memoizedState;l!==h||p!==b||lo.current||fc?(typeof m=="function"&&(eb(e,n,m,r),b=e.memoizedState),(u=fc||eS(e,n,u,r,p,b,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ib(t,e,n,r,s,i)}function ib(t,e,n,r,i,s){A3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$5(e,n,!1),FA(t,e,s);r=e.stateNode,UQ.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jh(e,t.child,null,s),e.child=Jh(e,null,l,s)):Os(t,e,l,s),e.memoizedState=r.state,i&&$5(e,n,!0),e.child}function c3(t){var e=t.stateNode;e.pendingContext?z5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z5(t,e.context,!1),gB(t,e.containerInfo)}function lS(t,e,n,r,i){return qh(),uB(i),e.flags|=256,Os(t,e,n,r),e.child}var sb={dehydrated:null,treeContext:null,retryLane:0};function ob(t){return{baseLanes:t,cachePool:null,transitions:null}}function u3(t,e,n){var r=e.pendingProps,i=vr.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),sr(vr,i&1),t===null)return Xx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=i1(o,r,0,null),t=Xu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ob(n),e.memoizedState=sb,t):CB(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return kQ(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Qc(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Qc(l,s):(s=Xu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ob(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sb,r}return s=t.child,t=s.sibling,r=Qc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function CB(t,e){return e=i1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qg(t,e,n,r){return r!==null&&uB(r),Jh(e,t.child,null,n),t=CB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kQ(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=n2(Error(at(422))),qg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=i1({mode:"visible",children:r.children},i,0,null),s=Xu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jh(e,t.child,null,o),e.child.memoizedState=ob(o),e.memoizedState=sb,s);if(!(e.mode&1))return qg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(at(419)),r=n2(s,r,void 0),qg(t,e,o,r)}if(l=(o&t.childLanes)!==0,ao||l){if(r=Ti,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,TA(t,i),rl(r,t,i,-1))}return FB(),r=n2(Error(at(421))),qg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qQ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Oo=kc(i.nextSibling),Ho=e,hr=!0,Ja=null,t!==null&&(ua[da++]=mA,ua[da++]=gA,ua[da++]=ud,mA=t.id,gA=t.overflow,ud=e),e=CB(e,r.children),e.flags|=4096,e)}function AS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zx(t.return,e,n)}function r2(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function d3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Os(t,e,r.children,n),r=vr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AS(t,n,e);else if(t.tag===19)AS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(sr(vr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$v(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),r2(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$v(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}r2(e,!0,n,null,s);break;case"together":r2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function FA(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(at(153));if(e.child!==null){for(t=e.child,n=Qc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RQ(t,e,n){switch(e.tag){case 3:c3(e),qh();break;case 5:OP(e);break;case 1:Ao(e.type)&&Qv(e);break;case 4:gB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;sr(Vv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sr(vr,vr.current&1),e.flags|=128,null):n&e.child.childLanes?u3(t,e,n):(sr(vr,vr.current&1),t=FA(t,e,n),t!==null?t.sibling:null);sr(vr,vr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return d3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(vr,vr.current),r)break;return null;case 22:case 23:return e.lanes=0,l3(t,e,n)}return FA(t,e,n)}var h3,ab,f3,p3;h3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ab=function(){};f3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vu(Dl.current);var s=null;switch(n){case"input":i=Nx(t,i),r=Nx(t,r),s=[];break;case"select":i=wr({},i,{value:void 0}),r=wr({},r,{value:void 0}),s=[];break;case"textarea":i=Px(t,i),r=Px(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ov)}jx(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rm.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&or("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};p3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qf(t,e){if(!hr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function As(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OQ(t,e,n){var r=e.pendingProps;switch(cB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return As(e),null;case 1:return Ao(e.type)&&Dv(),As(e),null;case 3:return r=e.stateNode,Yh(),Ar(lo),Ar(bs),yB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ja!==null&&(pb(Ja),Ja=null))),ab(t,e),As(e),null;case 5:vB(e);var i=Vu(pm.current);if(n=e.type,t!==null&&e.stateNode!=null)f3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(at(166));return As(e),null}if(t=Vu(Dl.current),Gg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ll]=e,r[hm]=s,t=(e.mode&1)!==0,n){case"dialog":or("cancel",r),or("close",r);break;case"iframe":case"object":case"embed":or("load",r);break;case"video":case"audio":for(i=0;i<sp.length;i++)or(sp[i],r);break;case"source":or("error",r);break;case"img":case"image":case"link":or("error",r),or("load",r);break;case"details":or("toggle",r);break;case"input":v5(r,s),or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},or("invalid",r);break;case"textarea":w5(r,s),or("invalid",r)}jx(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$g(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$g(r.textContent,l,t),i=["children",""+l]):rm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&or("scroll",r)}switch(n){case"input":Og(r),y5(r,s,!0);break;case"textarea":Og(r),x5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ov)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ll]=e,t[hm]=r,h3(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ux(n,r),n){case"dialog":or("cancel",t),or("close",t),i=r;break;case"iframe":case"object":case"embed":or("load",t),i=r;break;case"video":case"audio":for(i=0;i<sp.length;i++)or(sp[i],t);i=r;break;case"source":or("error",t),i=r;break;case"img":case"image":case"link":or("error",t),or("load",t),i=r;break;case"details":or("toggle",t),i=r;break;case"input":v5(t,r),i=Nx(t,r),or("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wr({},r,{value:void 0}),or("invalid",t);break;case"textarea":w5(t,r),i=Px(t,r),or("invalid",t);break;default:i=r}jx(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?$F(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&KF(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&im(t,a):typeof a=="number"&&im(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rm.hasOwnProperty(s)?a!=null&&s==="onScroll"&&or("scroll",t):a!=null&&q_(t,s,a,o))}switch(n){case"input":Og(t),y5(t,r,!1);break;case"textarea":Og(t),x5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ph(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ph(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ov)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return As(e),null;case 6:if(t&&e.stateNode!=null)p3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(at(166));if(n=Vu(pm.current),Vu(Dl.current),Gg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ll]=e,(s=r.nodeValue!==n)&&(t=Ho,t!==null))switch(t.tag){case 3:$g(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$g(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ll]=e,e.stateNode=r}return As(e),null;case 13:if(Ar(vr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hr&&Oo!==null&&e.mode&1&&!(e.flags&128))LP(),qh(),e.flags|=98560,s=!1;else if(s=Gg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(at(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(at(317));s[Ll]=e}else qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;As(e),s=!1}else Ja!==null&&(pb(Ja),Ja=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vr.current&1?gi===0&&(gi=3):FB())),e.updateQueue!==null&&(e.flags|=4),As(e),null);case 4:return Yh(),ab(t,e),t===null&&um(e.stateNode.containerInfo),As(e),null;case 10:return fB(e.type._context),As(e),null;case 17:return Ao(e.type)&&Dv(),As(e),null;case 19:if(Ar(vr),s=e.memoizedState,s===null)return As(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qf(s,!1);else{if(gi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$v(t),o!==null){for(e.flags|=128,Qf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return sr(vr,vr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vr()>Zh&&(e.flags|=128,r=!0,Qf(s,!1),e.lanes=4194304)}else{if(!r)if(t=$v(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!hr)return As(e),null}else 2*Vr()-s.renderingStartTime>Zh&&n!==1073741824&&(e.flags|=128,r=!0,Qf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vr(),e.sibling=null,n=vr.current,sr(vr,r?n&1|2:n&1),e):(As(e),null);case 22:case 23:return TB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ro&1073741824&&(As(e),e.subtreeFlags&6&&(e.flags|=8192)):As(e),null;case 24:return null;case 25:return null}throw Error(at(156,e.tag))}function DQ(t,e){switch(cB(e),e.tag){case 1:return Ao(e.type)&&Dv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yh(),Ar(lo),Ar(bs),yB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vB(e),null;case 13:if(Ar(vr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(at(340));qh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ar(vr),null;case 4:return Yh(),null;case 10:return fB(e.type._context),null;case 22:case 23:return TB(),null;case 24:return null;default:return null}}var Jg=!1,ys=!1,QQ=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Sh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ir(t,e,r)}else n.current=null}function lb(t,e,n){try{n()}catch(r){Ir(t,e,r)}}var cS=!1;function MQ(t,e){if(zx=Uv,t=wP(),lB(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===i&&(l=o),p===s&&++c===r&&(a=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for($x={focusedElem:t,selectionRange:n},Uv=!1,Ct=e;Ct!==null;)if(e=Ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ct=t;else for(;Ct!==null;){e=Ct;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,C=b.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ga(e.type,_),C);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(F){Ir(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,Ct=t;break}Ct=e.return}return b=cS,cS=!1,b}function Tp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lb(e,n,s)}i=i.next}while(i!==r)}}function n1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ab(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function m3(t){var e=t.alternate;e!==null&&(t.alternate=null,m3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ll],delete e[hm],delete e[qx],delete e[_Q],delete e[BQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function g3(t){return t.tag===5||t.tag===3||t.tag===4}function uS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ov));else if(r!==4&&(t=t.child,t!==null))for(cb(t,e,n),t=t.sibling;t!==null;)cb(t,e,n),t=t.sibling}function ub(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ub(t,e,n),t=t.sibling;t!==null;)ub(t,e,n),t=t.sibling}var zi=null,qa=!1;function ic(t,e,n){for(n=n.child;n!==null;)v3(t,e,n),n=n.sibling}function v3(t,e,n){if(Ol&&typeof Ol.onCommitFiberUnmount=="function")try{Ol.onCommitFiberUnmount(Wy,n)}catch{}switch(n.tag){case 5:ys||Sh(n,e);case 6:var r=zi,i=qa;zi=null,ic(t,e,n),zi=r,qa=i,zi!==null&&(qa?(t=zi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zi.removeChild(n.stateNode));break;case 18:zi!==null&&(qa?(t=zi,n=n.stateNode,t.nodeType===8?Jw(t.parentNode,n):t.nodeType===1&&Jw(t,n),lm(t)):Jw(zi,n.stateNode));break;case 4:r=zi,i=qa,zi=n.stateNode.containerInfo,qa=!0,ic(t,e,n),zi=r,qa=i;break;case 0:case 11:case 14:case 15:if(!ys&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lb(n,e,o),i=i.next}while(i!==r)}ic(t,e,n);break;case 1:if(!ys&&(Sh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ir(n,e,l)}ic(t,e,n);break;case 21:ic(t,e,n);break;case 22:n.mode&1?(ys=(r=ys)||n.memoizedState!==null,ic(t,e,n),ys=r):ic(t,e,n);break;default:ic(t,e,n)}}function dS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QQ),e.forEach(function(r){var i=JQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Va(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:zi=l.stateNode,qa=!1;break e;case 3:zi=l.stateNode.containerInfo,qa=!0;break e;case 4:zi=l.stateNode.containerInfo,qa=!0;break e}l=l.return}if(zi===null)throw Error(at(160));v3(s,o,i),zi=null,qa=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ir(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)y3(e,t),e=e.sibling}function y3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Va(e,t),Cl(t),r&4){try{Tp(3,t,t.return),n1(3,t)}catch(_){Ir(t,t.return,_)}try{Tp(5,t,t.return)}catch(_){Ir(t,t.return,_)}}break;case 1:Va(e,t),Cl(t),r&512&&n!==null&&Sh(n,n.return);break;case 5:if(Va(e,t),Cl(t),r&512&&n!==null&&Sh(n,n.return),t.flags&32){var i=t.stateNode;try{im(i,"")}catch(_){Ir(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&MF(i,s),Ux(l,o);var u=Ux(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?$F(i,h):c==="dangerouslySetInnerHTML"?KF(i,h):c==="children"?im(i,h):q_(i,c,h,u)}switch(l){case"input":Tx(i,s);break;case"textarea":HF(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ph(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ph(i,!!s.multiple,s.defaultValue,!0):Ph(i,!!s.multiple,s.multiple?[]:"",!1))}i[hm]=s}catch(_){Ir(t,t.return,_)}}break;case 6:if(Va(e,t),Cl(t),r&4){if(t.stateNode===null)throw Error(at(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ir(t,t.return,_)}}break;case 3:if(Va(e,t),Cl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lm(e.containerInfo)}catch(_){Ir(t,t.return,_)}break;case 4:Va(e,t),Cl(t);break;case 13:Va(e,t),Cl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(IB=Vr())),r&4&&dS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ys=(u=ys)||c,Va(e,t),ys=u):Va(e,t),Cl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ct=t,c=t.child;c!==null;){for(h=Ct=c;Ct!==null;){switch(p=Ct,m=p.child,p.tag){case 0:case 11:case 14:case 15:Tp(4,p,p.return);break;case 1:Sh(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){Ir(r,n,_)}}break;case 5:Sh(p,p.return);break;case 22:if(p.memoizedState!==null){fS(h);continue}}m!==null?(m.return=p,Ct=m):fS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=zF("display",o))}catch(_){Ir(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ir(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Va(e,t),Cl(t),r&4&&dS(t);break;case 21:break;default:Va(e,t),Cl(t)}}function Cl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(g3(n)){var r=n;break e}n=n.return}throw Error(at(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(im(i,""),r.flags&=-33);var s=uS(t);ub(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=uS(t);cb(t,l,o);break;default:throw Error(at(161))}}catch(a){Ir(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HQ(t,e,n){Ct=t,w3(t)}function w3(t,e,n){for(var r=(t.mode&1)!==0;Ct!==null;){var i=Ct,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jg;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ys;l=Jg;var u=ys;if(Jg=o,(ys=a)&&!u)for(Ct=i;Ct!==null;)o=Ct,a=o.child,o.tag===22&&o.memoizedState!==null?pS(i):a!==null?(a.return=o,Ct=a):pS(i);for(;s!==null;)Ct=s,w3(s),s=s.sibling;Ct=i,Jg=l,ys=u}hS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ct=s):hS(t)}}function hS(t){for(;Ct!==null;){var e=Ct;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ys||n1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ys)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ga(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Y5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y5(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&lm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(at(163))}ys||e.flags&512&&Ab(e)}catch(p){Ir(e,e.return,p)}}if(e===t){Ct=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ct=n;break}Ct=e.return}}function fS(t){for(;Ct!==null;){var e=Ct;if(e===t){Ct=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ct=n;break}Ct=e.return}}function pS(t){for(;Ct!==null;){var e=Ct;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{n1(4,e)}catch(a){Ir(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ir(e,i,a)}}var s=e.return;try{Ab(e)}catch(a){Ir(e,s,a)}break;case 5:var o=e.return;try{Ab(e)}catch(a){Ir(e,o,a)}}}catch(a){Ir(e,e.return,a)}if(e===t){Ct=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ct=l;break}Ct=e.return}}var VQ=Math.ceil,qv=QA.ReactCurrentDispatcher,EB=QA.ReactCurrentOwner,ya=QA.ReactCurrentBatchConfig,In=0,Ti=null,ri=null,Xi=0,Ro=0,Ih=cu(0),gi=0,ym=null,hd=0,r1=0,SB=0,Fp=null,so=null,IB=0,Zh=1/0,fA=null,Jv=!1,db=null,Oc=null,Yg=!1,Ec=null,Yv=0,Pp=0,hb=null,ov=-1,av=0;function Ds(){return In&6?Vr():ov!==-1?ov:ov=Vr()}function Dc(t){return t.mode&1?In&2&&Xi!==0?Xi&-Xi:EQ.transition!==null?(av===0&&(av=iP()),av):(t=Kn,t!==0||(t=window.event,t=t===void 0?16:uP(t.type)),t):1}function rl(t,e,n,r){if(50<Pp)throw Pp=0,hb=null,Error(at(185));Wm(t,n,r),(!(In&2)||t!==Ti)&&(t===Ti&&(!(In&2)&&(r1|=n),gi===4&&vc(t,Xi)),co(t,r),n===1&&In===0&&!(e.mode&1)&&(Zh=Vr()+500,Zy&&uu()))}function co(t,e){var n=t.callbackNode;E6(t,e);var r=jv(t,t===Ti?Xi:0);if(r===0)n!==null&&B5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B5(n),e===1)t.tag===0?CQ(mS.bind(null,t)):TP(mS.bind(null,t)),xQ(function(){!(In&6)&&uu()}),n=null;else{switch(sP(r)){case 1:n=eB;break;case 4:n=nP;break;case 16:n=Lv;break;case 536870912:n=rP;break;default:n=Lv}n=I3(n,x3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x3(t,e){if(ov=-1,av=0,In&6)throw Error(at(327));var n=t.callbackNode;if(Rh()&&t.callbackNode!==n)return null;var r=jv(t,t===Ti?Xi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xv(t,r);else{e=r;var i=In;In|=2;var s=_3();(Ti!==t||Xi!==e)&&(fA=null,Zh=Vr()+500,Yu(t,e));do try{$Q();break}catch(l){b3(t,l)}while(1);hB(),qv.current=s,In=i,ri!==null?e=0:(Ti=null,Xi=0,e=gi)}if(e!==0){if(e===2&&(i=Qx(t),i!==0&&(r=i,e=fb(t,i))),e===1)throw n=ym,Yu(t,0),vc(t,r),co(t,Vr()),n;if(e===6)vc(t,r);else{if(i=t.current.alternate,!(r&30)&&!KQ(i)&&(e=Xv(t,r),e===2&&(s=Qx(t),s!==0&&(r=s,e=fb(t,s))),e===1))throw n=ym,Yu(t,0),vc(t,r),co(t,Vr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(at(345));case 2:ku(t,so,fA);break;case 3:if(vc(t,r),(r&130023424)===r&&(e=IB+500-Vr(),10<e)){if(jv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ds(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wx(ku.bind(null,t,so,fA),e);break}ku(t,so,fA);break;case 4:if(vc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VQ(r/1960))-r,10<r){t.timeoutHandle=Wx(ku.bind(null,t,so,fA),r);break}ku(t,so,fA);break;case 5:ku(t,so,fA);break;default:throw Error(at(329))}}}return co(t,Vr()),t.callbackNode===n?x3.bind(null,t):null}function fb(t,e){var n=Fp;return t.current.memoizedState.isDehydrated&&(Yu(t,e).flags|=256),t=Xv(t,e),t!==2&&(e=so,so=n,e!==null&&pb(e)),t}function pb(t){so===null?so=t:so.push.apply(so,t)}function KQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sl(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vc(t,e){for(e&=~SB,e&=~r1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nl(e),r=1<<n;t[n]=-1,e&=~r}}function mS(t){if(In&6)throw Error(at(327));Rh();var e=jv(t,0);if(!(e&1))return co(t,Vr()),null;var n=Xv(t,e);if(t.tag!==0&&n===2){var r=Qx(t);r!==0&&(e=r,n=fb(t,r))}if(n===1)throw n=ym,Yu(t,0),vc(t,e),co(t,Vr()),n;if(n===6)throw Error(at(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ku(t,so,fA),co(t,Vr()),null}function NB(t,e){var n=In;In|=1;try{return t(e)}finally{In=n,In===0&&(Zh=Vr()+500,Zy&&uu())}}function fd(t){Ec!==null&&Ec.tag===0&&!(In&6)&&Rh();var e=In;In|=1;var n=ya.transition,r=Kn;try{if(ya.transition=null,Kn=1,t)return t()}finally{Kn=r,ya.transition=n,In=e,!(In&6)&&uu()}}function TB(){Ro=Ih.current,Ar(Ih)}function Yu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wQ(n)),ri!==null)for(n=ri.return;n!==null;){var r=n;switch(cB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dv();break;case 3:Yh(),Ar(lo),Ar(bs),yB();break;case 5:vB(r);break;case 4:Yh();break;case 13:Ar(vr);break;case 19:Ar(vr);break;case 10:fB(r.type._context);break;case 22:case 23:TB()}n=n.return}if(Ti=t,ri=t=Qc(t.current,null),Xi=Ro=e,gi=0,ym=null,SB=r1=hd=0,so=Fp=null,Hu!==null){for(e=0;e<Hu.length;e++)if(n=Hu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hu=null}return t}function b3(t,e){do{var n=ri;try{if(hB(),rv.current=Wv,Gv){for(var r=yr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gv=!1}if(dd=0,Ni=fi=yr=null,Np=!1,mm=0,EB.current=null,n===null||n.return===null){gi=1,ym=e,ri=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Xi,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=rS(o);if(m!==null){m.flags&=-257,iS(m,o,l,s,e),m.mode&1&&nS(s,u,e),e=m,a=u;var b=e.updateQueue;if(b===null){var _=new Set;_.add(a),e.updateQueue=_}else b.add(a);break e}else{if(!(e&1)){nS(s,u,e),FB();break e}a=Error(at(426))}}else if(hr&&l.mode&1){var C=rS(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),iS(C,o,l,s,e),uB(Xh(a,l));break e}}s=a=Xh(a,l),gi!==4&&(gi=2),Fp===null?Fp=[s]:Fp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=s3(s,a,e);J5(s,w);break e;case 1:l=a;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Oc===null||!Oc.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=o3(s,l,e);J5(s,F);break e}}s=s.return}while(s!==null)}C3(n)}catch(M){e=M,ri===n&&n!==null&&(ri=n=n.return);continue}break}while(1)}function _3(){var t=qv.current;return qv.current=Wv,t===null?Wv:t}function FB(){(gi===0||gi===3||gi===2)&&(gi=4),Ti===null||!(hd&268435455)&&!(r1&268435455)||vc(Ti,Xi)}function Xv(t,e){var n=In;In|=2;var r=_3();(Ti!==t||Xi!==e)&&(fA=null,Yu(t,e));do try{zQ();break}catch(i){b3(t,i)}while(1);if(hB(),In=n,qv.current=r,ri!==null)throw Error(at(261));return Ti=null,Xi=0,gi}function zQ(){for(;ri!==null;)B3(ri)}function $Q(){for(;ri!==null&&!g6();)B3(ri)}function B3(t){var e=S3(t.alternate,t,Ro);t.memoizedProps=t.pendingProps,e===null?C3(t):ri=e,EB.current=null}function C3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DQ(n,e),n!==null){n.flags&=32767,ri=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gi=6,ri=null;return}}else if(n=OQ(n,e,Ro),n!==null){ri=n;return}if(e=e.sibling,e!==null){ri=e;return}ri=e=t}while(e!==null);gi===0&&(gi=5)}function ku(t,e,n){var r=Kn,i=ya.transition;try{ya.transition=null,Kn=1,GQ(t,e,n,r)}finally{ya.transition=i,Kn=r}return null}function GQ(t,e,n,r){do Rh();while(Ec!==null);if(In&6)throw Error(at(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(at(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(S6(t,s),t===Ti&&(ri=Ti=null,Xi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yg||(Yg=!0,I3(Lv,function(){return Rh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ya.transition,ya.transition=null;var o=Kn;Kn=1;var l=In;In|=4,EB.current=null,MQ(t,n),y3(n,t),hQ($x),Uv=!!zx,$x=zx=null,t.current=n,HQ(n),v6(),In=l,Kn=o,ya.transition=s}else t.current=n;if(Yg&&(Yg=!1,Ec=t,Yv=i),s=t.pendingLanes,s===0&&(Oc=null),x6(n.stateNode),co(t,Vr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jv)throw Jv=!1,t=db,db=null,t;return Yv&1&&t.tag!==0&&Rh(),s=t.pendingLanes,s&1?t===hb?Pp++:(Pp=0,hb=t):Pp=0,uu(),null}function Rh(){if(Ec!==null){var t=sP(Yv),e=ya.transition,n=Kn;try{if(ya.transition=null,Kn=16>t?16:t,Ec===null)var r=!1;else{if(t=Ec,Ec=null,Yv=0,In&6)throw Error(at(331));var i=In;for(In|=4,Ct=t.current;Ct!==null;){var s=Ct,o=s.child;if(Ct.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Ct=u;Ct!==null;){var c=Ct;switch(c.tag){case 0:case 11:case 15:Tp(8,c,s)}var h=c.child;if(h!==null)h.return=c,Ct=h;else for(;Ct!==null;){c=Ct;var p=c.sibling,m=c.return;if(m3(c),c===u){Ct=null;break}if(p!==null){p.return=m,Ct=p;break}Ct=m}}}var b=s.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}Ct=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ct=o;else e:for(;Ct!==null;){if(s=Ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tp(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ct=w;break e}Ct=s.return}}var y=t.current;for(Ct=y;Ct!==null;){o=Ct;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Ct=E;else e:for(o=y;Ct!==null;){if(l=Ct,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:n1(9,l)}}catch(M){Ir(l,l.return,M)}if(l===o){Ct=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,Ct=F;break e}Ct=l.return}}if(In=i,uu(),Ol&&typeof Ol.onPostCommitFiberRoot=="function")try{Ol.onPostCommitFiberRoot(Wy,t)}catch{}r=!0}return r}finally{Kn=n,ya.transition=e}}return!1}function gS(t,e,n){e=Xh(n,e),e=s3(t,e,1),t=Rc(t,e,1),e=Ds(),t!==null&&(Wm(t,1,e),co(t,e))}function Ir(t,e,n){if(t.tag===3)gS(t,t,n);else for(;e!==null;){if(e.tag===3){gS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oc===null||!Oc.has(r))){t=Xh(n,t),t=o3(e,t,1),e=Rc(e,t,1),t=Ds(),e!==null&&(Wm(e,1,t),co(e,t));break}}e=e.return}}function WQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ds(),t.pingedLanes|=t.suspendedLanes&n,Ti===t&&(Xi&n)===n&&(gi===4||gi===3&&(Xi&130023424)===Xi&&500>Vr()-IB?Yu(t,0):SB|=n),co(t,e)}function E3(t,e){e===0&&(t.mode&1?(e=Mg,Mg<<=1,!(Mg&130023424)&&(Mg=4194304)):e=1);var n=Ds();t=TA(t,e),t!==null&&(Wm(t,e,n),co(t,n))}function qQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E3(t,n)}function JQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(at(314))}r!==null&&r.delete(e),E3(t,n)}var S3;S3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lo.current)ao=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ao=!1,RQ(t,e,n);ao=!!(t.flags&131072)}else ao=!1,hr&&e.flags&1048576&&FP(e,Hv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sv(t,e),t=e.pendingProps;var i=Wh(e,bs.current);kh(e,n),i=xB(null,e,r,t,i,n);var s=bB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ao(r)?(s=!0,Qv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mB(e),i.updater=t1,e.stateNode=i,i._reactInternals=e,tb(e,r,t,n),e=ib(null,e,r,!0,s,n)):(e.tag=0,hr&&s&&AB(e),Os(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XQ(r),t=Ga(r,t),i){case 0:e=rb(null,e,r,t,n);break e;case 1:e=aS(null,e,r,t,n);break e;case 11:e=sS(null,e,r,t,n);break e;case 14:e=oS(null,e,r,Ga(r.type,t),n);break e}throw Error(at(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ga(r,i),rb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ga(r,i),aS(t,e,r,i,n);case 3:e:{if(c3(e),t===null)throw Error(at(387));r=e.pendingProps,s=e.memoizedState,i=s.element,RP(t,e),zv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xh(Error(at(423)),e),e=lS(t,e,r,n,i);break e}else if(r!==i){i=Xh(Error(at(424)),e),e=lS(t,e,r,n,i);break e}else for(Oo=kc(e.stateNode.containerInfo.firstChild),Ho=e,hr=!0,Ja=null,n=UP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qh(),r===i){e=FA(t,e,n);break e}Os(t,e,r,n)}e=e.child}return e;case 5:return OP(e),t===null&&Xx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gx(r,i)?o=null:s!==null&&Gx(r,s)&&(e.flags|=32),A3(t,e),Os(t,e,o,n),e.child;case 6:return t===null&&Xx(e),null;case 13:return u3(t,e,n);case 4:return gB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jh(e,null,r,n):Os(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ga(r,i),sS(t,e,r,i,n);case 7:return Os(t,e,e.pendingProps,n),e.child;case 8:return Os(t,e,e.pendingProps.children,n),e.child;case 12:return Os(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,sr(Vv,r._currentValue),r._currentValue=o,s!==null)if(sl(s.value,o)){if(s.children===i.children&&!lo.current){e=FA(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=_A(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zx(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(at(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zx(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Os(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kh(e,n),i=wa(i),r=r(i),e.flags|=1,Os(t,e,r,n),e.child;case 14:return r=e.type,i=Ga(r,e.pendingProps),i=Ga(r.type,i),oS(t,e,r,i,n);case 15:return a3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ga(r,i),sv(t,e),e.tag=1,Ao(r)?(t=!0,Qv(e)):t=!1,kh(e,n),i3(e,r,i),tb(e,r,i,n),ib(null,e,r,!0,t,n);case 19:return d3(t,e,n);case 22:return l3(t,e,n)}throw Error(at(156,e.tag))};function I3(t,e){return tP(t,e)}function YQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(t,e,n,r){return new YQ(t,e,n,r)}function PB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XQ(t){if(typeof t=="function")return PB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y_)return 11;if(t===X_)return 14}return 2}function Qc(t,e){var n=t.alternate;return n===null?(n=ma(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lv(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")PB(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vh:return Xu(n.children,i,s,e);case J_:o=8,i|=8;break;case Cx:return t=ma(12,n,e,i|2),t.elementType=Cx,t.lanes=s,t;case Ex:return t=ma(13,n,e,i),t.elementType=Ex,t.lanes=s,t;case Sx:return t=ma(19,n,e,i),t.elementType=Sx,t.lanes=s,t;case OF:return i1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kF:o=10;break e;case RF:o=9;break e;case Y_:o=11;break e;case X_:o=14;break e;case hc:o=16,r=null;break e}throw Error(at(130,t==null?t:typeof t,""))}return e=ma(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xu(t,e,n,r){return t=ma(7,t,r,e),t.lanes=n,t}function i1(t,e,n,r){return t=ma(22,t,r,e),t.elementType=OF,t.lanes=n,t.stateNode={isHidden:!1},t}function i2(t,e,n){return t=ma(6,t,null,e),t.lanes=n,t}function s2(t,e,n){return e=ma(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZQ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dw(0),this.expirationTimes=Dw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LB(t,e,n,r,i,s,o,l,a){return t=new ZQ(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ma(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mB(s),t}function eM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N3(t){if(!t)return Yc;t=t._reactInternals;e:{if(bd(t)!==t||t.tag!==1)throw Error(at(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ao(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(at(171))}if(t.tag===1){var n=t.type;if(Ao(n))return NP(t,n,e)}return e}function T3(t,e,n,r,i,s,o,l,a){return t=LB(n,r,!0,t,i,s,o,l,a),t.context=N3(null),n=t.current,r=Ds(),i=Dc(n),s=_A(r,i),s.callback=e??null,Rc(n,s,i),t.current.lanes=i,Wm(t,i,r),co(t,r),t}function s1(t,e,n,r){var i=e.current,s=Ds(),o=Dc(i);return n=N3(n),e.context===null?e.context=n:e.pendingContext=n,e=_A(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rc(i,e,o),t!==null&&(rl(t,i,o,s),nv(t,i,o)),o}function Zv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jB(t,e){vS(t,e),(t=t.alternate)&&vS(t,e)}function tM(){return null}var F3=typeof reportError=="function"?reportError:function(t){console.error(t)};function UB(t){this._internalRoot=t}o1.prototype.render=UB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(at(409));s1(t,e,null,null)};o1.prototype.unmount=UB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fd(function(){s1(null,t,null,null)}),e[NA]=null}};function o1(t){this._internalRoot=t}o1.prototype.unstable_scheduleHydration=function(t){if(t){var e=lP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gc.length&&e!==0&&e<gc[n].priority;n++);gc.splice(n,0,t),n===0&&cP(t)}};function kB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function a1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yS(){}function nM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Zv(o);s.call(u)}}var o=T3(e,r,t,0,null,!1,!1,"",yS);return t._reactRootContainer=o,t[NA]=o.current,um(t.nodeType===8?t.parentNode:t),fd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Zv(a);l.call(u)}}var a=LB(t,0,!1,null,null,!1,!1,"",yS);return t._reactRootContainer=a,t[NA]=a.current,um(t.nodeType===8?t.parentNode:t),fd(function(){s1(e,a,n,r)}),a}function l1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Zv(o);l.call(a)}}s1(e,o,t,i)}else o=nM(n,e,t,i,r);return Zv(o)}oP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ip(e.pendingLanes);n!==0&&(tB(e,n|1),co(e,Vr()),!(In&6)&&(Zh=Vr()+500,uu()))}break;case 13:fd(function(){var r=TA(t,1);if(r!==null){var i=Ds();rl(r,t,1,i)}}),jB(t,1)}};nB=function(t){if(t.tag===13){var e=TA(t,134217728);if(e!==null){var n=Ds();rl(e,t,134217728,n)}jB(t,134217728)}};aP=function(t){if(t.tag===13){var e=Dc(t),n=TA(t,e);if(n!==null){var r=Ds();rl(n,t,e,r)}jB(t,e)}};lP=function(){return Kn};AP=function(t,e){var n=Kn;try{return Kn=t,e()}finally{Kn=n}};Rx=function(t,e,n){switch(e){case"input":if(Tx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xy(r);if(!i)throw Error(at(90));QF(r),Tx(r,i)}}}break;case"textarea":HF(t,n);break;case"select":e=n.value,e!=null&&Ph(t,!!n.multiple,e,!1)}};qF=NB;JF=fd;var rM={usingClientEntryPoint:!1,Events:[Jm,bh,Xy,GF,WF,NB]},Mf={findFiberByHostInstance:Mu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iM={bundleType:Mf.bundleType,version:Mf.version,rendererPackageName:Mf.rendererPackageName,rendererConfig:Mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:QA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZF(t),t===null?null:t.stateNode},findFiberByHostInstance:Mf.findFiberByHostInstance||tM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xg.isDisabled&&Xg.supportsFiber)try{Wy=Xg.inject(iM),Ol=Xg}catch{}}zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rM;zo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kB(e))throw Error(at(200));return eM(t,e,null,n)};zo.createRoot=function(t,e){if(!kB(t))throw Error(at(299));var n=!1,r="",i=F3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LB(t,1,!1,null,null,n,!1,r,i),t[NA]=e.current,um(t.nodeType===8?t.parentNode:t),new UB(e)};zo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(at(188)):(t=Object.keys(t).join(","),Error(at(268,t)));return t=ZF(e),t=t===null?null:t.stateNode,t};zo.flushSync=function(t){return fd(t)};zo.hydrate=function(t,e,n){if(!a1(e))throw Error(at(200));return l1(null,t,e,!0,n)};zo.hydrateRoot=function(t,e,n){if(!kB(t))throw Error(at(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=F3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=T3(e,null,t,1,n??null,i,!1,s,o),t[NA]=e.current,um(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new o1(e)};zo.render=function(t,e,n){if(!a1(e))throw Error(at(200));return l1(null,t,e,!1,n)};zo.unmountComponentAtNode=function(t){if(!a1(t))throw Error(at(40));return t._reactRootContainer?(fd(function(){l1(null,null,t,!1,function(){t._reactRootContainer=null,t[NA]=null})}),!0):!1};zo.unstable_batchedUpdates=NB;zo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!a1(n))throw Error(at(200));if(t==null||t._reactInternals===void 0)throw Error(at(38));return l1(t,e,n,!1,r)};zo.version="18.3.1-next-f1338f8080-20240426";function P3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P3)}catch(t){console.error(t)}}P3(),PF.exports=zo;var wm=PF.exports,L3,wS=wm;L3=wS.createRoot,wS.hydrateRoot;const uo=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function j3(){throw new Error("setTimeout has not been defined")}function U3(){throw new Error("clearTimeout has not been defined")}var Ac=j3,cc=U3;typeof uo.setTimeout=="function"&&(Ac=setTimeout);typeof uo.clearTimeout=="function"&&(cc=clearTimeout);function k3(t){if(Ac===setTimeout)return setTimeout(t,0);if((Ac===j3||!Ac)&&setTimeout)return Ac=setTimeout,setTimeout(t,0);try{return Ac(t,0)}catch{try{return Ac.call(null,t,0)}catch{return Ac.call(this,t,0)}}}function sM(t){if(cc===clearTimeout)return clearTimeout(t);if((cc===U3||!cc)&&clearTimeout)return cc=clearTimeout,clearTimeout(t);try{return cc(t)}catch{try{return cc.call(null,t)}catch{return cc.call(this,t)}}}var vA=[],Oh=!1,Ku,Av=-1;function oM(){!Oh||!Ku||(Oh=!1,Ku.length?vA=Ku.concat(vA):Av=-1,vA.length&&R3())}function R3(){if(!Oh){var t=k3(oM);Oh=!0;for(var e=vA.length;e;){for(Ku=vA,vA=[];++Av<e;)Ku&&Ku[Av].run();Av=-1,e=vA.length}Ku=null,Oh=!1,sM(t)}}function aM(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];vA.push(new O3(t,e)),vA.length===1&&!Oh&&k3(R3)}function O3(t,e){this.fun=t,this.array=e}O3.prototype.run=function(){this.fun.apply(null,this.array)};var lM="browser",AM="browser",cM=!0,uM={},dM=[],hM="",fM={},pM={},mM={};function _d(){}var gM=_d,vM=_d,yM=_d,wM=_d,xM=_d,bM=_d,_M=_d;function BM(t){throw new Error("process.binding is not supported")}function CM(){return"/"}function EM(t){throw new Error("process.chdir is not supported")}function SM(){return 0}var ah=uo.performance||{},IM=ah.now||ah.mozNow||ah.msNow||ah.oNow||ah.webkitNow||function(){return new Date().getTime()};function NM(t){var e=IM.call(ah)*.001,n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n=n-t[0],r=r-t[1],r<0&&(n--,r+=1e9)),[n,r]}var TM=new Date;function FM(){var t=new Date,e=t-TM;return e/1e3}var Lp={nextTick:aM,title:lM,browser:cM,env:uM,argv:dM,version:hM,versions:fM,on:gM,addListener:vM,once:yM,off:wM,removeListener:xM,removeAllListeners:bM,emit:_M,binding:BM,cwd:CM,chdir:EM,umask:SM,hrtime:NM,platform:AM,release:pM,config:mM,uptime:FM};const PM=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Q3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=s>>2,h=(s&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;a||(m=64,o||(p=64)),r.push(n[c],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new jM;const p=s<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UM=function(t){const e=D3(t);return Q3.encodeByteArray(e,!0)},ey=function(t){return UM(t).replace(/\./g,"")},M3=function(t){try{return Q3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof uo<"u")return uo;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=()=>kM().__FIREBASE_DEFAULTS__,OM=()=>{if(typeof Lp>"u"||typeof Lp.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M3(t[1]);return e&&JSON.parse(e)},A1=()=>{try{return PM()||RM()||OM()||DM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H3=t=>{var e,n;return(n=(e=A1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V3=t=>{const e=H3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K3=()=>{var t;return(t=A1())===null||t===void 0?void 0:t.config},z3=t=>{var e;return(e=A1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RB(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[ey(JSON.stringify(n)),ey(JSON.stringify(o)),l].join(".")}const jp={};function MM(){const t={prod:[],emulator:[]};for(const e of Object.keys(jp))jp[e]?t.emulator.push(e):t.prod.push(e);return t}function HM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xS=!1;function OB(t,e){if(typeof window>"u"||typeof document>"u"||!du(window.location.host)||jp[t]===e||jp[t]||xS)return;jp[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=MM().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function a(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{xS=!0,o()},p}function c(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=HM(r),m=n("text"),b=document.getElementById(m)||document.createElement("span"),_=n("learnmore"),C=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;l(E),c(C,_);const F=u();a(y,w),E.append(y,b,C,F),document.body.appendChild(E)}s?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_s())}function KM(){var t;const e=(t=A1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(uo.process)==="[object process]"}catch{return!1}}function zM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $M(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WM(){const t=_s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qM(){return!KM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JM(){try{return typeof indexedDB=="object"}catch{return!1}}function YM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="FirebaseError";class Jl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XM,Object.setPrototypeOf(this,Jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xm.prototype.create)}}class Xm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZM(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Jl(i,l,r)}}function ZM(t,e){return t.replace(e8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const e8=/\{\$([^}]+)}/g;function t8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bS(s)&&bS(o)){if(!pd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function op(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ap(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function n8(t,e){const n=new r8(t,e);return n.subscribe.bind(n)}class r8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=o2),i.error===void 0&&(i.error=o2),i.complete===void 0&&(i.complete=o2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function o2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Xc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a8(e))try{this.getOrInitializeService({instanceIdentifier:Ru})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ru){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ru){return this.instances.has(e)}getOptions(e=Ru){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ru){return this.component?this.component.multipleInstances?e:Ru:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o8(t){return t===Ru?void 0:t}function a8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wn||(wn={}));const A8={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},c8=wn.INFO,u8={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},d8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=u8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let DB=class{constructor(e){this.name=e,this._logLevel=c8,this._logHandler=d8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}};const h8=(t,e)=>e.some(n=>t instanceof n);let _S,BS;function f8(){return _S||(_S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p8(){return BS||(BS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G3=new WeakMap,mb=new WeakMap,W3=new WeakMap,a2=new WeakMap,QB=new WeakMap;function m8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G3.set(n,t)}).catch(()=>{}),QB.set(e,t),e}function g8(t){if(mb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mb.set(t,e)}let gb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v8(t){gb=t(gb)}function y8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(l2(this),e,...n);return W3.set(r,e.sort?e.sort():[e]),Mc(r)}:p8().includes(t)?function(...e){return t.apply(l2(this),e),Mc(G3.get(this))}:function(...e){return Mc(t.apply(l2(this),e))}}function w8(t){return typeof t=="function"?y8(t):(t instanceof IDBTransaction&&g8(t),h8(t,f8())?new Proxy(t,gb):t)}function Mc(t){if(t instanceof IDBRequest)return m8(t);if(a2.has(t))return a2.get(t);const e=w8(t);return e!==t&&(a2.set(t,e),QB.set(e,t)),e}const l2=t=>QB.get(t);function x8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Mc(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Mc(o.result),a.oldVersion,a.newVersion,Mc(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const b8=["get","getKey","getAll","getAllKeys","count"],_8=["put","add","delete","clear"],A2=new Map;function CS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(A2.get(e))return A2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b8.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return A2.set(e,s),s}v8(t=>({...t,get:(e,n,r)=>CS(e,n)||t.get(e,n,r),has:(e,n)=>!!CS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vb="@firebase/app",ES="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new DB("@firebase/app"),E8="@firebase/app-compat",S8="@firebase/analytics-compat",I8="@firebase/analytics",N8="@firebase/app-check-compat",T8="@firebase/app-check",F8="@firebase/auth",P8="@firebase/auth-compat",L8="@firebase/database",j8="@firebase/data-connect",U8="@firebase/database-compat",k8="@firebase/functions",R8="@firebase/functions-compat",O8="@firebase/installations",D8="@firebase/installations-compat",Q8="@firebase/messaging",M8="@firebase/messaging-compat",H8="@firebase/performance",V8="@firebase/performance-compat",K8="@firebase/remote-config",z8="@firebase/remote-config-compat",$8="@firebase/storage",G8="@firebase/storage-compat",W8="@firebase/firestore",q8="@firebase/ai",J8="@firebase/firestore-compat",Y8="firebase",X8="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="[DEFAULT]",Z8={[vb]:"fire-core",[E8]:"fire-core-compat",[I8]:"fire-analytics",[S8]:"fire-analytics-compat",[T8]:"fire-app-check",[N8]:"fire-app-check-compat",[F8]:"fire-auth",[P8]:"fire-auth-compat",[L8]:"fire-rtdb",[j8]:"fire-data-connect",[U8]:"fire-rtdb-compat",[k8]:"fire-fn",[R8]:"fire-fn-compat",[O8]:"fire-iid",[D8]:"fire-iid-compat",[Q8]:"fire-fcm",[M8]:"fire-fcm-compat",[H8]:"fire-perf",[V8]:"fire-perf-compat",[K8]:"fire-rc",[z8]:"fire-rc-compat",[$8]:"fire-gcs",[G8]:"fire-gcs-compat",[W8]:"fire-fst",[J8]:"fire-fst-compat",[q8]:"fire-vertex","fire-js":"fire-js",[Y8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Map,e7=new Map,wb=new Map;function SS(t,e){try{t.container.addComponent(e)}catch(n){PA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function md(t){const e=t.name;if(wb.has(e))return PA.debug(`There were multiple attempts to register component ${e}.`),!1;wb.set(e,t);for(const n of xm.values())SS(n,t);for(const n of e7.values())SS(n,t);return!0}function c1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hc=new Xm("app","Firebase",t7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=X8;function q3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Hc.create("bad-app-name",{appName:String(i)});if(n||(n=K3()),!n)throw Hc.create("no-options");const s=xm.get(i);if(s){if(pd(n,s.options)&&pd(r,s.config))return s;throw Hc.create("duplicate-app",{appName:i})}const o=new l8(i);for(const a of wb.values())o.addComponent(a);const l=new n7(n,r,o);return xm.set(i,l),l}function u1(t=yb){const e=xm.get(t);if(!e&&t===yb&&K3())return q3();if(!e)throw Hc.create("no-app",{appName:t});return e}function r7(){return Array.from(xm.values())}function Ql(t,e,n){var r;let i=(r=Z8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),PA.warn(l.join(" "));return}md(new Xc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="firebase-heartbeat-database",s7=1,bm="firebase-heartbeat-store";let c2=null;function J3(){return c2||(c2=x8(i7,s7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hc.create("idb-open",{originalErrorMessage:t.message})})),c2}async function o7(t){try{const n=(await J3()).transaction(bm),r=await n.objectStore(bm).get(Y3(t));return await n.done,r}catch(e){if(e instanceof Jl)PA.warn(e.message);else{const n=Hc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});PA.warn(n.message)}}}async function IS(t,e){try{const r=(await J3()).transaction(bm,"readwrite");await r.objectStore(bm).put(e,Y3(t)),await r.done}catch(n){if(n instanceof Jl)PA.warn(n.message);else{const r=Hc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});PA.warn(r.message)}}}function Y3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=1024,l7=30;class A7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>l7){const o=d7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){PA.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NS(),{heartbeatsToSend:r,unsentEntries:i}=c7(this._heartbeatsCache.heartbeats),s=ey(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return PA.warn(n),""}}}function NS(){return new Date().toISOString().substring(0,10)}function c7(t,e=a7){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JM()?YM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TS(t){return ey(JSON.stringify({version:2,heartbeats:t})).length}function d7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){md(new Xc("platform-logger",e=>new B8(e),"PRIVATE")),md(new Xc("heartbeat",e=>new A7(e),"PRIVATE")),Ql(vb,ES,t),Ql(vb,ES,"esm2017"),Ql("fire-js","")}h7("");function MB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pAe={PHONE:"phone",TOTP:"totp"},mAe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},gAe={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},vAe={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},yAe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function X3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wAe=f7,p7=X3,Z3=new Xm("auth","Firebase",X3()),xAe={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new DB("@firebase/auth");function m7(t,...e){ty.logLevel<=wn.WARN&&ty.warn(`Auth (${Bd}): ${t}`,...e)}function cv(t,...e){ty.logLevel<=wn.ERROR&&ty.error(`Auth (${Bd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,...e){throw VB(t,...e)}function Qs(t,...e){return VB(t,...e)}function HB(t,e,n){const r=Object.assign(Object.assign({},p7()),{[e]:n});return new Xm("auth","Firebase",r).create(e,{appName:t.name})}function Fi(t){return HB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ho(t,"argument-error"),HB(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function VB(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Z3.create(t,...e)}function lt(t,e,...n){if(!t)throw VB(e,...n)}function kl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cv(e),new Error(e)}function LA(t,e){t||kl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KB(){return FS()==="http:"||FS()==="https:"}function FS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KB()||$M()||"connection"in navigator)?navigator.onLine:!0}function v7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.shortDelay=e,this.longDelay=n,LA(n>e,"Short delay should be less than long delay!"),this.isMobile=VM()||GM()}get(){return g7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t,e){LA(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x7=new Zm(3e4,6e4);function cr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ur(t,e,n,r,i={}){return tL(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=df(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:a},s);return zM()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&du(t.emulatorConfig.host)&&(u.credentials="include"),eL.fetch()(await nL(t,t.config.apiHost,n,l),u)})}async function tL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y7),e);try{const i=new _7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw lp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw lp(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw lp(t,"user-disabled",o);const c=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HB(t,c,u);ho(t,c)}}catch(i){if(i instanceof Jl)throw i;ho(t,"network-request-failed",{message:String(i)})}}async function MA(t,e,n,r,i={}){const s=await ur(t,e,n,r,i);return"mfaPendingCredential"in s&&ho(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function nL(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?zB(t.config,i):`${t.config.apiScheme}://${i}`;return w7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function b7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qs(this.auth,"network-request-failed")),x7.get())})}}function lp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){return t!==void 0&&t.getResponse!==void 0}function LS(t){return t!==void 0&&t.enterprise!==void 0}class rL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t){return(await ur(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function iL(t,e){return ur(t,"GET","/v2/recaptchaConfig",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t,e){return ur(t,"POST","/v1/accounts:delete",e)}async function E7(t,e){return ur(t,"POST","/v1/accounts:update",e)}async function ny(t,e){return ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bAe(t,e=!1){return jt(t).getIdToken(e)}async function S7(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=d1(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Up(u2(i.auth_time)),issuedAtTime:Up(u2(i.iat)),expirationTime:Up(u2(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function u2(t){return Number(t)*1e3}function d1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cv("JWT malformed, contained fewer than 3 sections"),null;try{const i=M3(n);return i?JSON.parse(i):(cv("Failed to decode base64 JWT payload"),null)}catch(i){return cv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jS(t){const e=d1(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jl&&I7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Up(this.lastLoginAt),this.creationTime=Up(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jA(t,ny(n,{idToken:r}));lt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sL(s.providerUserInfo):[],l=F7(t.providerData,o),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),c=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new xb(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function T7(t){const e=jt(t);await Bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sL(t){return t.map(e=>{var{providerId:n}=e,r=MB(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,e){const n=await tL(t,{},async()=>{const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await nL(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:l,body:r};return t.emulatorConfig&&du(t.emulatorConfig.host)&&(a.credentials="include"),eL.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L7(t,e){return ur(t,"POST","/v2/accounts:revokeToken",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=jS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await P7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Dh;return r&&(lt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(lt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dh,this.toJSON())}_performRefresh(){return kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class el{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=MB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jA(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S7(this,e)}reload(){return T7(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new el(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await jA(this,C7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,a,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:F,isAnonymous:M,providerData:k,stsTokenManager:N}=n;lt(E&&N,e,"internal-error");const S=Dh.fromJSON(this.name,N);lt(typeof E=="string",e,"internal-error"),sc(h,e.name),sc(p,e.name),lt(typeof F=="boolean",e,"internal-error"),lt(typeof M=="boolean",e,"internal-error"),sc(m,e.name),sc(b,e.name),sc(_,e.name),sc(C,e.name),sc(w,e.name),sc(y,e.name);const O=new el({uid:E,auth:e,email:p,emailVerified:F,displayName:h,isAnonymous:M,photoURL:b,phoneNumber:m,tenantId:_,stsTokenManager:S,createdAt:w,lastLoginAt:y});return k&&Array.isArray(k)&&(O.providerData=k.map(H=>Object.assign({},H))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dh;i.updateFromServerResponse(n);const s=new el({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Dh;l.updateFromIdToken(r);const a=new el({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(a,u),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new Map;function yA(t){LA(t instanceof Function,"Expected a class definition");let e=US.get(t);return e?(LA(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,US.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oL.type="NONE";const kS=oL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e,n){return`firebase:${t}:${e}:${n}`}class Qh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uv(this.userKey,i.apiKey,s),this.fullPersistenceKey=uv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ny(this.auth,{idToken:e}).catch(()=>{});return n?el._fromGetAccountInfoResponse(this.auth,n,e):null}return el._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qh(yA(kS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||yA(kS);const o=uv(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){let h;if(typeof c=="string"){const p=await ny(e,{idToken:c}).catch(()=>{});if(!p)break;h=await el._fromGetAccountInfoResponse(e,p,c)}else h=el._fromJSON(e,c);u!==s&&(l=h),s=u;break}}catch{}const a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Qh(s,e,r):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dL(e))return"Blackberry";if(hL(e))return"Webos";if(lL(e))return"Safari";if((e.includes("chrome/")||AL(e))&&!e.includes("edge/"))return"Chrome";if(uL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aL(t=_s()){return/firefox\//i.test(t)}function lL(t=_s()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AL(t=_s()){return/crios\//i.test(t)}function cL(t=_s()){return/iemobile/i.test(t)}function uL(t=_s()){return/android/i.test(t)}function dL(t=_s()){return/blackberry/i.test(t)}function hL(t=_s()){return/webos/i.test(t)}function $B(t=_s()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j7(t=_s()){var e;return $B(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U7(){return WM()&&document.documentMode===10}function fL(t=_s()){return $B(t)||uL(t)||hL(t)||dL(t)||/windows phone/i.test(t)||cL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t,e=[]){let n;switch(t){case"Browser":n=RS(_s());break;case"Worker":n=`${RS(_s())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(t,e={}){return ur(t,"GET","/v2/passwordPolicy",cr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=6;class D7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OS(this),this.idTokenSubscription=new OS(this),this.beforeStateQueue=new k7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yA(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Qh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ny(this,{idToken:e}),r=await el._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Fi(this));const n=e?jt(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yA(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R7(this),n=new D7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yA(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await Qh.create(this,[yA(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&m7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pr(t){return jt(t)}class OS{constructor(e){this.auth=e,this.observer=null,this.addObserver=n8(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M7(t){eg=t}function GB(t){return eg.loadJS(t)}function H7(){return eg.recaptchaV2Script}function V7(){return eg.recaptchaEnterpriseScript}function K7(){return eg.gapiScript}function mL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=500,$7=6e4,Zg=1e12;class G7{constructor(e){this.auth=e,this.counter=Zg,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new J7(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Zg;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Zg;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Zg;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class W7{constructor(){this.enterprise=new q7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class J7{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;lt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Y7(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},$7)},z7))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Y7(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const X7="recaptcha-enterprise",kp="NO_RECAPTCHA";class gL{constructor(e){this.type=X7,this.auth=Pr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{iL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new rL(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{l(a)})})}function i(s,o,l){const a=window.grecaptcha;LS(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(kp)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W7().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&LS(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=V7();a.length!==0&&(a+=l),GB(a).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function Hf(t,e,n,r=!1,i=!1){const s=new gL(t);let o;if(i)o=kp;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const a=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const a=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Vc(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Hf(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Hf(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(l)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const l=await Hf(t,e,n);return r(t,l).catch(async a=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(a.code==="auth/missing-recaptcha-token"||a.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const c=await Hf(t,e,n,!1,!0);return r(t,c)}return Promise.reject(a)})}else{const l=await Hf(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(i+" provider is not supported.")}async function vL(t){const e=Pr(t),n=await iL(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new rL(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new gL(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t,e){const n=c1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(pd(s,e??{}))return i;ho(i,"already-initialized")}return n.initialize({options:e})}function eH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yA);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tH(t,e,n){const r=Pr(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=yL(e),{host:o,port:l}=nH(e),a=l===null?"":`:${l}`,u={url:`${s}//${o}${a}/`},c=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(pd(u,r.config.emulator)&&pd(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,du(o)?(RB(`${s}//${o}${a}`),OB("Auth",!0)):i||rH()}function yL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nH(t){const e=yL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:DS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:DS(o)}}}function DS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kl("not implemented")}_getIdTokenResponse(e){return kl("not implemented")}_linkToIdToken(e,n){return kl("not implemented")}_getReauthenticationResolver(e){return kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return ur(t,"POST","/v1/accounts:resetPassword",cr(t,e))}async function iH(t,e){return ur(t,"POST","/v1/accounts:update",e)}async function sH(t,e){return ur(t,"POST","/v1/accounts:signUp",e)}async function oH(t,e){return ur(t,"POST","/v1/accounts:update",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aH(t,e){return MA(t,"POST","/v1/accounts:signInWithPassword",cr(t,e))}async function h1(t,e){return ur(t,"POST","/v1/accounts:sendOobCode",cr(t,e))}async function lH(t,e){return h1(t,e)}async function AH(t,e){return h1(t,e)}async function cH(t,e){return h1(t,e)}async function uH(t,e){return h1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dH(t,e){return MA(t,"POST","/v1/accounts:signInWithEmailLink",cr(t,e))}async function hH(t,e){return MA(t,"POST","/v1/accounts:signInWithEmailLink",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends tg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vc(e,n,"signInWithPassword",aH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dH(e,{email:this._email,oobCode:this._password});default:ho(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vc(e,r,"signUpPassword",sH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hH(e,{idToken:n,email:this._email,oobCode:this._password});default:ho(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(t,e){return MA(t,"POST","/v1/accounts:signInWithIdp",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH="http://localhost";class UA extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new UA(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=MB(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new UA(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return BA(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,BA(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,BA(e,n)}buildRequest(){const e={requestUri:fH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(t,e){return ur(t,"POST","/v1/accounts:sendVerificationCode",cr(t,e))}async function pH(t,e){return MA(t,"POST","/v1/accounts:signInWithPhoneNumber",cr(t,e))}async function mH(t,e){const n=await MA(t,"POST","/v1/accounts:signInWithPhoneNumber",cr(t,e));if(n.temporaryProof)throw lp(t,"account-exists-with-different-credential",n);return n}const gH={USER_NOT_FOUND:"user-not-found"};async function vH(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return MA(t,"POST","/v1/accounts:signInWithPhoneNumber",cr(t,n),gH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends tg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Zu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Zu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return pH(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return mH(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return vH(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Zu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wH(t){const e=op(ap(t)).link,n=e?op(ap(e)).deep_link_id:null,r=op(ap(t)).deep_link_id;return(r?op(ap(r)).link:null)||r||n||e||t}class ng{constructor(e){var n,r,i,s,o,l;const a=op(ap(e)),u=(n=a.apiKey)!==null&&n!==void 0?n:null,c=(r=a.oobCode)!==null&&r!==void 0?r:null,h=yH((i=a.mode)!==null&&i!==void 0?i:null);lt(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=wH(e);try{return new ng(n)}catch{return null}}}function _Ae(t){return ng.parseLink(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.providerId=Cd.PROVIDER_ID}static credential(e,n){return Cm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ng.parseLink(n);return lt(r,"argument-error"),Cm._fromEmailAndCode(e,r.code,r.tenantId)}}Cd.PROVIDER_ID="password";Cd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends HA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dv extends ff{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return lt("providerId"in n&&"signInMethod"in n,"argument-error"),UA._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return lt(e.idToken||e.accessToken,"argument-error"),UA._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dv.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dv.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:l}=e;if(!r&&!i&&!n&&!s||!l)return null;try{return new dv(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends ff{constructor(){super("facebook.com")}static credential(e){return UA._fromParams({providerId:yc.PROVIDER_ID,signInMethod:yc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yc.credentialFromTaggedObject(e)}static credentialFromError(e){return yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yc.credential(e.oauthAccessToken)}catch{return null}}}yc.FACEBOOK_SIGN_IN_METHOD="facebook.com";yc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends ff{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return UA._fromParams({providerId:wc.PROVIDER_ID,signInMethod:wc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wc.credentialFromTaggedObject(e)}static credentialFromError(e){return wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wc.credential(n,r)}catch{return null}}}wc.GOOGLE_SIGN_IN_METHOD="google.com";wc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends ff{constructor(){super("github.com")}static credential(e){return UA._fromParams({providerId:xc.PROVIDER_ID,signInMethod:xc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xc.credentialFromTaggedObject(e)}static credentialFromError(e){return xc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xc.credential(e.oauthAccessToken)}catch{return null}}}xc.GITHUB_SIGN_IN_METHOD="github.com";xc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH="http://localhost";class Em extends tg{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return BA(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,BA(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,BA(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Em(r,s)}static _create(e,n){return new Em(e,n)}buildRequest(){return{requestUri:xH,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH="saml.";class bb extends HA{constructor(e){lt(e.startsWith(bH),"argument-error"),super(e)}static credentialFromResult(e){return bb.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return bb.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Em.fromJSON(e);return lt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Em._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends ff{constructor(){super("twitter.com")}static credential(e,n){return UA._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bc.credentialFromTaggedObject(e)}static credentialFromError(e){return bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bc.credential(n,r)}catch{return null}}}bc.TWITTER_SIGN_IN_METHOD="twitter.com";bc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e){return MA(t,"POST","/v1/accounts:signUp",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await el._fromIdTokenResponse(e,r,i),o=MS(r);return new ba({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=MS(r);return new ba({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function MS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BAe(t){var e;if(fr(t.app))return Promise.reject(Fi(t));const n=Pr(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ba({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await xL(n,{returnSecureToken:!0}),i=await ba._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends Jl{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ry.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ry(e,n,r,i)}}function bL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ry._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CAe(t,e){const n=jt(t);await f1(!0,n,e);const{providerUserInfo:r}=await E7(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=_L(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function WB(t,e,n=!1){const r=await jA(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ba._forOperation(t,"link",r)}async function f1(t,e,n){await Bm(e);const r=_L(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";lt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Fi(r));const i="reauthenticate";try{const s=await jA(t,bL(r,i,e,t),n);lt(s.idToken,r,"internal-error");const o=d1(s.idToken);lt(o,r,"internal-error");const{sub:l}=o;return lt(t.uid===l,r,"user-mismatch"),ba._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ho(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e,n=!1){if(fr(t.app))return Promise.reject(Fi(t));const r="signIn",i=await bL(t,r,e),s=await ba._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function qB(t,e){return CL(Pr(t),e)}async function _H(t,e){const n=jt(t);return await f1(!1,n,e.providerId),WB(n,e)}async function BH(t,e){return BL(jt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CH(t,e){return MA(t,"POST","/v1/accounts:signInWithCustomToken",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EAe(t,e){if(fr(t.app))return Promise.reject(Fi(t));const n=Pr(t),r=await CH(n,{token:e,returnSecureToken:!0}),i=await ba._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?JB._fromServerResponse(e,n):"totpInfo"in n?YB._fromServerResponse(e,n):ho(e,"internal-error")}}class JB extends rg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new JB(n)}}class YB extends rg{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new YB(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,n){var r;lt(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),lt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),lt(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(lt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(lt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(t){const e=Pr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SAe(t,e,n){const r=Pr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&p1(r,i,n),await Vc(r,i,"getOobCode",AH,"EMAIL_PASSWORD_PROVIDER")}async function IAe(t,e,n){await wL(jt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XB(t),r})}async function NAe(t,e){await oH(jt(t),{oobCode:e})}async function EH(t,e){const n=jt(t),r=await wL(n,{oobCode:e}),i=r.requestType;switch(lt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":lt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":lt(r.mfaInfo,n,"internal-error");default:lt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=rg._fromServerResponse(Pr(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function TAe(t,e){const{data:n}=await EH(jt(t),e);return n.email}async function SH(t,e,n){if(fr(t.app))return Promise.reject(Fi(t));const r=Pr(t),o=await Vc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xL,"EMAIL_PASSWORD_PROVIDER").catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&XB(t),a}),l=await ba._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function HS(t,e,n){return fr(t.app)?Promise.reject(Fi(t)):qB(jt(t),Cd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XB(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FAe(t,e,n){const r=Pr(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,l){lt(l.handleCodeInApp,r,"argument-error"),l&&p1(r,o,l)}s(i,n),await Vc(r,i,"getOobCode",cH,"EMAIL_PASSWORD_PROVIDER")}function PAe(t,e){const n=ng.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function LAe(t,e,n){if(fr(t.app))return Promise.reject(Fi(t));const r=jt(t),i=Cd.credentialWithLink(e,n||_m());return lt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),qB(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IH(t,e){return ur(t,"POST","/v1/accounts:createAuthUri",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jAe(t,e){const n=KB()?_m():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await IH(jt(t),r);return i||[]}async function UAe(t,e){const n=jt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&p1(n.auth,i,e);const{email:s}=await lH(n.auth,i);s!==t.email&&await t.reload()}async function kAe(t,e,n){const r=jt(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&p1(r.auth,s,n);const{email:o}=await uH(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t,e){return ur(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RAe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await jA(r,NH(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:a})=>a==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function OAe(t,e){const n=jt(t);return fr(n.auth.app)?Promise.reject(Fi(n.auth)):EL(n,e,null)}function DAe(t,e){return EL(jt(t),null,e)}async function EL(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await jA(t,iH(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=d1(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const l=o!=="anonymous"&&o!=="custom"?o:null;return new Mh(s,l)}}if(!r)return null;switch(r){case"facebook.com":return new FH(s,i);case"github.com":return new PH(s,i);case"google.com":return new LH(s,i);case"twitter.com":return new jH(s,i,t.screenName||null);case"custom":case"anonymous":return new Mh(s,null);default:return new Mh(s,r,i)}}class Mh{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class SL extends Mh{constructor(e,n,r,i){super(e,n,r),this.username=i}}class FH extends Mh{constructor(e,n){super(e,"facebook.com",n)}}class PH extends SL{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class LH extends Mh{constructor(e,n){super(e,"google.com",n)}}class jH extends SL{constructor(e,n,r){super(e,"twitter.com",n,r)}}function QAe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:TH(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MAe(t,e){return jt(t).setPersistence(e)}function HAe(t){return vL(t)}async function VAe(t,e){return Pr(t).validatePassword(e)}function UH(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function kH(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function ig(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function KAe(t){jt(t).useDeviceLanguage()}function zAe(t,e){return jt(t).updateCurrentUser(e)}function $Ae(t){return jt(t).signOut()}function GAe(t,e){return Pr(t).revokeAccessToken(e)}async function WAe(t){return jt(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new zu("enroll",e,n)}static _fromMfaPendingCredential(e){return new zu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return zu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return zu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Pr(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(l=>rg._fromServerResponse(r,l));lt(i.mfaPendingCredential,r,"internal-error");const o=zu._fromMfaPendingCredential(i.mfaPendingCredential);return new ZB(o,s,async l=>{const a=await l._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken});switch(n.operationType){case"signIn":const c=await ba._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return lt(n.user,r,"internal-error"),ba._forOperation(n.user,n.operationType,u);default:ho(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function qAe(t,e){var n;const r=jt(t),i=e;return lt(e.customData.operationType,r,"argument-error"),lt((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),ZB._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){return ur(t,"POST","/v2/accounts/mfaEnrollment:start",cr(t,e))}function RH(t,e){return ur(t,"POST","/v2/accounts/mfaEnrollment:finalize",cr(t,e))}function OH(t,e){return ur(t,"POST","/v2/accounts/mfaEnrollment:start",cr(t,e))}function DH(t,e){return ur(t,"POST","/v2/accounts/mfaEnrollment:finalize",cr(t,e))}function QH(t,e){return ur(t,"POST","/v2/accounts/mfaEnrollment:withdraw",cr(t,e))}class eC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>rg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new eC(e)}async getSession(){return zu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await jA(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await jA(this.user,QH(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const d2=new WeakMap;function JAe(t){const e=jt(t);return d2.has(e)||d2.set(e,eC._fromUser(e)),d2.get(e)}const iy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(iy,"1"),this.storage.removeItem(iy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=1e3,HH=10;class NL extends IL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);U7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NL.type="LOCAL";const VH=NL;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=1e3;function h2(t){var e,n;const r=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return(n=(e=document.cookie.match(i))===null||e===void 0?void 0:e[1])!==null&&n!==void 0?n:null}function f2(t){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${t.split(":")[3]}`}class TL{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const n=new URL(`${window.location.origin}/__cookies__`);return n.searchParams.set("finalTarget",e),n}async _isAvailable(){var e;return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:(e=navigator.cookieEnabled)!==null&&e!==void 0?e:!0}async _set(e,n){}async _get(e){if(!this._isAvailable())return null;const n=f2(e);if(window.cookieStore){const r=await window.cookieStore.get(n);return r==null?void 0:r.value}return h2(n)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=f2(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,n){if(!this._isAvailable())return;const r=f2(e);if(window.cookieStore){const l=u=>{const c=u.changed.find(p=>p.name===r);c&&n(c.value),u.deleted.find(p=>p.name===r)&&n(null)},a=()=>window.cookieStore.removeEventListener("change",l);return this.listenerUnsubscribes.set(n,a),window.cookieStore.addEventListener("change",l)}let i=h2(r);const s=setInterval(()=>{const l=h2(r);l!==i&&(n(l),i=l)},KH),o=()=>clearInterval(s);this.listenerUnsubscribes.set(n,o)}_removeListener(e,n){const r=this.listenerUnsubscribes.get(n);r&&(r(),this.listenerUnsubscribes.delete(n))}}TL.type="COOKIE";const YAe=TL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends IL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FL.type="SESSION";const PL=FL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new m1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),a=await zH(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,a)=>{const u=g1("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function GH(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function WH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JH(){return tC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="firebaseLocalStorageDb",YH=1,sy="firebaseLocalStorage",jL="fbase_key";class sg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function v1(t,e){return t.transaction([sy],e?"readwrite":"readonly").objectStore(sy)}function XH(){const t=indexedDB.deleteDatabase(LL);return new sg(t).toPromise()}function _b(){const t=indexedDB.open(LL,YH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sy,{keyPath:jL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sy)?e(r):(r.close(),await XH(),e(await _b()))})})}async function KS(t,e,n){const r=v1(t,!0).put({[jL]:e,value:n});return new sg(r).toPromise()}async function ZH(t,e){const n=v1(t,!1).get(e),r=await new sg(n).toPromise();return r===void 0?null:r.value}function zS(t,e){const n=v1(t,!0).delete(e);return new sg(n).toPromise()}const eV=800,tV=3;class UL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _b(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m1._getInstance(JH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WH(),!this.activeServiceWorker)return;this.sender=new $H(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _b();return await KS(e,iy,"1"),await zS(e,iy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=v1(i,!1).getAll();return new sg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UL.type="LOCAL";const nV=UL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){return ur(t,"POST","/v2/accounts/mfaSignIn:start",cr(t,e))}function rV(t,e){return ur(t,"POST","/v2/accounts/mfaSignIn:finalize",cr(t,e))}function iV(t,e){return ur(t,"POST","/v2/accounts/mfaSignIn:finalize",cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=mL("rcb"),sV=new Zm(3e4,6e4);class oV{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ei().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return lt(aV(n),e,"argument-error"),this.shouldResolveImmediately(n)&&PS(ei().grecaptcha)?Promise.resolve(ei().grecaptcha):new Promise((r,i)=>{const s=ei().setTimeout(()=>{i(Qs(e,"network-request-failed"))},sV.get());ei()[p2]=()=>{ei().clearTimeout(s),delete ei()[p2];const l=ei().grecaptcha;if(!l||!PS(l)){i(Qs(e,"internal-error"));return}const a=l.render;l.render=(u,c)=>{const h=a(u,c);return this.counter++,h},this.hostLanguage=n,r(l)};const o=`${H7()}?${df({onload:p2,render:"explicit",hl:n})}`;GB(o).catch(()=>{clearTimeout(s),i(Qs(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ei().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function aV(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class lV{async load(e){return new G7(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="recaptcha",AV={theme:"light",type:"image"};class XAe{constructor(e,n,r=Object.assign({},AV)){this.parameters=r,this.type=Rp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pr(e),this.isInvisible=this.parameters.size==="invisible",lt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;lt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lV:new oV,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){lt(!this.parameters.sitekey,this.auth,"argument-error"),lt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),lt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ei()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){lt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){lt(KB()&&!tC(),this.auth,"internal-error"),await cV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await B7(this.auth);lt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return lt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function cV(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Zu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function ZAe(t,e,n){if(fr(t.app))return Promise.reject(Fi(t));const r=Pr(t),i=await y1(r,e,jt(n));return new nC(i,s=>qB(r,s))}async function ece(t,e,n){const r=jt(t);await f1(!1,r,"phone");const i=await y1(r.auth,e,jt(n));return new nC(i,s=>_H(r,s))}async function tce(t,e,n){const r=jt(t);if(fr(r.auth.app))return Promise.reject(Fi(r.auth));const i=await y1(r.auth,e,jt(n));return new nC(i,s=>BH(r,s))}async function y1(t,e,n){var r;if(!t._getRecaptchaConfig())try{await vL(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){lt(s.type==="enroll",t,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Vc(t,o,"mfaSmsEnrollment",async(c,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===kp){lt((n==null?void 0:n.type)===Rp,c,"argument-error");const p=await m2(c,h,n);return VS(c,p)}return VS(c,h)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).phoneSessionInfo.sessionInfo}else{lt(s.type==="signin",t,"internal-error");const o=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;lt(o,t,"missing-multi-factor-info");const l={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Vc(t,l,"mfaSmsSignIn",async(h,p)=>{if(p.phoneSignInInfo.captchaResponse===kp){lt((n==null?void 0:n.type)===Rp,h,"argument-error");const m=await m2(h,p,n);return $S(h,m)}return $S(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Vc(t,s,"sendVerificationCode",async(u,c)=>{if(c.captchaResponse===kp){lt((n==null?void 0:n.type)===Rp,u,"argument-error");const h=await m2(u,c,n);return QS(u,h)}return QS(u,c)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function nce(t,e){const n=jt(t);if(fr(n.auth.app))return Promise.reject(Fi(n.auth));await WB(n,e)}async function m2(t,e,n){lt(n.type===Rp,t,"argument-error");const r=await n.verify();lt(typeof r=="string",t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,l=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:a}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,l=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:l}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.providerId=Hh.PROVIDER_ID,this.auth=Pr(e)}verifyPhoneNumber(e,n){return y1(this.auth,e,jt(n))}static credential(e,n){return Zu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Hh.credentialFromTaggedObject(n)}static credentialFromError(e){return Hh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Zu._fromTokenResponse(n,r):null}}Hh.PROVIDER_ID="phone";Hh.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e){return e?yA(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return BA(e,this._buildIdpRequest())}_linkToIdToken(e,n){return BA(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return BA(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uV(t){return CL(t.auth,new rC(t),t.bypassAuthState)}function dV(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),BL(n,new rC(t),t.bypassAuthState)}async function hV(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),WB(n,new rC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uV;case"linkViaPopup":case"linkViaRedirect":return hV;case"reauthViaPopup":case"reauthViaRedirect":return dV;default:ho(this.auth,"internal-error")}}resolve(e){LA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){LA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new Zm(2e3,1e4);async function rce(t,e,n){if(fr(t.app))return Promise.reject(Qs(t,"operation-not-supported-in-this-environment"));const r=Pr(t);hf(t,e,HA);const i=Ed(r,n);return new wA(r,"signInViaPopup",e,i).executeNotNull()}async function ice(t,e,n){const r=jt(t);if(fr(r.auth.app))return Promise.reject(Qs(r.auth,"operation-not-supported-in-this-environment"));hf(r.auth,e,HA);const i=Ed(r.auth,n);return new wA(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function sce(t,e,n){const r=jt(t);hf(r.auth,e,HA);const i=Ed(r.auth,n);return new wA(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class wA extends kL{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wA.currentPopupAction&&wA.currentPopupAction.cancel(),wA.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){LA(this.filter.length===1,"Popup operations only handle one event");const e=g1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wA.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fV.get())};e()}}wA.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="pendingRedirect",hv=new Map;class mV extends kL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hv.get(this.auth._key());if(!e){try{const r=await gV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hv.set(this.auth._key(),e)}return this.bypassAuthState||hv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gV(t,e){const n=OL(e),r=RL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function iC(t,e){return RL(t)._set(OL(e),"true")}function vV(t,e){hv.set(t._key(),e)}function RL(t){return yA(t._redirectPersistence)}function OL(t){return uv(pV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oce(t,e,n){return yV(t,e,n)}async function yV(t,e,n){if(fr(t.app))return Promise.reject(Fi(t));const r=Pr(t);hf(t,e,HA),await r._initializationPromise;const i=Ed(r,n);return await iC(i,r),i._openRedirect(r,e,"signInViaRedirect")}function ace(t,e,n){return wV(t,e,n)}async function wV(t,e,n){const r=jt(t);if(hf(r.auth,e,HA),fr(r.auth.app))return Promise.reject(Fi(r.auth));await r.auth._initializationPromise;const i=Ed(r.auth,n);await iC(i,r.auth);const s=await QL(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function lce(t,e,n){return xV(t,e,n)}async function xV(t,e,n){const r=jt(t);hf(r.auth,e,HA),await r.auth._initializationPromise;const i=Ed(r.auth,n);await f1(!1,r,e.providerId),await iC(i,r.auth);const s=await QL(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Ace(t,e){return await Pr(t)._initializationPromise,DL(t,e,!1)}async function DL(t,e,n=!1){if(fr(t.app))return Promise.reject(Fi(t));const r=Pr(t),i=Ed(r,e),o=await new mV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function QL(t){const e=g1(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=10*60*1e3;class _V{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ML(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bV&&this.cachedEventUids.clear(),this.cachedEventUids.has(GS(e))}saveEventToCache(e){this.cachedEventUids.add(GS(e)),this.lastProcessedEventTime=Date.now()}}function GS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ML({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ML(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e={}){return ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SV=/^https?/;async function IV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CV(t);for(const n of e)try{if(NV(n))return}catch{}ho(t,"unauthorized-domain")}function NV(t){const e=_m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SV.test(n))return!1;if(EV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new Zm(3e4,6e4);function WS(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FV(t){return new Promise((e,n)=>{var r,i,s;function o(){WS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WS(),n(Qs(t,"network-request-failed"))},timeout:TV.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ei().gapi)===null||s===void 0)&&s.load)o();else{const l=mL("iframefcb");return ei()[l]=()=>{gapi.load?o():n(Qs(t,"network-request-failed"))},GB(`${K7()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw fv=null,e})}let fv=null;function PV(t){return fv=fv||FV(t),fv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new Zm(5e3,15e3),jV="__/auth/iframe",UV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OV(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zB(e,UV):`https://${t.config.authDomain}/${jV}`,r={apiKey:e.apiKey,appName:t.name,v:Bd},i=RV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${df(r).slice(1)}`}async function DV(t){const e=await PV(t),n=ei().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:OV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qs(t,"network-request-failed"),l=ei().setTimeout(()=>{s(o)},LV.get());function a(){ei().clearTimeout(l),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MV=500,HV=600,VV="_blank",KV="http://localhost";class qS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zV(t,e,n,r=MV,i=HV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const a=Object.assign(Object.assign({},QV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=_s().toLowerCase();n&&(l=AL(u)?VV:n),aL(u)&&(e=e||KV,a.scrollbars="yes");const c=Object.entries(a).reduce((p,[m,b])=>`${p}${m}=${b},`,"");if(j7(u)&&l!=="_self")return $V(e||"",l),new qS(null);const h=window.open(e||"",l,c);lt(h,t,"popup-blocked");try{h.focus()}catch{}return new qS(h)}function $V(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="__/auth/handler",WV="emulator/auth/handler",qV=encodeURIComponent("fac");async function JS(t,e,n,r,i,s){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bd,eventId:i};if(e instanceof HA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",t8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof ff){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];const a=await t._getAppCheckToken(),u=a?`#${qV}=${encodeURIComponent(a)}`:"";return`${JV(t)}?${df(l).slice(1)}${u}`}function JV({config:t}){return t.emulator?zB(t,WV):`https://${t.authDomain}/${GV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="webStorageSupport";class YV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PL,this._completeRedirectFn=DL,this._overrideRedirectResult=vV}async _openPopup(e,n,r,i){var s;LA((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await JS(e,n,r,_m(),i);return zV(e,o,g1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await JS(e,n,r,_m(),i);return GH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(LA(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DV(e),r=new _V(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(g2,{type:g2},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[g2];o!==void 0&&n(!!o),ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fL()||lL()||$B()}}const XV=YV;class HL{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return kl("unexpected MultiFactorSessionType")}}}class sC extends HL{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new sC(e)}_finalizeEnroll(e,n,r){return RH(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return rV(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ZV{constructor(){}static assertion(e){return sC._fromCredential(e)}}ZV.FACTOR_ID="phone";class e9{static assertionForEnrollment(e,n){return Sm._fromSecret(e,n)}static assertionForSignIn(e,n){return Sm._fromEnrollmentId(e,n)}static async generateSecret(e){var n;const r=e;lt(typeof((n=r.user)===null||n===void 0?void 0:n.auth)<"u","internal-error");const i=await OH(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return oC._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}e9.FACTOR_ID="totp";class Sm extends HL{constructor(e,n,r){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=r}static _fromSecret(e,n){return new Sm(n,void 0,e)}static _fromEnrollmentId(e,n){return new Sm(n,e)}async _finalizeEnroll(e,n,r){return lt(typeof this.secret<"u",e,"argument-error"),DH(e,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){lt(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return iV(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class oC{constructor(e,n,r,i,s,o,l){this.sessionInfo=o,this.auth=l,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=s}static _fromStartTotpMfaEnrollmentResponse(e,n){return new oC(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){var r;let i=!1;return(e0(e)||e0(n))&&(i=!0),i&&(e0(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),e0(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function e0(t){return typeof t>"u"||(t==null?void 0:t.length)===0}var YS="@firebase/auth",XS="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r9(t){md(new Xc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pL(t)},u=new Q7(r,i,s,a);return eH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),md(new Xc("auth-internal",e=>{const n=Pr(e.getProvider("auth").getImmediate());return(r=>new t9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ql(YS,XS,n9(t)),Ql(YS,XS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=5*60,s9=z3("authIdTokenMaxAge")||i9;let ZS=null;const o9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s9)return;const i=n==null?void 0:n.token;ZS!==i&&(ZS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bn(t=u1()){const e=c1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Z7(t,{popupRedirectResolver:XV,persistence:[nV,VH,PL]}),r=z3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=o9(s.toString());kH(n,o,()=>o(n.currentUser)),UH(n,l=>o(l))}}const i=H3("auth");return i&&tH(n,`http://${i}`),n}function a9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",a9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r9("Browser");function l9(){return Y.useEffect(()=>{const t=Bn(),e=ig(t,async n=>{var r;if(n)try{const i=await n.getIdTokenResult(!0),s=String(((r=i==null?void 0:i.claims)==null?void 0:r.company)||"").trim();s&&localStorage.setItem("company",s)}catch(i){console.warn("companyクレーム取得に失敗:",i)}});return()=>e()},[]),null}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Im.apply(this,arguments)}var Sc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sc||(Sc={}));const eI="popstate";function A9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Bb("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oy(i)}return u9(e,n,null,t)}function Gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c9(){return Math.random().toString(36).substr(2,8)}function tI(t,e){return{usr:t.state,key:t.key,idx:e}}function Bb(t,e,n,r){return n===void 0&&(n=null),Im({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pf(e):e,{state:n,key:e&&e.key||r||c9()})}function oy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Sc.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Im({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=Sc.Pop;let C=c(),w=C==null?null:C-u;u=C,a&&a({action:l,location:_.location,delta:w})}function p(C,w){l=Sc.Push;let y=Bb(_.location,C,w);n&&n(y,C),u=c()+1;let E=tI(y,u),F=_.createHref(y);try{o.pushState(E,"",F)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(F)}s&&a&&a({action:l,location:_.location,delta:1})}function m(C,w){l=Sc.Replace;let y=Bb(_.location,C,w);n&&n(y,C),u=c();let E=tI(y,u),F=_.createHref(y);o.replaceState(E,"",F),s&&a&&a({action:l,location:_.location,delta:0})}function b(C){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof C=="string"?C:oy(C);return y=y.replace(/ $/,"%20"),Gr(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let _={get action(){return l},get location(){return t(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(eI,h),a=C,()=>{i.removeEventListener(eI,h),a=null}},createHref(C){return e(i,C)},createURL:b,encodeLocation(C){let w=b(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(C){return o.go(C)}};return _}var nI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nI||(nI={}));function d9(t,e,n){return n===void 0&&(n="/"),h9(t,e,n,!1)}function h9(t,e,n,r){let i=typeof e=="string"?pf(e):e,s=aC(i.pathname||"/",n);if(s==null)return null;let o=KL(t);f9(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=C9(s);l=_9(o[a],u,r)}return l}function KL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(Gr(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Kc([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(Gr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KL(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:x9(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of zL(s.path))i(s,o,a)}),e}function zL(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zL(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function f9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const p9=/^:[\w-]+$/,m9=3,g9=2,v9=1,y9=10,w9=-2,rI=t=>t==="*";function x9(t,e){let n=t.split("/"),r=n.length;return n.some(rI)&&(r+=w9),e&&(r+=g9),n.filter(i=>!rI(i)).reduce((i,s)=>i+(p9.test(s)?m9:s===""?v9:y9),r)}function b9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _9(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=iI({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),p=a.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=iI({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Kc([s,h.pathname]),pathnameBase:N9(Kc([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Kc([s,h.pathnameBase]))}return o}function iI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=B9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let _=l[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const b=l[h];return m&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function B9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VL(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function C9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VL(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function aC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pf(t):t;return{pathname:n?n.startsWith("/")?n:S9(n,e):e,search:T9(r),hash:F9(i)}}function S9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lC(t,e){let n=I9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pf(t):(i=Im({},t),Gr(!i.pathname||!i.pathname.includes("?"),v2("?","pathname","search",i)),Gr(!i.pathname||!i.pathname.includes("#"),v2("#","pathname","hash",i)),Gr(!i.search||!i.search.includes("#"),v2("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?e[h]:"/"}let a=E9(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Kc=t=>t.join("/").replace(/\/\/+/g,"/"),N9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $L=["post","put","patch","delete"];new Set($L);const L9=["get",...$L];new Set(L9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}const cC=Y.createContext(null),j9=Y.createContext(null),hu=Y.createContext(null),w1=Y.createContext(null),VA=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),GL=Y.createContext(null);function U9(t,e){let{relative:n}=e===void 0?{}:e;mf()||Gr(!1);let{basename:r,navigator:i}=Y.useContext(hu),{hash:s,pathname:o,search:l}=qL(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Kc([r,o])),i.createHref({pathname:a,search:l,hash:s})}function mf(){return Y.useContext(w1)!=null}function fu(){return mf()||Gr(!1),Y.useContext(w1).location}function WL(t){Y.useContext(hu).static||Y.useLayoutEffect(t)}function pu(){let{isDataRoute:t}=Y.useContext(VA);return t?q9():k9()}function k9(){mf()||Gr(!1);let t=Y.useContext(cC),{basename:e,future:n,navigator:r}=Y.useContext(hu),{matches:i}=Y.useContext(VA),{pathname:s}=fu(),o=JSON.stringify(lC(i,n.v7_relativeSplatPath)),l=Y.useRef(!1);return WL(()=>{l.current=!0}),Y.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=AC(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Kc([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function R9(){let{matches:t}=Y.useContext(VA),e=t[t.length-1];return e?e.params:{}}function qL(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Y.useContext(hu),{matches:i}=Y.useContext(VA),{pathname:s}=fu(),o=JSON.stringify(lC(i,r.v7_relativeSplatPath));return Y.useMemo(()=>AC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function O9(t,e){return D9(t,e)}function D9(t,e,n,r){mf()||Gr(!1);let{navigator:i}=Y.useContext(hu),{matches:s}=Y.useContext(VA),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=fu(),c;if(e){var h;let C=typeof e=="string"?pf(e):e;a==="/"||(h=C.pathname)!=null&&h.startsWith(a)||Gr(!1),c=C}else c=u;let p=c.pathname||"/",m=p;if(a!=="/"){let C=a.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=d9(t,{pathname:m}),_=K9(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Kc([a,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Kc([a,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&_?Y.createElement(w1.Provider,{value:{location:Nm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Sc.Pop}},_):_}function Q9(){let t=W9(),e=P9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:i},n):null,s)}const M9=Y.createElement(Q9,null);class H9 extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Y.createElement(VA.Provider,{value:this.props.routeContext},Y.createElement(GL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V9(t){let{routeContext:e,match:n,children:r}=t,i=Y.useContext(cC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(VA.Provider,{value:e},r)}function K9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);c>=0||Gr(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:m}=n,b=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,p)=>{let m,b=!1,_=null,C=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||M9,a&&(u<0&&p===0?(J9("route-fallback",!1),b=!0,C=null):u===p&&(b=!0,C=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let E;return m?E=_:b?E=C:h.route.Component?E=Y.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=c,Y.createElement(V9,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?Y.createElement(H9,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var JL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JL||{}),ay=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ay||{});function z9(t){let e=Y.useContext(cC);return e||Gr(!1),e}function $9(t){let e=Y.useContext(j9);return e||Gr(!1),e}function G9(t){let e=Y.useContext(VA);return e||Gr(!1),e}function YL(t){let e=G9(),n=e.matches[e.matches.length-1];return n.route.id||Gr(!1),n.route.id}function W9(){var t;let e=Y.useContext(GL),n=$9(ay.UseRouteError),r=YL(ay.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function q9(){let{router:t}=z9(JL.UseNavigateStable),e=YL(ay.UseNavigateStable),n=Y.useRef(!1);return WL(()=>{n.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nm({fromRouteId:e},s)))},[t,e])}const sI={};function J9(t,e,n){!e&&!sI[t]&&(sI[t]=!0)}function Y9(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Op(t){let{to:e,replace:n,state:r,relative:i}=t;mf()||Gr(!1);let{future:s,static:o}=Y.useContext(hu),{matches:l}=Y.useContext(VA),{pathname:a}=fu(),u=pu(),c=AC(e,lC(l,s.v7_relativeSplatPath),a,i==="path"),h=JSON.stringify(c);return Y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function tn(t){Gr(!1)}function X9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sc.Pop,navigator:s,static:o=!1,future:l}=t;mf()&&Gr(!1);let a=e.replace(/^\/*/,"/"),u=Y.useMemo(()=>({basename:a,navigator:s,static:o,future:Nm({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof r=="string"&&(r=pf(r));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:b="default"}=r,_=Y.useMemo(()=>{let C=aC(c,a);return C==null?null:{location:{pathname:C,search:h,hash:p,state:m,key:b},navigationType:i}},[a,c,h,p,m,b,i]);return _==null?null:Y.createElement(hu.Provider,{value:u},Y.createElement(w1.Provider,{children:n,value:_}))}function ef(t){let{children:e,location:n}=t;return O9(Cb(e),n)}new Promise(()=>{});function Cb(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...e,i];if(r.type===Y.Fragment){n.push.apply(n,Cb(r.props.children,s));return}r.type!==tn&&Gr(!1),!r.props.index||!r.props.children||Gr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cb(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function Z9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tK(t,e){return t.button===0&&(!e||e==="_self")&&!eK(t)}const nK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rK="6";try{window.__reactRouterVersion=rK}catch{}const iK="startTransition",oI=_x[iK];function sK(t){let{basename:e,children:n,future:r,window:i}=t,s=Y.useRef();s.current==null&&(s.current=A9({window:i,v5Compat:!0}));let o=s.current,[l,a]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=Y.useCallback(h=>{u&&oI?oI(()=>a(h)):a(h)},[a,u]);return Y.useLayoutEffect(()=>o.listen(c),[o,c]),Y.useEffect(()=>Y9(r),[r]),Y.createElement(X9,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const oK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$u=Y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c,viewTransition:h}=e,p=Z9(e,nK),{basename:m}=Y.useContext(hu),b,_=!1;if(typeof u=="string"&&aK.test(u)&&(b=u,oK))try{let E=new URL(window.location.href),F=u.startsWith("//")?new URL(E.protocol+u):new URL(u),M=aC(F.pathname,m);F.origin===E.origin&&M!=null?u=M+F.search+F.hash:_=!0}catch{}let C=U9(u,{relative:i}),w=lK(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i,viewTransition:h});function y(E){r&&r(E),E.defaultPrevented||w(E)}return Y.createElement("a",Eb({},p,{href:b||C,onClick:_||s?r:y,ref:n,target:a}))});var aI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aI||(aI={}));var lI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lI||(lI={}));function lK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,a=pu(),u=fu(),c=qL(t,{relative:o});return Y.useCallback(h=>{if(tK(h,n)){h.preventDefault();let p=r!==void 0?r:oy(u)===oy(c);a(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,a,c,r,i,n,t,s,o,l])}const AK=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState(""),[i,s]=Y.useState("driver"),[o,l]=Y.useState(""),a=()=>{if(i==="master"){l("マスターのパスワードはリセットできません");return}const u=i==="driver"?"driverList":"adminList",c=JSON.parse(localStorage.getItem(u)||"[]"),h=c.find(p=>p.id===t.trim());if(!h){l("指定されたIDが見つかりません");return}h.password=n,localStorage.setItem(u,JSON.stringify(c)),l("パスワードをリセットしました")};return d.jsxs("div",{className:"space-y-4 max-w-md mx-auto mt-10 bg-white p-6 rounded shadow",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"🔁 パスワードリセット"}),d.jsxs("select",{value:i,onChange:u=>s(u.target.value),className:"border w-full px-2 py-1",children:[d.jsx("option",{value:"driver",children:"ドライバー"}),d.jsx("option",{value:"admin",children:"管理者"})]}),d.jsx("input",{type:"text",placeholder:"ユーザーID",value:t,onChange:u=>e(u.target.value),className:"border w-full px-2 py-1"}),d.jsx("input",{type:"password",placeholder:"新しいパスワード",value:n,onChange:u=>r(u.target.value),className:"border w-full px-2 py-1"}),d.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"リセット"}),o&&d.jsx("p",{className:"text-red-600",children:o})]})},cK=[{id:"demo001",uid:"demo001",loginId:"demo",password:"demo",name:"デモ太郎",contractType:"社員",invoiceNo:"",company:"demoCompany",phone:"090-0000-0000",address:"東京都デモ市",mail:"demo@example.com",birthday:"1990-01-01",licenseFiles:[],licenseExpiry:"2025-12-31",attachments:[],hidden:!1,status:"予定なし",isWorking:!1,resting:!1,shiftStart:"09:00",shiftEnd:"18:00"}];var uK="firebase",dK="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ql(uK,dK,"app");var jl=[],la=[],hK=typeof Uint8Array<"u"?Uint8Array:Array,uC=!1;function XL(){uC=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)jl[e]=t[e],la[t.charCodeAt(e)]=e;la["-".charCodeAt(0)]=62,la["_".charCodeAt(0)]=63}function fK(t){uC||XL();var e,n,r,i,s,o,l=t.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[l-2]==="="?2:t[l-1]==="="?1:0,o=new hK(l*3/4-s),r=s>0?l-4:l;var a=0;for(e=0,n=0;e<r;e+=4,n+=3)i=la[t.charCodeAt(e)]<<18|la[t.charCodeAt(e+1)]<<12|la[t.charCodeAt(e+2)]<<6|la[t.charCodeAt(e+3)],o[a++]=i>>16&255,o[a++]=i>>8&255,o[a++]=i&255;return s===2?(i=la[t.charCodeAt(e)]<<2|la[t.charCodeAt(e+1)]>>4,o[a++]=i&255):s===1&&(i=la[t.charCodeAt(e)]<<10|la[t.charCodeAt(e+1)]<<4|la[t.charCodeAt(e+2)]>>2,o[a++]=i>>8&255,o[a++]=i&255),o}function pK(t){return jl[t>>18&63]+jl[t>>12&63]+jl[t>>6&63]+jl[t&63]}function mK(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(pK(r));return i.join("")}function AI(t){uC||XL();for(var e,n=t.length,r=n%3,i="",s=[],o=16383,l=0,a=n-r;l<a;l+=o)s.push(mK(t,l,l+o>a?a:l+o));return r===1?(e=t[n-1],i+=jl[e>>2],i+=jl[e<<4&63],i+="=="):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=jl[e>>10],i+=jl[e>>4&63],i+=jl[e<<2&63],i+="="),s.push(i),s.join("")}function x1(t,e,n,r,i){var s,o,l=i*8-r-1,a=(1<<l)-1,u=a>>1,c=-7,h=n?i-1:0,p=n?-1:1,m=t[e+h];for(h+=p,s=m&(1<<-c)-1,m>>=-c,c+=l;c>0;s=s*256+t[e+h],h+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+h],h+=p,c-=8);if(s===0)s=1-u;else{if(s===a)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(m?-1:1)*o*Math.pow(2,s-r)}function ZL(t,e,n,r,i,s){var o,l,a,u=s*8-i-1,c=(1<<u)-1,h=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,b=r?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+h>=1?e+=p/a:e+=p*Math.pow(2,1-h),e*a>=2&&(o++,a/=2),o+h>=c?(l=0,o=c):o+h>=1?(l=(e*a-1)*Math.pow(2,i),o=o+h):(l=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=l&255,m+=b,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;t[n+m]=o&255,m+=b,o/=256,u-=8);t[n+m-b]|=_*128}var gK={}.toString,ej=Array.isArray||function(t){return gK.call(t)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var vK=50;rt.TYPED_ARRAY_SUPPORT=uo.TYPED_ARRAY_SUPPORT!==void 0?uo.TYPED_ARRAY_SUPPORT:!0;ly();function ly(){return rt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function xA(t,e){if(ly()<e)throw new RangeError("Invalid typed array length");return rt.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=rt.prototype):(t===null&&(t=new rt(e)),t.length=e),t}function rt(t,e,n){if(!rt.TYPED_ARRAY_SUPPORT&&!(this instanceof rt))return new rt(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return dC(this,t)}return tj(this,t,e,n)}rt.poolSize=8192;rt._augment=function(t){return t.__proto__=rt.prototype,t};function tj(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?xK(t,e,n,r):typeof e=="string"?wK(t,e,n):bK(t,e)}rt.from=function(t,e,n){return tj(null,t,e,n)};rt.TYPED_ARRAY_SUPPORT&&(rt.prototype.__proto__=Uint8Array.prototype,rt.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&rt[Symbol.species]);function nj(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function yK(t,e,n,r){return nj(e),e<=0?xA(t,e):n!==void 0?typeof r=="string"?xA(t,e).fill(n,r):xA(t,e).fill(n):xA(t,e)}rt.alloc=function(t,e,n){return yK(null,t,e,n)};function dC(t,e){if(nj(e),t=xA(t,e<0?0:hC(e)|0),!rt.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}rt.allocUnsafe=function(t){return dC(null,t)};rt.allocUnsafeSlow=function(t){return dC(null,t)};function wK(t,e,n){if((typeof n!="string"||n==="")&&(n="utf8"),!rt.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=rj(e,n)|0;t=xA(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function Sb(t,e){var n=e.length<0?0:hC(e.length)|0;t=xA(t,n);for(var r=0;r<n;r+=1)t[r]=e[r]&255;return t}function xK(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return n===void 0&&r===void 0?e=new Uint8Array(e):r===void 0?e=new Uint8Array(e,n):e=new Uint8Array(e,n,r),rt.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=rt.prototype):t=Sb(t,e),t}function bK(t,e){if(Gl(e)){var n=hC(e.length)|0;return t=xA(t,n),t.length===0||e.copy(t,0,0,n),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||MK(e.length)?xA(t,0):Sb(t,e);if(e.type==="Buffer"&&ej(e.data))return Sb(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function hC(t){if(t>=ly())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ly().toString(16)+" bytes");return t|0}rt.isBuffer=HK;function Gl(t){return!!(t!=null&&t._isBuffer)}rt.compare=function(e,n){if(!Gl(e)||!Gl(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,s=0,o=Math.min(r,i);s<o;++s)if(e[s]!==n[s]){r=e[s],i=n[s];break}return r<i?-1:i<r?1:0};rt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};rt.concat=function(e,n){if(!ej(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return rt.alloc(0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=rt.allocUnsafe(n),s=0;for(r=0;r<e.length;++r){var o=e[r];if(!Gl(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function rj(t,e){if(Gl(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Ay(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return cj(t).length;default:if(r)return Ay(t).length;e=(""+e).toLowerCase(),r=!0}}rt.byteLength=rj;function _K(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return LK(this,e,n);case"utf8":case"utf-8":return oj(this,e,n);case"ascii":return FK(this,e,n);case"latin1":case"binary":return PK(this,e,n);case"base64":return NK(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jK(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}rt.prototype._isBuffer=!0;function Gu(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}rt.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)Gu(this,n,n+1);return this};rt.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)Gu(this,n,n+3),Gu(this,n+1,n+2);return this};rt.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)Gu(this,n,n+7),Gu(this,n+1,n+6),Gu(this,n+2,n+5),Gu(this,n+3,n+4);return this};rt.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?oj(this,0,e):_K.apply(this,arguments)};rt.prototype.equals=function(e){if(!Gl(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:rt.compare(this,e)===0};rt.prototype.inspect=function(){var e="",n=vK;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"};rt.prototype.compare=function(e,n,r,i,s){if(!Gl(e))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),n<0||r>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&n>=r)return 0;if(i>=s)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,l=r-n,a=Math.min(o,l),u=this.slice(i,s),c=e.slice(n,r),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],l=c[h];break}return o<l?-1:l<o?1:0};function ij(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof e=="string"&&(e=rt.from(e,r)),Gl(e))return e.length===0?-1:cI(t,e,n,r,i);if(typeof e=="number")return e=e&255,rt.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):cI(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function cI(t,e,n,r,i){var s=1,o=t.length,l=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,l/=2,n/=2}function a(m,b){return s===1?m[b]:m.readUInt16BE(b*s)}var u;if(i){var c=-1;for(u=n;u<o;u++)if(a(t,u)===a(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*s}else c!==-1&&(u-=u-c),c=-1}else for(n+l>o&&(n=o-l),u=n;u>=0;u--){for(var h=!0,p=0;p<l;p++)if(a(t,u+p)!==a(e,p)){h=!1;break}if(h)return u}return-1}rt.prototype.includes=function(e,n,r){return this.indexOf(e,n,r)!==-1};rt.prototype.indexOf=function(e,n,r){return ij(this,e,n,r,!0)};rt.prototype.lastIndexOf=function(e,n,r){return ij(this,e,n,r,!1)};function BK(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var l=parseInt(e.substr(o*2,2),16);if(isNaN(l))return o;t[n+o]=l}return o}function CK(t,e,n,r){return B1(Ay(e,t.length-n),t,n,r)}function sj(t,e,n,r){return B1(DK(e),t,n,r)}function EK(t,e,n,r){return sj(t,e,n,r)}function SK(t,e,n,r){return B1(cj(e),t,n,r)}function IK(t,e,n,r){return B1(QK(e,t.length-n),t,n,r)}rt.prototype.write=function(e,n,r,i){if(n===void 0)i="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")i=n,r=this.length,n=0;else if(isFinite(n))n=n|0,isFinite(r)?(r=r|0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return BK(this,e,n,r);case"utf8":case"utf-8":return CK(this,e,n,r);case"ascii":return sj(this,e,n,r);case"latin1":case"binary":return EK(this,e,n,r);case"base64":return SK(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return IK(this,e,n,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};rt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function NK(t,e,n){return e===0&&n===t.length?AI(t):AI(t.slice(e,n))}function oj(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s=t[i],o=null,l=s>239?4:s>223?3:s>191?2:1;if(i+l<=n){var a,u,c,h;switch(l){case 1:s<128&&(o=s);break;case 2:a=t[i+1],(a&192)===128&&(h=(s&31)<<6|a&63,h>127&&(o=h));break;case 3:a=t[i+1],u=t[i+2],(a&192)===128&&(u&192)===128&&(h=(s&15)<<12|(a&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:a=t[i+1],u=t[i+2],c=t[i+3],(a&192)===128&&(u&192)===128&&(c&192)===128&&(h=(s&15)<<18|(a&63)<<12|(u&63)<<6|c&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,l=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=l}return TK(r)}var uI=4096;function TK(t){var e=t.length;if(e<=uI)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=uI));return n}function FK(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]&127);return r}function PK(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function LK(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=OK(t[s]);return i}function jK(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+r[s+1]*256);return i}rt.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(rt.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=rt.prototype;else{var s=n-e;i=new rt(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};function Pi(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}rt.prototype.readUIntLE=function(e,n,r){e=e|0,n=n|0,r||Pi(e,n,this.length);for(var i=this[e],s=1,o=0;++o<n&&(s*=256);)i+=this[e+o]*s;return i};rt.prototype.readUIntBE=function(e,n,r){e=e|0,n=n|0,r||Pi(e,n,this.length);for(var i=this[e+--n],s=1;n>0&&(s*=256);)i+=this[e+--n]*s;return i};rt.prototype.readUInt8=function(e,n){return n||Pi(e,1,this.length),this[e]};rt.prototype.readUInt16LE=function(e,n){return n||Pi(e,2,this.length),this[e]|this[e+1]<<8};rt.prototype.readUInt16BE=function(e,n){return n||Pi(e,2,this.length),this[e]<<8|this[e+1]};rt.prototype.readUInt32LE=function(e,n){return n||Pi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};rt.prototype.readUInt32BE=function(e,n){return n||Pi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};rt.prototype.readIntLE=function(e,n,r){e=e|0,n=n|0,r||Pi(e,n,this.length);for(var i=this[e],s=1,o=0;++o<n&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*n)),i};rt.prototype.readIntBE=function(e,n,r){e=e|0,n=n|0,r||Pi(e,n,this.length);for(var i=n,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*n)),o};rt.prototype.readInt8=function(e,n){return n||Pi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};rt.prototype.readInt16LE=function(e,n){n||Pi(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};rt.prototype.readInt16BE=function(e,n){n||Pi(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};rt.prototype.readInt32LE=function(e,n){return n||Pi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};rt.prototype.readInt32BE=function(e,n){return n||Pi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};rt.prototype.readFloatLE=function(e,n){return n||Pi(e,4,this.length),x1(this,e,!0,23,4)};rt.prototype.readFloatBE=function(e,n){return n||Pi(e,4,this.length),x1(this,e,!1,23,4)};rt.prototype.readDoubleLE=function(e,n){return n||Pi(e,8,this.length),x1(this,e,!0,52,8)};rt.prototype.readDoubleBE=function(e,n){return n||Pi(e,8,this.length),x1(this,e,!1,52,8)};function po(t,e,n,r,i,s){if(!Gl(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}rt.prototype.writeUIntLE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;po(this,e,n,r,s,0)}var o=1,l=0;for(this[n]=e&255;++l<r&&(o*=256);)this[n+l]=e/o&255;return n+r};rt.prototype.writeUIntBE=function(e,n,r,i){if(e=+e,n=n|0,r=r|0,!i){var s=Math.pow(2,8*r)-1;po(this,e,n,r,s,0)}var o=r-1,l=1;for(this[n+o]=e&255;--o>=0&&(l*=256);)this[n+o]=e/l&255;return n+r};rt.prototype.writeUInt8=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,1,255,0),rt.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e&255,n+1};function b1(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}rt.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,2,65535,0),rt.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):b1(this,e,n,!0),n+2};rt.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,2,65535,0),rt.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):b1(this,e,n,!1),n+2};function _1(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>(r?i:3-i)*8&255}rt.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,4,4294967295,0),rt.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255):_1(this,e,n,!0),n+4};rt.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,4,4294967295,0),rt.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):_1(this,e,n,!1),n+4};rt.prototype.writeIntLE=function(e,n,r,i){if(e=+e,n=n|0,!i){var s=Math.pow(2,8*r-1);po(this,e,n,r,s-1,-s)}var o=0,l=1,a=0;for(this[n]=e&255;++o<r&&(l*=256);)e<0&&a===0&&this[n+o-1]!==0&&(a=1),this[n+o]=(e/l>>0)-a&255;return n+r};rt.prototype.writeIntBE=function(e,n,r,i){if(e=+e,n=n|0,!i){var s=Math.pow(2,8*r-1);po(this,e,n,r,s-1,-s)}var o=r-1,l=1,a=0;for(this[n+o]=e&255;--o>=0&&(l*=256);)e<0&&a===0&&this[n+o+1]!==0&&(a=1),this[n+o]=(e/l>>0)-a&255;return n+r};rt.prototype.writeInt8=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,1,127,-128),rt.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=e&255,n+1};rt.prototype.writeInt16LE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,2,32767,-32768),rt.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8):b1(this,e,n,!0),n+2};rt.prototype.writeInt16BE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,2,32767,-32768),rt.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e&255):b1(this,e,n,!1),n+2};rt.prototype.writeInt32LE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,4,2147483647,-2147483648),rt.TYPED_ARRAY_SUPPORT?(this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):_1(this,e,n,!0),n+4};rt.prototype.writeInt32BE=function(e,n,r){return e=+e,n=n|0,r||po(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),rt.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255):_1(this,e,n,!1),n+4};function aj(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function lj(t,e,n,r,i){return i||aj(t,e,n,4),ZL(t,e,n,r,23,4),n+4}rt.prototype.writeFloatLE=function(e,n,r){return lj(this,e,n,!0,r)};rt.prototype.writeFloatBE=function(e,n,r){return lj(this,e,n,!1,r)};function Aj(t,e,n,r,i){return i||aj(t,e,n,8),ZL(t,e,n,r,52,8),n+8}rt.prototype.writeDoubleLE=function(e,n,r){return Aj(this,e,n,!0,r)};rt.prototype.writeDoubleBE=function(e,n,r){return Aj(this,e,n,!1,r)};rt.prototype.copy=function(e,n,r,i){if(r||(r=0),!i&&i!==0&&(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r,o;if(this===e&&r<n&&n<i)for(o=s-1;o>=0;--o)e[o+n]=this[o+r];else if(s<1e3||!rt.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),n);return s};rt.prototype.fill=function(e,n,r,i){if(typeof e=="string"){if(typeof n=="string"?(i=n,n=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!rt.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var o;if(typeof e=="number")for(o=n;o<r;++o)this[o]=e;else{var l=Gl(e)?e:Ay(new rt(e,i).toString()),a=l.length;for(o=0;o<r-n;++o)this[o+n]=l[o%a]}return this};var UK=/[^+\/0-9A-Za-z-_]/g;function kK(t){if(t=RK(t).replace(UK,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function RK(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function OK(t){return t<16?"0"+t.toString(16):t.toString(16)}function Ay(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function DK(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function QK(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function cj(t){return fK(kK(t))}function B1(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function MK(t){return t!==t}function HK(t){return t!=null&&(!!t._isBuffer||uj(t)||VK(t))}function uj(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function VK(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&uj(t.slice(0,0))}var dI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof uo<"u"?uo:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zc,dj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function O(){}O.prototype=S.prototype,N.D=S.prototype,N.prototype=new O,N.prototype.constructor=N,N.C=function(H,j,T){for(var D=Array(arguments.length-2),W=2;W<arguments.length;W++)D[W-2]=arguments[W];return S.prototype[j].apply(H,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,S,O){O||(O=0);var H=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)H[j]=S.charCodeAt(O++)|S.charCodeAt(O++)<<8|S.charCodeAt(O++)<<16|S.charCodeAt(O++)<<24;else for(j=0;16>j;++j)H[j]=S[O++]|S[O++]<<8|S[O++]<<16|S[O++]<<24;S=N.g[0],O=N.g[1],j=N.g[2];var T=N.g[3],D=S+(T^O&(j^T))+H[0]+3614090360&4294967295;S=O+(D<<7&4294967295|D>>>25),D=T+(j^S&(O^j))+H[1]+3905402710&4294967295,T=S+(D<<12&4294967295|D>>>20),D=j+(O^T&(S^O))+H[2]+606105819&4294967295,j=T+(D<<17&4294967295|D>>>15),D=O+(S^j&(T^S))+H[3]+3250441966&4294967295,O=j+(D<<22&4294967295|D>>>10),D=S+(T^O&(j^T))+H[4]+4118548399&4294967295,S=O+(D<<7&4294967295|D>>>25),D=T+(j^S&(O^j))+H[5]+1200080426&4294967295,T=S+(D<<12&4294967295|D>>>20),D=j+(O^T&(S^O))+H[6]+2821735955&4294967295,j=T+(D<<17&4294967295|D>>>15),D=O+(S^j&(T^S))+H[7]+4249261313&4294967295,O=j+(D<<22&4294967295|D>>>10),D=S+(T^O&(j^T))+H[8]+1770035416&4294967295,S=O+(D<<7&4294967295|D>>>25),D=T+(j^S&(O^j))+H[9]+2336552879&4294967295,T=S+(D<<12&4294967295|D>>>20),D=j+(O^T&(S^O))+H[10]+4294925233&4294967295,j=T+(D<<17&4294967295|D>>>15),D=O+(S^j&(T^S))+H[11]+2304563134&4294967295,O=j+(D<<22&4294967295|D>>>10),D=S+(T^O&(j^T))+H[12]+1804603682&4294967295,S=O+(D<<7&4294967295|D>>>25),D=T+(j^S&(O^j))+H[13]+4254626195&4294967295,T=S+(D<<12&4294967295|D>>>20),D=j+(O^T&(S^O))+H[14]+2792965006&4294967295,j=T+(D<<17&4294967295|D>>>15),D=O+(S^j&(T^S))+H[15]+1236535329&4294967295,O=j+(D<<22&4294967295|D>>>10),D=S+(j^T&(O^j))+H[1]+4129170786&4294967295,S=O+(D<<5&4294967295|D>>>27),D=T+(O^j&(S^O))+H[6]+3225465664&4294967295,T=S+(D<<9&4294967295|D>>>23),D=j+(S^O&(T^S))+H[11]+643717713&4294967295,j=T+(D<<14&4294967295|D>>>18),D=O+(T^S&(j^T))+H[0]+3921069994&4294967295,O=j+(D<<20&4294967295|D>>>12),D=S+(j^T&(O^j))+H[5]+3593408605&4294967295,S=O+(D<<5&4294967295|D>>>27),D=T+(O^j&(S^O))+H[10]+38016083&4294967295,T=S+(D<<9&4294967295|D>>>23),D=j+(S^O&(T^S))+H[15]+3634488961&4294967295,j=T+(D<<14&4294967295|D>>>18),D=O+(T^S&(j^T))+H[4]+3889429448&4294967295,O=j+(D<<20&4294967295|D>>>12),D=S+(j^T&(O^j))+H[9]+568446438&4294967295,S=O+(D<<5&4294967295|D>>>27),D=T+(O^j&(S^O))+H[14]+3275163606&4294967295,T=S+(D<<9&4294967295|D>>>23),D=j+(S^O&(T^S))+H[3]+4107603335&4294967295,j=T+(D<<14&4294967295|D>>>18),D=O+(T^S&(j^T))+H[8]+1163531501&4294967295,O=j+(D<<20&4294967295|D>>>12),D=S+(j^T&(O^j))+H[13]+2850285829&4294967295,S=O+(D<<5&4294967295|D>>>27),D=T+(O^j&(S^O))+H[2]+4243563512&4294967295,T=S+(D<<9&4294967295|D>>>23),D=j+(S^O&(T^S))+H[7]+1735328473&4294967295,j=T+(D<<14&4294967295|D>>>18),D=O+(T^S&(j^T))+H[12]+2368359562&4294967295,O=j+(D<<20&4294967295|D>>>12),D=S+(O^j^T)+H[5]+4294588738&4294967295,S=O+(D<<4&4294967295|D>>>28),D=T+(S^O^j)+H[8]+2272392833&4294967295,T=S+(D<<11&4294967295|D>>>21),D=j+(T^S^O)+H[11]+1839030562&4294967295,j=T+(D<<16&4294967295|D>>>16),D=O+(j^T^S)+H[14]+4259657740&4294967295,O=j+(D<<23&4294967295|D>>>9),D=S+(O^j^T)+H[1]+2763975236&4294967295,S=O+(D<<4&4294967295|D>>>28),D=T+(S^O^j)+H[4]+1272893353&4294967295,T=S+(D<<11&4294967295|D>>>21),D=j+(T^S^O)+H[7]+4139469664&4294967295,j=T+(D<<16&4294967295|D>>>16),D=O+(j^T^S)+H[10]+3200236656&4294967295,O=j+(D<<23&4294967295|D>>>9),D=S+(O^j^T)+H[13]+681279174&4294967295,S=O+(D<<4&4294967295|D>>>28),D=T+(S^O^j)+H[0]+3936430074&4294967295,T=S+(D<<11&4294967295|D>>>21),D=j+(T^S^O)+H[3]+3572445317&4294967295,j=T+(D<<16&4294967295|D>>>16),D=O+(j^T^S)+H[6]+76029189&4294967295,O=j+(D<<23&4294967295|D>>>9),D=S+(O^j^T)+H[9]+3654602809&4294967295,S=O+(D<<4&4294967295|D>>>28),D=T+(S^O^j)+H[12]+3873151461&4294967295,T=S+(D<<11&4294967295|D>>>21),D=j+(T^S^O)+H[15]+530742520&4294967295,j=T+(D<<16&4294967295|D>>>16),D=O+(j^T^S)+H[2]+3299628645&4294967295,O=j+(D<<23&4294967295|D>>>9),D=S+(j^(O|~T))+H[0]+4096336452&4294967295,S=O+(D<<6&4294967295|D>>>26),D=T+(O^(S|~j))+H[7]+1126891415&4294967295,T=S+(D<<10&4294967295|D>>>22),D=j+(S^(T|~O))+H[14]+2878612391&4294967295,j=T+(D<<15&4294967295|D>>>17),D=O+(T^(j|~S))+H[5]+4237533241&4294967295,O=j+(D<<21&4294967295|D>>>11),D=S+(j^(O|~T))+H[12]+1700485571&4294967295,S=O+(D<<6&4294967295|D>>>26),D=T+(O^(S|~j))+H[3]+2399980690&4294967295,T=S+(D<<10&4294967295|D>>>22),D=j+(S^(T|~O))+H[10]+4293915773&4294967295,j=T+(D<<15&4294967295|D>>>17),D=O+(T^(j|~S))+H[1]+2240044497&4294967295,O=j+(D<<21&4294967295|D>>>11),D=S+(j^(O|~T))+H[8]+1873313359&4294967295,S=O+(D<<6&4294967295|D>>>26),D=T+(O^(S|~j))+H[15]+4264355552&4294967295,T=S+(D<<10&4294967295|D>>>22),D=j+(S^(T|~O))+H[6]+2734768916&4294967295,j=T+(D<<15&4294967295|D>>>17),D=O+(T^(j|~S))+H[13]+1309151649&4294967295,O=j+(D<<21&4294967295|D>>>11),D=S+(j^(O|~T))+H[4]+4149444226&4294967295,S=O+(D<<6&4294967295|D>>>26),D=T+(O^(S|~j))+H[11]+3174756917&4294967295,T=S+(D<<10&4294967295|D>>>22),D=j+(S^(T|~O))+H[2]+718787259&4294967295,j=T+(D<<15&4294967295|D>>>17),D=O+(T^(j|~S))+H[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+T&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var O=S-this.blockSize,H=this.B,j=this.h,T=0;T<S;){if(j==0)for(;T<=O;)i(this,N,T),T+=this.blockSize;if(typeof N=="string"){for(;T<S;)if(H[j++]=N.charCodeAt(T++),j==this.blockSize){i(this,H),j=0;break}}else for(;T<S;)if(H[j++]=N[T++],j==this.blockSize){i(this,H),j=0;break}}this.h=j,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var O=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=O&255,O/=256;for(this.u(N),N=Array(16),S=O=0;4>S;++S)for(var H=0;32>H;H+=8)N[O++]=this.g[S]>>>H&255;return N};function s(N,S){var O=l;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=S(N)}function o(N,S){this.h=S;for(var O=[],H=!0,j=N.length-1;0<=j;j--){var T=N[j]|0;H&&T==S||(O[j]=T,H=!1)}this.g=O}var l={};function a(N){return-128<=N&&128>N?s(N,function(S){return new o([S|0],0>S?-1:0)}):new o([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return h;if(0>N)return C(u(-N));for(var S=[],O=1,H=0;N>=O;H++)S[H]=N/O|0,O*=4294967296;return new o(S,0)}function c(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return C(c(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(S,8)),H=h,j=0;j<N.length;j+=8){var T=Math.min(8,N.length-j),D=parseInt(N.substring(j,j+T),S);8>T?(T=u(Math.pow(S,T)),H=H.j(T).add(u(D))):(H=H.j(O),H=H.add(u(D)))}return H}var h=a(0),p=a(1),m=a(16777216);t=o.prototype,t.m=function(){if(_(this))return-C(this).m();for(var N=0,S=1,O=0;O<this.g.length;O++){var H=this.i(O);N+=(0<=H?H:4294967296+H)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(_(this))return"-"+C(this).toString(N);for(var S=u(Math.pow(N,6)),O=this,H="";;){var j=F(O,S).g;O=w(O,j.j(S));var T=((0<O.g.length?O.g[0]:O.h)>>>0).toString(N);if(O=j,b(O))return T+H;for(;6>T.length;)T="0"+T;H=T+H}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function _(N){return N.h==-1}t.l=function(N){return N=w(this,N),_(N)?-1:b(N)?0:1};function C(N){for(var S=N.g.length,O=[],H=0;H<S;H++)O[H]=~N.g[H];return new o(O,~N.h).add(p)}t.abs=function(){return _(this)?C(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),O=[],H=0,j=0;j<=S;j++){var T=H+(this.i(j)&65535)+(N.i(j)&65535),D=(T>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);H=D>>>16,T&=65535,D&=65535,O[j]=D<<16|T}return new o(O,O[O.length-1]&-2147483648?-1:0)};function w(N,S){return N.add(C(S))}t.j=function(N){if(b(this)||b(N))return h;if(_(this))return _(N)?C(this).j(C(N)):C(C(this).j(N));if(_(N))return C(this.j(C(N)));if(0>this.l(m)&&0>N.l(m))return u(this.m()*N.m());for(var S=this.g.length+N.g.length,O=[],H=0;H<2*S;H++)O[H]=0;for(H=0;H<this.g.length;H++)for(var j=0;j<N.g.length;j++){var T=this.i(H)>>>16,D=this.i(H)&65535,W=N.i(j)>>>16,oe=N.i(j)&65535;O[2*H+2*j]+=D*oe,y(O,2*H+2*j),O[2*H+2*j+1]+=T*oe,y(O,2*H+2*j+1),O[2*H+2*j+1]+=D*W,y(O,2*H+2*j+1),O[2*H+2*j+2]+=T*W,y(O,2*H+2*j+2)}for(H=0;H<S;H++)O[H]=O[2*H+1]<<16|O[2*H];for(H=S;H<2*S;H++)O[H]=0;return new o(O,0)};function y(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function E(N,S){this.g=N,this.h=S}function F(N,S){if(b(S))throw Error("division by zero");if(b(N))return new E(h,h);if(_(N))return S=F(C(N),S),new E(C(S.g),C(S.h));if(_(S))return S=F(N,C(S)),new E(C(S.g),S.h);if(30<N.g.length){if(_(N)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var O=p,H=S;0>=H.l(N);)O=M(O),H=M(H);var j=k(O,1),T=k(H,1);for(H=k(H,2),O=k(O,2);!b(H);){var D=T.add(H);0>=D.l(N)&&(j=j.add(O),T=D),H=k(H,1),O=k(O,1)}return S=w(N,j.j(S)),new E(j,S)}for(j=h;0<=N.l(S);){for(O=Math.max(1,Math.floor(N.m()/S.m())),H=Math.ceil(Math.log(O)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),T=u(O),D=T.j(S);_(D)||0<D.l(N);)O-=H,T=u(O),D=T.j(S);b(T)&&(T=p),j=j.add(T),N=w(N,D)}return new E(j,N)}t.A=function(N){return F(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),O=[],H=0;H<S;H++)O[H]=this.i(H)&N.i(H);return new o(O,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),O=[],H=0;H<S;H++)O[H]=this.i(H)|N.i(H);return new o(O,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),O=[],H=0;H<S;H++)O[H]=this.i(H)^N.i(H);return new o(O,this.h^N.h)};function M(N){for(var S=N.g.length+1,O=[],H=0;H<S;H++)O[H]=N.i(H)<<1|N.i(H-1)>>>31;return new o(O,N.h)}function k(N,S){var O=S>>5;S%=32;for(var H=N.g.length-O,j=[],T=0;T<H;T++)j[T]=0<S?N.i(T+O)>>>S|N.i(T+O+1)<<32-S:N.i(T+O);return new o(j,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,zc=o}).apply(typeof dI<"u"?dI:typeof self<"u"?self:typeof window<"u"?window:{});var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof uo<"u"?uo:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hj,Ap,fj,pv,Ib,pj,mj,gj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,R,G){return v==Array.prototype||v==Object.prototype||(v[R]=G.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof t0=="object"&&t0];for(var R=0;R<v.length;++R){var G=v[R];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=n(this);function i(v,R){if(R)e:{var G=r;v=v.split(".");for(var ce=0;ce<v.length-1;ce++){var Ie=v[ce];if(!(Ie in G))break e;G=G[Ie]}v=v[v.length-1],ce=G[v],R=R(ce),R!=ce&&R!=null&&e(G,v,{configurable:!0,writable:!0,value:R})}}function s(v,R){v instanceof String&&(v+="");var G=0,ce=!1,Ie={next:function(){if(!ce&&G<v.length){var ke=G++;return{value:R(ke,v[ke]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}i("Array.prototype.values",function(v){return v||function(){return s(this,function(R,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function a(v){var R=typeof v;return R=R!="object"?R:v?Array.isArray(v)?"array":R:"null",R=="array"||R=="object"&&typeof v.length=="number"}function u(v){var R=typeof v;return R=="object"&&v!=null||R=="function"}function c(v,R,G){return v.call.apply(v.bind,arguments)}function h(v,R,G){if(!v)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,ce),v.apply(R,Ie)}}return function(){return v.apply(R,arguments)}}function p(v,R,G){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,p.apply(null,arguments)}function m(v,R){var G=Array.prototype.slice.call(arguments,1);return function(){var ce=G.slice();return ce.push.apply(ce,arguments),v.apply(this,ce)}}function b(v,R){function G(){}G.prototype=R.prototype,v.aa=R.prototype,v.prototype=new G,v.prototype.constructor=v,v.Qb=function(ce,Ie,ke){for(var st=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)st[Wt-2]=arguments[Wt];return R.prototype[Ie].apply(ce,st)}}function _(v){const R=v.length;if(0<R){const G=Array(R);for(let ce=0;ce<R;ce++)G[ce]=v[ce];return G}return[]}function C(v,R){for(let G=1;G<arguments.length;G++){const ce=arguments[G];if(a(ce)){const Ie=v.length||0,ke=ce.length||0;v.length=Ie+ke;for(let st=0;st<ke;st++)v[Ie+st]=ce[st]}else v.push(ce)}}class w{constructor(R,G){this.i=R,this.j=G,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function y(v){return/^[\s\xa0]*$/.test(v)}function E(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function F(v){return F[" "](v),v}F[" "]=function(){};var M=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function k(v,R,G){for(const ce in v)R.call(G,v[ce],ce,v)}function N(v,R){for(const G in v)R.call(void 0,v[G],G,v)}function S(v){const R={};for(const G in v)R[G]=v[G];return R}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(v,R){let G,ce;for(let Ie=1;Ie<arguments.length;Ie++){ce=arguments[Ie];for(G in ce)v[G]=ce[G];for(let ke=0;ke<O.length;ke++)G=O[ke],Object.prototype.hasOwnProperty.call(ce,G)&&(v[G]=ce[G])}}function j(v){var R=1;v=v.split(":");const G=[];for(;0<R&&v.length;)G.push(v.shift()),R--;return v.length&&G.push(v.join(":")),G}function T(v){l.setTimeout(()=>{throw v},0)}function D(){var v=ue;let R=null;return v.g&&(R=v.g,v.g=v.g.next,v.g||(v.h=null),R.next=null),R}class W{constructor(){this.h=this.g=null}add(R,G){const ce=oe.get();ce.set(R,G),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var oe=new w(()=>new V,v=>v.reset());class V{constructor(){this.next=this.g=this.h=null}set(R,G){this.h=R,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let q,z=!1,ue=new W,ie=()=>{const v=l.Promise.resolve(void 0);q=()=>{v.then(be)}};var be=()=>{for(var v;v=D();){try{v.h.call(v.g)}catch(G){T(G)}var R=oe;R.j(v),100>R.h&&(R.h++,v.next=R.g,R.g=v)}z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(v,R){this.type=v,this.g=this.target=R,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,R=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const G=()=>{};l.addEventListener("test",G,R),l.removeEventListener("test",G,R)}catch{}return v}();function ee(v,R){if(J.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var G=this.type=v.type,ce=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=R,R=v.relatedTarget){if(M){e:{try{F(R.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(R=null)}}else G=="mouseover"?R=v.fromElement:G=="mouseout"&&(R=v.toElement);this.relatedTarget=R,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:he[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ee.aa.h.call(this)}}b(ee,J);var he={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),fe=0;function ne(v,R,G,ce,Ie){this.listener=v,this.proxy=null,this.src=R,this.type=G,this.capture=!!ce,this.ha=Ie,this.key=++fe,this.da=this.fa=!1}function te(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ae(v){this.src=v,this.g={},this.h=0}Ae.prototype.add=function(v,R,G,ce,Ie){var ke=v.toString();v=this.g[ke],v||(v=this.g[ke]=[],this.h++);var st=ye(v,R,ce,Ie);return-1<st?(R=v[st],G||(R.fa=!1)):(R=new ne(R,this.src,ke,!!ce,Ie),R.fa=G,v.push(R)),R};function xe(v,R){var G=R.type;if(G in v.g){var ce=v.g[G],Ie=Array.prototype.indexOf.call(ce,R,void 0),ke;(ke=0<=Ie)&&Array.prototype.splice.call(ce,Ie,1),ke&&(te(R),v.g[G].length==0&&(delete v.g[G],v.h--))}}function ye(v,R,G,ce){for(var Ie=0;Ie<v.length;++Ie){var ke=v[Ie];if(!ke.da&&ke.listener==R&&ke.capture==!!G&&ke.ha==ce)return Ie}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),Ce={};function me(v,R,G,ce,Ie){if(ce&&ce.once)return Qe(v,R,G,ce,Ie);if(Array.isArray(R)){for(var ke=0;ke<R.length;ke++)me(v,R[ke],G,ce,Ie);return null}return G=Ut(G),v&&v[ve]?v.K(R,G,u(ce)?!!ce.capture:!!ce,Ie):Ye(v,R,G,!1,ce,Ie)}function Ye(v,R,G,ce,Ie,ke){if(!R)throw Error("Invalid event type");var st=u(Ie)?!!Ie.capture:!!Ie,Wt=Nt(v);if(Wt||(v[Fe]=Wt=new Ae(v)),G=Wt.add(R,G,ce,st,ke),G.proxy)return G;if(ce=We(),G.proxy=ce,ce.src=v,ce.listener=G,v.addEventListener)re||(Ie=st),Ie===void 0&&(Ie=!1),v.addEventListener(R.toString(),ce,Ie);else if(v.attachEvent)v.attachEvent(Je(R.toString()),ce);else if(v.addListener&&v.removeListener)v.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return G}function We(){function v(G){return R.call(v.src,v.listener,G)}const R=ft;return v}function Qe(v,R,G,ce,Ie){if(Array.isArray(R)){for(var ke=0;ke<R.length;ke++)Qe(v,R[ke],G,ce,Ie);return null}return G=Ut(G),v&&v[ve]?v.L(R,G,u(ce)?!!ce.capture:!!ce,Ie):Ye(v,R,G,!0,ce,Ie)}function Ve(v,R,G,ce,Ie){if(Array.isArray(R))for(var ke=0;ke<R.length;ke++)Ve(v,R[ke],G,ce,Ie);else ce=u(ce)?!!ce.capture:!!ce,G=Ut(G),v&&v[ve]?(v=v.i,R=String(R).toString(),R in v.g&&(ke=v.g[R],G=ye(ke,G,ce,Ie),-1<G&&(te(ke[G]),Array.prototype.splice.call(ke,G,1),ke.length==0&&(delete v.g[R],v.h--)))):v&&(v=Nt(v))&&(R=v.g[R.toString()],v=-1,R&&(v=ye(R,G,ce,Ie)),(G=-1<v?R[v]:null)&&ze(G))}function ze(v){if(typeof v!="number"&&v&&!v.da){var R=v.src;if(R&&R[ve])xe(R.i,v);else{var G=v.type,ce=v.proxy;R.removeEventListener?R.removeEventListener(G,ce,v.capture):R.detachEvent?R.detachEvent(Je(G),ce):R.addListener&&R.removeListener&&R.removeListener(ce),(G=Nt(R))?(xe(G,v),G.h==0&&(G.src=null,R[Fe]=null)):te(v)}}}function Je(v){return v in Ce?Ce[v]:Ce[v]="on"+v}function ft(v,R){if(v.da)v=!0;else{R=new ee(R,this);var G=v.listener,ce=v.ha||v.src;v.fa&&ze(v),v=G.call(ce,R)}return v}function Nt(v){return v=v[Fe],v instanceof Ae?v:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(v){return typeof v=="function"?v:(v[It]||(v[It]=function(R){return v.handleEvent(R)}),v[It])}function Ft(){Q.call(this),this.i=new Ae(this),this.M=this,this.F=null}b(Ft,Q),Ft.prototype[ve]=!0,Ft.prototype.removeEventListener=function(v,R,G,ce){Ve(this,v,R,G,ce)};function Bt(v,R){var G,ce=v.F;if(ce)for(G=[];ce;ce=ce.F)G.push(ce);if(v=v.M,ce=R.type||R,typeof R=="string")R=new J(R,v);else if(R instanceof J)R.target=R.target||v;else{var Ie=R;R=new J(ce,v),H(R,Ie)}if(Ie=!0,G)for(var ke=G.length-1;0<=ke;ke--){var st=R.g=G[ke];Ie=Pt(st,ce,!0,R)&&Ie}if(st=R.g=v,Ie=Pt(st,ce,!0,R)&&Ie,Ie=Pt(st,ce,!1,R)&&Ie,G)for(ke=0;ke<G.length;ke++)st=R.g=G[ke],Ie=Pt(st,ce,!1,R)&&Ie}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var v=this.i,R;for(R in v.g){for(var G=v.g[R],ce=0;ce<G.length;ce++)te(G[ce]);delete v.g[R],v.h--}}this.F=null},Ft.prototype.K=function(v,R,G,ce){return this.i.add(String(v),R,!1,G,ce)},Ft.prototype.L=function(v,R,G,ce){return this.i.add(String(v),R,!0,G,ce)};function Pt(v,R,G,ce){if(R=v.i.g[String(R)],!R)return!0;R=R.concat();for(var Ie=!0,ke=0;ke<R.length;++ke){var st=R[ke];if(st&&!st.da&&st.capture==G){var Wt=st.listener,Tn=st.ha||st.src;st.fa&&xe(v.i,st),Ie=Wt.call(Tn,ce)!==!1&&Ie}}return Ie&&!ce.defaultPrevented}function Le(v,R,G){if(typeof v=="function")G&&(v=p(v,G));else if(v&&typeof v.handleEvent=="function")v=p(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:l.setTimeout(v,R||0)}function je(v){v.g=Le(()=>{v.g=null,v.i&&(v.i=!1,je(v))},v.l);const R=v.h;v.h=null,v.m.apply(null,R)}class nt extends Q{constructor(R,G){super(),this.m=R,this.l=G,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function it(v){Q.call(this),this.h=v,this.g={}}b(it,Q);var St=[];function pt(v){k(v.g,function(R,G){this.g.hasOwnProperty(G)&&ze(R)},v),v.g={}}it.prototype.N=function(){it.aa.N.call(this),pt(this)},it.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=l.JSON.stringify,kn=l.JSON.parse,nn=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Wr(){}Wr.prototype.h=null;function pn(v){return v.h||(v.h=v.i())}function oi(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function At(){J.call(this,"d")}b(At,J);function ot(){J.call(this,"c")}b(ot,J);var vt={},on=null;function An(){return on=on||new Ft}vt.La="serverreachability";function ai(v){J.call(this,vt.La,v)}b(ai,J);function br(v){const R=An();Bt(R,new ai(R))}vt.STAT_EVENT="statevent";function Tt(v,R){J.call(this,vt.STAT_EVENT,v),this.stat=R}b(Tt,J);function Rn(v){const R=An();Bt(R,new Tt(R,v))}vt.Ma="timingevent";function Bs(v,R){J.call(this,vt.Ma,v),this.size=R}b(Bs,J);function _r(v,R){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},R)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function ut(v,R,G,ce,Ie,ke){v.info(function(){if(v.g)if(ke)for(var st="",Wt=ke.split("&"),Tn=0;Tn<Wt.length;Tn++){var Lt=Wt[Tn].split("=");if(1<Lt.length){var bn=Lt[0];Lt=Lt[1];var pr=bn.split("_");st=2<=pr.length&&pr[1]=="type"?st+(bn+"="+Lt+"&"):st+(bn+"=redacted&")}}else st=null;else st=ke;return"XMLHTTP REQ ("+ce+") [attempt "+Ie+"]: "+R+`
`+G+`
`+st})}function yi(v,R,G,ce,Ie,ke,st){v.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ie+"]: "+R+`
`+G+`
`+ke+" "+st})}function ts(v,R,G,ce){v.info(function(){return"XMLHTTP TEXT ("+R+"): "+ns(v,G)+(ce?" "+ce:"")})}function zs(v,R){v.info(function(){return"TIMEOUT: "+R})}mn.prototype.info=function(){};function ns(v,R){if(!v.g)return R;if(!R)return null;try{var G=JSON.parse(R);if(G){for(v=0;v<G.length;v++)if(Array.isArray(G[v])){var ce=G[v];if(!(2>ce.length)){var Ie=ce[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var ke=Ie[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var st=1;st<Ie.length;st++)Ie[st]=""}}}}return Ht(G)}catch{return R}}var qr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jr;function Jr(){}b(Jr,Wr),Jr.prototype.g=function(){return new XMLHttpRequest},Jr.prototype.i=function(){return{}},jr=new Jr;function Ur(v,R,G,ce){this.j=v,this.i=R,this.l=G,this.R=ce||1,this.U=new it(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wo}function Wo(){this.i=null,this.g="",this.h=!1}var _a={},qo={};function go(v,R,G){v.L=1,v.v=Ws(rs(R)),v.m=G,v.P=!0,Ba(v,null)}function Ba(v,R){v.F=Date.now(),cl(v),v.A=rs(v.v);var G=v.A,ce=v.R;Array.isArray(ce)||(ce=[String(ce)]),Gt(G.i,"t",ce),v.C=0,G=v.j.J,v.h=new Wo,v.g=we(v.j,G?R:null,!v.m),0<v.O&&(v.M=new nt(p(v.Y,v,v.g),v.O)),R=v.U,G=v.g,ce=v.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(St[0]=Ie.toString()),Ie=St);for(var ke=0;ke<Ie.length;ke++){var st=me(G,Ie[ke],ce||R.handleEvent,!1,R.h||R);if(!st)break;R.g[st.key]=st}R=v.H?S(v.H):{},v.m?(v.u||(v.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,R)):(v.u="GET",v.g.ea(v.A,v.u,null,R)),br(),ut(v.i,v.u,v.A,v.l,v.R,v.m)}Ur.prototype.ca=function(v){v=v.target;const R=this.M;R&&is(v)==3?R.j():this.Y(v)},Ur.prototype.Y=function(v){try{if(v==this.g)e:{const pr=is(this.g);var R=this.g.Ba();const Br=this.g.Z();if(!(3>pr)&&(pr!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||pr!=4||R==7||(R==8||0>=Br?br(3):br(2)),ul(this);var G=this.g.Z();this.X=G;t:if(Jo(this)){var ce=Eo(this.g);v="";var Ie=ce.length,ke=is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ui(this),Ea(this);var st="";break t}this.h.i=new l.TextDecoder}for(R=0;R<Ie;R++)this.h.h=!0,v+=this.h.i.decode(ce[R],{stream:!(ke&&R==Ie-1)});ce.length=0,this.h.g+=v,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=G==200,yi(this.i,this.u,this.A,this.l,this.R,pr,G),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Tn=this.g;if((Wt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Wt)){var Lt=Wt;break t}}Lt=null}if(G=Lt)ts(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vo(this,G);else{this.o=!1,this.s=3,Rn(12),Ui(this),Ea(this);break e}}if(this.P){G=!0;let Ai;for(;!this.J&&this.C<st.length;)if(Ai=yu(this,st),Ai==qo){pr==4&&(this.s=4,Rn(14),G=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Ai==_a){this.s=4,Rn(15),ts(this.i,this.l,st,"[Invalid Chunk]"),G=!1;break}else ts(this.i,this.l,Ai,null),vo(this,Ai);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pr!=4||st.length!=0||this.h.h||(this.s=1,Rn(16),G=!1),this.o=this.o&&G,!G)ts(this.i,this.l,st,"[Invalid Chunked Response]"),Ui(this),Ea(this);else if(0<st.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),La(bn),bn.M=!0,Rn(11))}}else ts(this.i,this.l,st,null),vo(this,st);pr==4&&Ui(this),this.o&&!this.J&&(pr==4?Ua(this.j,this):(this.o=!1,cl(this)))}else Di(this.g),G==400&&0<st.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Ui(this),Ea(this)}}}catch{}finally{}};function Jo(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function yu(v,R){var G=v.C,ce=R.indexOf(`
`,G);return ce==-1?qo:(G=Number(R.substring(G,ce)),isNaN(G)?_a:(ce+=1,ce+G>R.length?qo:(R=R.slice(ce,ce+G),v.C=ce+G,R)))}Ur.prototype.cancel=function(){this.J=!0,Ui(this)};function cl(v){v.S=Date.now()+v.I,Ca(v,v.I)}function Ca(v,R){if(v.B!=null)throw Error("WatchDog timer not null");v.B=_r(p(v.ba,v),R)}function ul(v){v.B&&(l.clearTimeout(v.B),v.B=null)}Ur.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(zs(this.i,this.A),this.L!=2&&(br(),Rn(17)),Ui(this),this.s=2,Ea(this)):Ca(this,this.S-v)};function Ea(v){v.j.G==0||v.J||Ua(v.j,v)}function Ui(v){ul(v);var R=v.M;R&&typeof R.ma=="function"&&R.ma(),v.M=null,pt(v.U),v.g&&(R=v.g,v.g=null,R.abort(),R.ma())}function vo(v,R){try{var G=v.j;if(G.G!=0&&(G.g==v||$t(G.h,v))){if(!v.K&&$t(G.h,v)&&G.G==3){try{var ce=G.Da.g.parse(R)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ie=ce;if(Ie[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<v.F)Ns(G),No(G);else break e;Pa(G),Rn(18)}}else G.za=Ie[1],0<G.za-G.T&&37500>Ie[2]&&G.F&&G.v==0&&!G.C&&(G.C=_r(p(G.Za,G),6e3));if(1>=cn(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Ts(G,11)}else if((v.K||G.g==v)&&Ns(G),!y(R))for(Ie=G.Da.g.parse(R),R=0;R<Ie.length;R++){let Lt=Ie[R];if(G.T=Lt[0],Lt=Lt[1],G.G==2)if(Lt[0]=="c"){G.K=Lt[1],G.ia=Lt[2];const bn=Lt[3];bn!=null&&(G.la=bn,G.j.info("VER="+G.la));const pr=Lt[4];pr!=null&&(G.Aa=pr,G.j.info("SVER="+G.Aa));const Br=Lt[5];Br!=null&&typeof Br=="number"&&0<Br&&(ce=1.5*Br,G.L=ce,G.j.info("backChannelRequestTimeoutMs_="+ce)),ce=G;const Ai=v.g;if(Ai){const bi=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var ke=ce.h;ke.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(yo(ke,ke.h),ke.h=null))}if(ce.D){const ka=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(ce.ya=ka,hn(ce.I,ce.D,ka))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-v.F,G.j.info("Handshake RTT: "+G.R+"ms")),ce=G;var st=v;if(ce.qa=X(ce,ce.J?ce.ia:null,ce.W),st.K){$s(ce.h,st);var Wt=st,Tn=ce.L;Tn&&(Wt.I=Tn),Wt.B&&(ul(Wt),cl(Wt)),ce.g=st}else Fa(ce);0<G.i.length&&ea(G)}else Lt[0]!="stop"&&Lt[0]!="close"||Ts(G,7);else G.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Ts(G,7):sA(G):Lt[0]!="noop"&&G.l&&G.l.ta(Lt),G.v=0)}}br(4)}catch{}}var eA=class{constructor(v,R){this.g=v,this.map=R}};function tA(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cs(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function cn(v){return v.h?1:v.g?v.g.size:0}function $t(v,R){return v.h?v.h==R:v.g?v.g.has(R):!1}function yo(v,R){v.g?v.g.add(R):v.h=R}function $s(v,R){v.h&&v.h==R?v.h=null:v.g&&v.g.has(R)&&v.g.delete(R)}tA.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Gs(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let R=v.i;for(const G of v.g.values())R=R.concat(G.D);return R}return _(v.i)}function Sa(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(a(v)){for(var R=[],G=v.length,ce=0;ce<G;ce++)R.push(v[ce]);return R}R=[],G=0;for(ce in v)R[G++]=v[ce];return R}function Yt(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(a(v)||typeof v=="string"){var R=[];v=v.length;for(var G=0;G<v;G++)R.push(G);return R}R=[],G=0;for(const ce in v)R[G++]=ce;return R}}}function gn(v,R){if(v.forEach&&typeof v.forEach=="function")v.forEach(R,void 0);else if(a(v)||typeof v=="string")Array.prototype.forEach.call(v,R,void 0);else for(var G=Yt(v),ce=Sa(v),Ie=ce.length,ke=0;ke<Ie;ke++)R.call(void 0,ce[ke],G&&G[ke],v)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kr(v,R){if(v){v=v.split("&");for(var G=0;G<v.length;G++){var ce=v[G].indexOf("="),Ie=null;if(0<=ce){var ke=v[G].substring(0,ce);Ie=v[G].substring(ce+1)}else ke=v[G];R(ke,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function er(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof er){this.h=v.h,xo(this,v.j),this.o=v.o,this.g=v.g,ki(this,v.s),this.l=v.l;var R=v.i,G=new Jn;G.i=R.i,R.g&&(G.g=new Map(R.g),G.h=R.h),qn(this,G),this.m=v.m}else v&&(R=String(v).match(wo))?(this.h=!1,xo(this,R[1]||"",!0),this.o=Ri(R[2]||""),this.g=Ri(R[3]||"",!0),ki(this,R[4]),this.l=Ri(R[5]||"",!0),qn(this,R[6]||"",!0),this.m=Ri(R[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}er.prototype.toString=function(){var v=[],R=this.j;R&&v.push(bo(R,dl,!0),":");var G=this.g;return(G||R=="file")&&(v.push("//"),(R=this.o)&&v.push(bo(R,dl,!0),"@"),v.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&v.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&v.push("/"),v.push(bo(G,G.charAt(0)=="/"?_o:Es,!0))),(G=this.i.toString())&&v.push("?",G),(G=this.m)&&v.push("#",bo(G,hl)),v.join("")};function rs(v){return new er(v)}function xo(v,R,G){v.j=G?Ri(R,!0):R,v.j&&(v.j=v.j.replace(/:$/,""))}function ki(v,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);v.s=R}else v.s=null}function qn(v,R,G){R instanceof Jn?(v.i=R,un(v.i,v.h)):(G||(R=bo(R,Yo)),v.i=new Jn(R,v.h))}function hn(v,R,G){v.i.set(R,G)}function Ws(v){return hn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Ri(v,R){return v?R?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function bo(v,R,G){return typeof v=="string"?(v=encodeURI(v).replace(R,Ia),G&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ia(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var dl=/[#\/\?@]/g,Es=/[#\?:]/g,_o=/[#\?]/g,Yo=/[#\?@]/g,hl=/#/g;function Jn(v,R){this.h=this.g=null,this.i=v||null,this.j=!!R}function Ss(v){v.g||(v.g=new Map,v.h=0,v.i&&kr(v.i,function(R,G){v.add(decodeURIComponent(R.replace(/\+/g," ")),G)}))}t=Jn.prototype,t.add=function(v,R){Ss(this),this.i=null,v=Rr(this,v);var G=this.g.get(v);return G||this.g.set(v,G=[]),G.push(R),this.h+=1,this};function Na(v,R){Ss(v),R=Rr(v,R),v.g.has(R)&&(v.i=null,v.h-=v.g.get(R).length,v.g.delete(R))}function Kt(v,R){return Ss(v),R=Rr(v,R),v.g.has(R)}t.forEach=function(v,R){Ss(this),this.g.forEach(function(G,ce){G.forEach(function(Ie){v.call(R,Ie,ce,this)},this)},this)},t.na=function(){Ss(this);const v=Array.from(this.g.values()),R=Array.from(this.g.keys()),G=[];for(let ce=0;ce<R.length;ce++){const Ie=v[ce];for(let ke=0;ke<Ie.length;ke++)G.push(R[ce])}return G},t.V=function(v){Ss(this);let R=[];if(typeof v=="string")Kt(this,v)&&(R=R.concat(this.g.get(Rr(this,v))));else{v=Array.from(this.g.values());for(let G=0;G<v.length;G++)R=R.concat(v[G])}return R},t.set=function(v,R){return Ss(this),this.i=null,v=Rr(this,v),Kt(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[R]),this.h+=1,this},t.get=function(v,R){return v?(v=this.V(v),0<v.length?String(v[0]):R):R};function Gt(v,R,G){Na(v,R),0<G.length&&(v.i=null,v.g.set(Rr(v,R),_(G)),v.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],R=Array.from(this.g.keys());for(var G=0;G<R.length;G++){var ce=R[G];const ke=encodeURIComponent(String(ce)),st=this.V(ce);for(ce=0;ce<st.length;ce++){var Ie=ke;st[ce]!==""&&(Ie+="="+encodeURIComponent(String(st[ce]))),v.push(Ie)}}return this.i=v.join("&")};function Rr(v,R){return R=String(R),v.j&&(R=R.toLowerCase()),R}function un(v,R){R&&!v.j&&(Ss(v),v.i=null,v.g.forEach(function(G,ce){var Ie=ce.toLowerCase();ce!=Ie&&(Na(this,ce),Gt(this,Ie,G))},v)),v.j=R}function nA(v,R){const G=new mn;if(l.Image){const ce=new Image;ce.onload=m(li,G,"TestLoadImage: loaded",!0,R,ce),ce.onerror=m(li,G,"TestLoadImage: error",!1,R,ce),ce.onabort=m(li,G,"TestLoadImage: abort",!1,R,ce),ce.ontimeout=m(li,G,"TestLoadImage: timeout",!1,R,ce),l.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=v}else R(!1)}function fl(v,R){const G=new mn,ce=new AbortController,Ie=setTimeout(()=>{ce.abort(),li(G,"TestPingServer: timeout",!1,R)},1e4);fetch(v,{signal:ce.signal}).then(ke=>{clearTimeout(Ie),ke.ok?li(G,"TestPingServer: ok",!0,R):li(G,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ie),li(G,"TestPingServer: error",!1,R)})}function li(v,R,G,ce,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),ce(G)}catch{}}function Ta(){this.g=new nn}function Bo(v,R,G){const ce=G||"";try{gn(v,function(Ie,ke){let st=Ie;u(Ie)&&(st=Ht(Ie)),R.push(ce+ke+"="+encodeURIComponent(st))})}catch(Ie){throw R.push(ce+"type="+encodeURIComponent("_badmap")),Ie}}function Xo(v){this.l=v.Ub||null,this.j=v.eb||!1}b(Xo,Wr),Xo.prototype.g=function(){return new qs(this.l,this.j)},Xo.prototype.i=function(v){return function(){return v}}({});function qs(v,R){Ft.call(this),this.D=v,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(qs,Ft),t=qs.prototype,t.open=function(v,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=R,this.readyState=1,Oi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(R.body=v),(this.D||l).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tr(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function tr(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var R=v.value?v.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!v.done}))&&(this.response=this.responseText+=R)}v.done?Or(this):Oi(this),this.readyState==3&&tr(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,Or(this))},t.Qa=function(v){this.g&&(this.response=v,Or(this))},t.ga=function(){this.g&&Or(this)};function Or(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Oi(v)}t.setRequestHeader=function(v,R){this.u.append(v,R)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],R=this.h.entries();for(var G=R.next();!G.done;)G=G.value,v.push(G[0]+": "+G[1]),G=R.next();return v.join(`\r
`)};function Oi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function rA(v){let R="";return k(v,function(G,ce){R+=ce,R+=":",R+=G,R+=`\r
`}),R}function Co(v,R,G){e:{for(ce in G){var ce=!1;break e}ce=!0}ce||(G=rA(G),typeof v=="string"?G!=null&&encodeURIComponent(String(G)):hn(v,R,G))}function Nn(v){Ft.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Nn,Ft);var Zo=/^https?$/i,zA=["POST","PUT"];t=Nn.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,R,G,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);R=R?R.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jr.g(),this.v=this.o?pn(this.o):pn(jr),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(R,String(v),!0),this.B=!1}catch(ke){pl(this,ke);return}if(v=G||"",G=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ie in ce)G.set(Ie,ce[Ie]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const ke of ce.keys())G.set(ke,ce.get(ke));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(G.keys()).find(ke=>ke.toLowerCase()=="content-type"),Ie=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(zA,R,void 0))||ce||Ie||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,st]of G)this.g.setRequestHeader(ke,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wi(this),this.u=!0,this.g.send(v),this.u=!1}catch(ke){pl(this,ke)}};function pl(v,R){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=R,v.m=5,rn(v),Yn(v)}function rn(v){v.A||(v.A=!0,Bt(v,"complete"),Bt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Bt(this,"complete"),Bt(this,"abort"),Yn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Nn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iA(this):this.bb())},t.bb=function(){iA(this)};function iA(v){if(v.h&&typeof o<"u"&&(!v.v[1]||is(v)!=4||v.Z()!=2)){if(v.u&&is(v)==4)Le(v.Ea,0,v);else if(Bt(v,"readystatechange"),is(v)==4){v.h=!1;try{const st=v.Z();e:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var G;if(!(G=R)){var ce;if(ce=st===0){var Ie=String(v.D).match(wo)[1]||null;!Ie&&l.self&&l.self.location&&(Ie=l.self.location.protocol.slice(0,-1)),ce=!Zo.test(Ie?Ie.toLowerCase():"")}G=ce}if(G)Bt(v,"complete"),Bt(v,"success");else{v.m=6;try{var ke=2<is(v)?v.g.statusText:""}catch{ke=""}v.l=ke+" ["+v.Z()+"]",rn(v)}}finally{Yn(v)}}}}function Yn(v,R){if(v.g){wi(v);const G=v.g,ce=v.v[0]?()=>{}:null;v.g=null,v.v=null,R||Bt(v,"ready");try{G.onreadystatechange=ce}catch{}}}function wi(v){v.I&&(l.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function is(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var R=this.g.responseText;return v&&R.indexOf(v)==0&&(R=R.substring(v.length)),kn(R)}};function Eo(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(v){const R={};v=(v.g&&2<=is(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<v.length;ce++){if(y(v[ce]))continue;var G=j(v[ce]);const Ie=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const ke=R[Ie]||[];R[Ie]=ke,ke.push(G)}N(R,function(ce){return ce.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(v,R,G){return G&&G.internalChannelParams&&G.internalChannelParams[v]||R}function Io(v){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,v),this.cb=So("retryDelaySeedMs",1e4,v),this.Wa=So("forwardChannelMaxRetries",2,v),this.wa=So("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new tA(v&&v.concurrentRequestLimit),this.Da=new Ta,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Io.prototype,t.la=8,t.G=1,t.connect=function(v,R,G,ce){Rn(0),this.W=v,this.H=R||{},G&&ce!==void 0&&(this.H.OSID=G,this.H.OAID=ce),this.F=this.X,this.I=X(this,null,this.W),ea(this)};function sA(v){if(ml(v),v.G==3){var R=v.U++,G=rs(v.I);if(hn(G,"SID",v.K),hn(G,"RID",R),hn(G,"TYPE","terminate"),Is(v,G),R=new Ur(v,v.j,R),R.L=2,R.v=Ws(rs(G)),G=!1,l.navigator&&l.navigator.sendBeacon)try{G=l.navigator.sendBeacon(R.v.toString(),"")}catch{}!G&&l.Image&&(new Image().src=R.v,G=!0),G||(R.g=we(R.j,null),R.g.ea(R.v)),R.F=Date.now(),cl(R)}I(v)}function No(v){v.g&&(La(v),v.g.cancel(),v.g=null)}function ml(v){No(v),v.u&&(l.clearTimeout(v.u),v.u=null),Ns(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function ea(v){if(!Cs(v.h)&&!v.s){v.s=!0;var R=v.Ga;q||ie(),z||(q(),z=!0),ue.add(R,v),v.B=0}}function xi(v,R){return cn(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=R.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=_r(p(v.Ga,v,R),To(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Ie=new Ur(this,this.j,v);let ke=this.o;if(this.S&&(ke?(ke=S(ke),H(ke,this.S)):ke=this.S),this.m!==null||this.O||(Ie.H=ke,ke=null),this.P)e:{for(var R=0,G=0;G<this.i.length;G++){t:{var ce=this.i[G];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(R+=ce,4096<R){R=G;break e}if(R===4096||G===this.i.length-1){R=G+1;break e}}R=1e3}else R=1e3;R=Qi(this,Ie,R),G=rs(this.I),hn(G,"RID",v),hn(G,"CVER",22),this.D&&hn(G,"X-HTTP-Session-Id",this.D),Is(this,G),ke&&(this.O?R="headers="+encodeURIComponent(String(rA(ke)))+"&"+R:this.m&&Co(G,this.m,ke)),yo(this.h,Ie),this.Ua&&hn(G,"TYPE","init"),this.P?(hn(G,"$req",R),hn(G,"SID","null"),Ie.T=!0,go(Ie,G,null)):go(Ie,G,R),this.G=2}}else this.G==3&&(v?oA(this,v):this.i.length==0||Cs(this.h)||oA(this))};function oA(v,R){var G;R?G=R.l:G=v.U++;const ce=rs(v.I);hn(ce,"SID",v.K),hn(ce,"RID",G),hn(ce,"AID",v.T),Is(v,ce),v.m&&v.o&&Co(ce,v.m,v.o),G=new Ur(v,v.j,G,v.B+1),v.m===null&&(G.H=v.o),R&&(v.i=R.D.concat(v.i)),R=Qi(v,G,1e3),G.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),yo(v.h,G),go(G,ce,R)}function Is(v,R){v.H&&k(v.H,function(G,ce){hn(R,ce,G)}),v.l&&gn({},function(G,ce){hn(R,ce,G)})}function Qi(v,R,G){G=Math.min(v.i.length,G);var ce=v.l?p(v.l.Na,v.l,v):null;e:{var Ie=v.i;let ke=-1;for(;;){const st=["count="+G];ke==-1?0<G?(ke=Ie[0].g,st.push("ofs="+ke)):ke=0:st.push("ofs="+ke);let Wt=!0;for(let Tn=0;Tn<G;Tn++){let Lt=Ie[Tn].g;const bn=Ie[Tn].map;if(Lt-=ke,0>Lt)ke=Math.max(0,Ie[Tn].g-100),Wt=!1;else try{Bo(bn,st,"req"+Lt+"_")}catch{ce&&ce(bn)}}if(Wt){ce=st.join("&");break e}}}return v=v.i.splice(0,G),R.D=v,ce}function Fa(v){if(!v.g&&!v.u){v.Y=1;var R=v.Fa;q||ie(),z||(q(),z=!0),ue.add(R,v),v.v=0}}function Pa(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=_r(p(v.Fa,v),To(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,ja(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=_r(p(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),No(this),ja(this))};function La(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function ja(v){v.g=new Ur(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var R=rs(v.qa);hn(R,"RID","rpc"),hn(R,"SID",v.K),hn(R,"AID",v.T),hn(R,"CI",v.F?"0":"1"),!v.F&&v.ja&&hn(R,"TO",v.ja),hn(R,"TYPE","xmlhttp"),Is(v,R),v.m&&v.o&&Co(R,v.m,v.o),v.L&&(v.g.I=v.L);var G=v.g;v=v.ia,G.L=1,G.v=Ws(rs(R)),G.m=null,G.P=!0,Ba(G,v)}t.Za=function(){this.C!=null&&(this.C=null,No(this),Pa(this),Rn(19))};function Ns(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Ua(v,R){var G=null;if(v.g==R){Ns(v),La(v),v.g=null;var ce=2}else if($t(v.h,R))G=R.D,$s(v.h,R),ce=1;else return;if(v.G!=0){if(R.o)if(ce==1){G=R.m?R.m.length:0,R=Date.now()-R.F;var Ie=v.B;ce=An(),Bt(ce,new Bs(ce,G)),ea(v)}else Fa(v);else if(Ie=R.s,Ie==3||Ie==0&&0<R.X||!(ce==1&&xi(v,R)||ce==2&&Pa(v)))switch(G&&0<G.length&&(R=v.h,R.i=R.i.concat(G)),Ie){case 1:Ts(v,5);break;case 4:Ts(v,10);break;case 3:Ts(v,6);break;default:Ts(v,2)}}}function To(v,R){let G=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(G*=2),G*R}function Ts(v,R){if(v.j.info("Error code "+R),R==2){var G=p(v.fb,v),ce=v.Xa;const Ie=!ce;ce=new er(ce||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xo(ce,"https"),Ws(ce),Ie?nA(ce.toString(),G):fl(ce.toString(),G)}else Rn(2);v.G=0,v.l&&v.l.sa(R),I(v),ml(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function I(v){if(v.G=0,v.ka=[],v.l){const R=Gs(v.h);(R.length!=0||v.i.length!=0)&&(C(v.ka,R),C(v.ka,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.ra()}}function X(v,R,G){var ce=G instanceof er?rs(G):new er(G);if(ce.g!="")R&&(ce.g=R+"."+ce.g),ki(ce,ce.s);else{var Ie=l.location;ce=Ie.protocol,R=R?R+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var ke=new er(null);ce&&xo(ke,ce),R&&(ke.g=R),Ie&&ki(ke,Ie),G&&(ke.l=G),ce=ke}return G=v.D,R=v.ya,G&&R&&hn(ce,G,R),hn(ce,"VER",v.la),Is(v,ce),ce}function we(v,R,G){if(R&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=v.Ca&&!v.pa?new Nn(new Xo({eb:G})):new Nn(v.pa),R.Ha(v.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Be(){}t=Be.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pe(){}Pe.prototype.g=function(v,R){return new De(v,R)};function De(v,R){Ft.call(this),this.g=new Io(R),this.l=v,this.h=R&&R.messageUrlParams||null,v=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(v?v["X-WebChannel-Content-Type"]=R.messageContentType:v={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(v?v["X-WebChannel-Client-Profile"]=R.va:v={"X-WebChannel-Client-Profile":R.va}),this.g.S=v,(v=R&&R.Sb)&&!y(v)&&(this.g.m=v),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!y(R)&&(this.g.D=R,v=this.h,v!==null&&R in v&&(v=this.h,R in v&&delete v[R])),this.j=new mt(this)}b(De,Ft),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){sA(this.g)},De.prototype.o=function(v){var R=this.g;if(typeof v=="string"){var G={};G.__data__=v,v=G}else this.u&&(G={},G.__data__=Ht(v),v=G);R.i.push(new eA(R.Ya++,v)),R.G==3&&ea(R)},De.prototype.N=function(){this.g.l=null,delete this.j,sA(this.g),delete this.g,De.aa.N.call(this)};function et(v){At.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var R=v.__sm__;if(R){e:{for(const G in R){v=G;break e}v=void 0}(this.i=v)&&(v=this.i,R=R!==null&&v in R?R[v]:void 0),this.data=R}else this.data=v}b(et,At);function ct(){ot.call(this),this.status=1}b(ct,ot);function mt(v){this.g=v}b(mt,Be),mt.prototype.ua=function(){Bt(this.g,"a")},mt.prototype.ta=function(v){Bt(this.g,new et(v))},mt.prototype.sa=function(v){Bt(this.g,new ct)},mt.prototype.ra=function(){Bt(this.g,"b")},Pe.prototype.createWebChannel=Pe.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,gj=function(){return new Pe},mj=function(){return An()},pj=vt,Ib={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,pv=qr,ji.COMPLETE="complete",fj=ji,oi.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Ap=oi,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,hj=Nn}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});const hI="@firebase/firestore",fI="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gs.UNAUTHENTICATED=new gs(null),gs.GOOGLE_CREDENTIALS=new gs("google-credentials-uid"),gs.FIRST_PARTY=new gs("first-party-uid"),gs.MOCK_USER=new gs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new DB("@firebase/firestore");function lh(){return gd.logLevel}function _t(t,...e){if(gd.logLevel<=wn.DEBUG){const n=e.map(fC);gd.debug(`Firestore (${gf}): ${t}`,...n)}}function kA(t,...e){if(gd.logLevel<=wn.ERROR){const n=e.map(fC);gd.error(`Firestore (${gf}): ${t}`,...n)}}function Zc(t,...e){if(gd.logLevel<=wn.WARN){const n=e.map(fC);gd.warn(`Firestore (${gf}): ${t}`,...n)}}function fC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vj(t,r,n)}function vj(t,e,n){let r=`FIRESTORE (${gf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kA(r),new Error(r)}function Un(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||vj(e,i,r)}function en(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Jl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gs.UNAUTHENTICATED))}shutdown(){}}class zK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $K{constructor(e){this.t=e,this.currentUser=gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Un(this.o===void 0,42304);let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new CA;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new CA,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new CA)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Un(typeof r.accessToken=="string",31837,{l:r}),new yj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Un(e===null||typeof e=="string",2055,{h:e}),new gs(e)}}class GK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Un(this.o===void 0,3512);const r=s=>{s.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,_t("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Un(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=JK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function dn(t,e){return t<e?-1:t>e?1:0}function Nb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return dn(r,i);{const s=wj(),o=YK(s.encode(mI(t,n)),s.encode(mI(e,n)));return o!==0?o:dn(r,i)}}n+=r>65535?2:1}return dn(t.length,e.length)}function mI(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function YK(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return dn(t[n],e[n]);return dn(t.length,e.length)}function tf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="__name__";class Nl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Jt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Jt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Nl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return dn(e.length,n.length)}static compareSegments(e,n){const r=Nl.isNumericId(e),i=Nl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Nl.extractNumericId(e).compare(Nl.extractNumericId(n)):Nb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zc.fromString(e.substring(4,e.length-2))}}class rr extends Nl{construct(e,n,r){return new rr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rr(n)}static emptyPath(){return new rr([])}}const XK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends Nl{construct(e,n,r){return new Ji(e,n,r)}static isValidIdentifier(e){return XK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gI}static keyField(){return new Ji([gI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new gt(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new gt(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new gt(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ji(n)}static emptyPath(){return new Ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(rr.fromString(e))}static fromName(e){return new Ot(rr.fromString(e).popFirst(5))}static empty(){return new Ot(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new rr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t,e,n){if(!n)throw new gt(Ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZK(t,e,n,r){if(e===!0&&r===!0)throw new gt(Ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vI(t){if(!Ot.isDocumentKey(t))throw new gt(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yI(t){if(Ot.isDocumentKey(t))throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function C1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Jt(12329,{type:typeof t})}function Ms(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new gt(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C1(t);throw new gt(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,e){const n={typeString:t};return e&&(n.value=e),n}function og(t,e){if(!bj(t))throw new gt(Ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new gt(Ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=-62135596800,xI=1e6;class ar{static now(){return ar.fromMillis(Date.now())}static fromDate(e){return ar.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xI);return new ar(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wI)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xI}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ar._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(og(e,ar._jsonSchema))return new ar(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ar._jsonSchemaVersion="firestore/timestamp/1.0",ar._jsonSchema={type:si("string",ar._jsonSchemaVersion),seconds:si("number"),nanoseconds:si("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new ar(0,0))}static max(){return new Xt(new ar(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function ez(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xt.fromTimestamp(r===1e9?new ar(n+1,0):new ar(n,r));return new eu(i,Ot.empty(),e)}function tz(t){return new eu(t.readTime,t.key,Tm)}class eu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eu(Xt.min(),Ot.empty(),Tm)}static max(){return new eu(Xt.max(),Ot.empty(),Tm)}}function nz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ot.comparator(t.documentKey,e.documentKey),n!==0?n:dn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){if(t.code!==Ke.FAILED_PRECONDITION||t.message!==rz)throw t;_t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Jt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Xe?n:Xe.resolve(n)}catch(n){return Xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Xe.reject(n)}static resolve(e){return new Xe((n,r)=>{n(e)})}static reject(e){return new Xe((n,r)=>{r(e)})}static waitFor(e){return new Xe((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=Xe.resolve(!1);for(const r of e)n=n.next(i=>i?Xe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Xe((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const u=a;n(e[u]).next(c=>{o[u]=c,++l,l===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Xe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function sz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}E1.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=-1;function S1(t){return t==null}function cy(t){return t===0&&1/t==-1/0}function oz(t){return typeof t=="number"&&Number.isInteger(t)&&!cy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="";function az(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bI(e)),e=lz(t.get(n),e);return bI(e)}function lz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case _j:n+="";break;default:n+=s}}return n}function bI(t){return t+_j+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this.comparator=e,this.root=n||Wi.EMPTY}insert(e,n){return new xr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new n0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new n0(this.root,e,this.comparator,!1)}getReverseIterator(){return new n0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new n0(this.root,e,this.comparator,!0)}}class n0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=s??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Jt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Jt(27949);return e+(this.isRed()?0:1)}}Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1;Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt(57766)}get value(){throw Jt(16141)}get color(){throw Jt(16727)}get left(){throw Jt(29726)}get right(){throw Jt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.comparator=e,this.data=new xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BI(this.data.getIterator())}getIteratorFrom(e){return new BI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vi(this.comparator);return n.data=e,n}}class BI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.fields=e,e.sort(Ji.comparator)}static empty(){return new Do([])}unionWith(e){let n=new vi(Ji.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Do(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Cj("Invalid base64 string: "+s):s}}(e);return new es(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new es(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}es.EMPTY_BYTE_STRING=new es("");const Az=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(t){if(Un(!!t,39018),typeof t=="string"){let e=0;const n=Az.exec(t);if(Un(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hr(t.seconds),nanos:Hr(t.nanos)}}function Hr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nu(t){return typeof t=="string"?es.fromBase64String(t):es.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="server_timestamp",Sj="__type__",Ij="__previous_value__",Nj="__local_write_time__";function gC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sj])===null||n===void 0?void 0:n.stringValue)===Ej}function I1(t){const e=t.mapValue.fields[Ij];return gC(e)?I1(e):e}function Fm(t){const e=tu(t.mapValue.fields[Nj].timestampValue);return new ar(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n,r,i,s,o,l,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u,this.isUsingEmulator=c}}const uy="(default)";class Pm{constructor(e,n){this.projectId=e,this.database=n||uy}static empty(){return new Pm("","")}get isDefaultDatabase(){return this.database===uy}isEqual(e){return e instanceof Pm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="__type__",Fj="__max__",r0={mapValue:{fields:{__type__:{stringValue:Fj}}}},Pj="__vector__",dy="value";function ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gC(t)?4:dz(t)?9007199254740991:uz(t)?10:11:Jt(28295,{value:t})}function Wl(t,e){if(t===e)return!0;const n=ru(t);if(n!==ru(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fm(t).isEqual(Fm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=tu(i.timestampValue),l=tu(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return nu(i.bytesValue).isEqual(nu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Hr(i.geoPointValue.latitude)===Hr(s.geoPointValue.latitude)&&Hr(i.geoPointValue.longitude)===Hr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Hr(i.integerValue)===Hr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Hr(i.doubleValue),l=Hr(s.doubleValue);return o===l?cy(o)===cy(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return tf(t.arrayValue.values||[],e.arrayValue.values||[],Wl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(_I(o)!==_I(l))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(l[a]===void 0||!Wl(o[a],l[a])))return!1;return!0}(t,e);default:return Jt(52216,{left:t})}}function Lm(t,e){return(t.values||[]).find(n=>Wl(n,e))!==void 0}function nf(t,e){if(t===e)return 0;const n=ru(t),r=ru(e);if(n!==r)return dn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dn(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Hr(s.integerValue||s.doubleValue),a=Hr(o.integerValue||o.doubleValue);return l<a?-1:l>a?1:l===a?0:isNaN(l)?isNaN(a)?0:-1:1}(t,e);case 3:return CI(t.timestampValue,e.timestampValue);case 4:return CI(Fm(t),Fm(e));case 5:return Nb(t.stringValue,e.stringValue);case 6:return function(s,o){const l=nu(s),a=nu(o);return l.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),a=o.split("/");for(let u=0;u<l.length&&u<a.length;u++){const c=dn(l[u],a[u]);if(c!==0)return c}return dn(l.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=dn(Hr(s.latitude),Hr(o.latitude));return l!==0?l:dn(Hr(s.longitude),Hr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return EI(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,a,u,c;const h=s.fields||{},p=o.fields||{},m=(l=h[dy])===null||l===void 0?void 0:l.arrayValue,b=(a=p[dy])===null||a===void 0?void 0:a.arrayValue,_=dn(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=b==null?void 0:b.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:EI(m,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===r0.mapValue&&o===r0.mapValue)return 0;if(s===r0.mapValue)return 1;if(o===r0.mapValue)return-1;const l=s.fields||{},a=Object.keys(l),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let h=0;h<a.length&&h<c.length;++h){const p=Nb(a[h],c[h]);if(p!==0)return p;const m=nf(l[a[h]],u[c[h]]);if(m!==0)return m}return dn(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Jt(23264,{le:n})}}function CI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dn(t,e);const n=tu(t),r=tu(e),i=dn(n.seconds,r.seconds);return i!==0?i:dn(n.nanos,r.nanos)}function EI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=nf(n[i],r[i]);if(s)return s}return dn(n.length,r.length)}function rf(t){return Tb(t)}function Tb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=tu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ot.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Tb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Tb(n.fields[o])}`;return i+"}"}(t.mapValue):Jt(61005,{value:t})}function mv(t){switch(ru(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=I1(t);return e?16+mv(e):16;case 5:return 2*t.stringValue.length;case 6:return nu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+mv(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return mu(r.fields,(s,o)=>{i+=s.length+mv(o)}),i}(t.mapValue);default:throw Jt(13486,{value:t})}}function SI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fb(t){return!!t&&"integerValue"in t}function vC(t){return!!t&&"arrayValue"in t}function II(t){return!!t&&"nullValue"in t}function NI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gv(t){return!!t&&"mapValue"in t}function uz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tj])===null||n===void 0?void 0:n.stringValue)===Pj}function Dp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.value=e}static empty(){return new oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dp(n)}setAll(e){let n=Ji.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Dp(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new oo(Dp(this.value))}}function Lj(t){const e=[];return mu(t.fields,(n,r)=>{const i=new Ji([n]);if(gv(r)){const s=Lj(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Do(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ws(e,0,Xt.min(),Xt.min(),Xt.min(),oo.empty(),0)}static newFoundDocument(e,n,r,i){return new ws(e,1,n,Xt.min(),r,i,0)}static newNoDocument(e,n){return new ws(e,2,n,Xt.min(),Xt.min(),oo.empty(),0)}static newUnknownDocument(e,n){return new ws(e,3,n,Xt.min(),Xt.min(),oo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ws&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ws(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.position=e,this.inclusive=n}}function TI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ot.comparator(Ot.fromName(o.referenceValue),n.key):r=nf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function FI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n="asc"){this.field=e,this.dir=n}}function hz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{}class ii extends jj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pz(e,n,r):n==="array-contains"?new vz(e,r):n==="in"?new yz(e,r):n==="not-in"?new wz(e,r):n==="array-contains-any"?new xz(e,r):new ii(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mz(e,r):new gz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nf(n,this.value)):n!==null&&ru(this.value)===ru(n)&&this.matchesComparison(nf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Jt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ol extends jj{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ol(e,n)}matches(e){return Uj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Uj(t){return t.op==="and"}function kj(t){return fz(t)&&Uj(t)}function fz(t){for(const e of t.filters)if(e instanceof ol)return!1;return!0}function Pb(t){if(t instanceof ii)return t.field.canonicalString()+t.op.toString()+rf(t.value);if(kj(t))return t.filters.map(e=>Pb(e)).join(",");{const e=t.filters.map(n=>Pb(n)).join(",");return`${t.op}(${e})`}}function Rj(t,e){return t instanceof ii?function(r,i){return i instanceof ii&&r.op===i.op&&r.field.isEqual(i.field)&&Wl(r.value,i.value)}(t,e):t instanceof ol?function(r,i){return i instanceof ol&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Rj(o,i.filters[l]),!0):!1}(t,e):void Jt(19439)}function Oj(t){return t instanceof ii?function(n){return`${n.field.canonicalString()} ${n.op} ${rf(n.value)}`}(t):t instanceof ol?function(n){return n.op.toString()+" {"+n.getFilters().map(Oj).join(" ,")+"}"}(t):"Filter"}class pz extends ii{constructor(e,n,r){super(e,n,r),this.key=Ot.fromName(r.referenceValue)}matches(e){const n=Ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class mz extends ii{constructor(e,n){super(e,"in",n),this.keys=Dj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gz extends ii{constructor(e,n){super(e,"not-in",n),this.keys=Dj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ot.fromName(r.referenceValue))}class vz extends ii{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vC(n)&&Lm(n.arrayValue,this.value)}}class yz extends ii{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lm(this.value.arrayValue,n)}}class wz extends ii{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lm(this.value.arrayValue,n)}}class xz extends ii{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Pe=null}}function PI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bz(t,e,n,r,i,s,o)}function yC(t){const e=en(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),S1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rf(r)).join(",")),e.Pe=n}return e.Pe}function wC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Rj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FI(t.startAt,e.startAt)&&FI(t.endAt,e.endAt)}function Lb(t){return Ot.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function _z(t,e,n,r,i,s,o,l){return new wf(t,e,n,r,i,s,o,l)}function N1(t){return new wf(t)}function LI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qj(t){return t.collectionGroup!==null}function Qp(t){const e=en(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new vi(Ji.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new jm(s,r))}),n.has(Ji.keyField().canonicalString())||e.Te.push(new jm(Ji.keyField(),r))}return e.Te}function Ml(t){const e=en(t);return e.Ie||(e.Ie=Bz(e,Qp(t))),e.Ie}function Bz(t,e){if(t.limitType==="F")return PI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jm(i.field,s)});const n=t.endAt?new hy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hy(t.startAt.position,t.startAt.inclusive):null;return PI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jb(t,e){const n=t.filters.concat([e]);return new wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ub(t,e,n){return new wf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function T1(t,e){return wC(Ml(t),Ml(e))&&t.limitType===e.limitType}function Mj(t){return`${yC(Ml(t))}|lt:${t.limitType}`}function Ah(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Oj(i)).join(", ")}]`),S1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rf(i)).join(",")),`Target(${r})`}(Ml(t))}; limitType=${t.limitType})`}function F1(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ot.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Qp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,a){const u=TI(o,l,a);return o.inclusive?u<=0:u<0}(r.startAt,Qp(r),i)||r.endAt&&!function(o,l,a){const u=TI(o,l,a);return o.inclusive?u>=0:u>0}(r.endAt,Qp(r),i))}(t,e)}function Cz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hj(t){return(e,n)=>{let r=!1;for(const i of Qp(t)){const s=Ez(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ez(t,e,n){const r=t.field.isKeyField()?Ot.comparator(e.key,n.key):function(s,o,l){const a=o.data.field(s),u=l.data.field(s);return a!==null&&u!==null?nf(a,u):Jt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Jt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Bj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new xr(Ot.comparator);function RA(){return Sz}const Vj=new xr(Ot.comparator);function cp(...t){let e=Vj;for(const n of t)e=e.insert(n.key,n);return e}function Kj(t){let e=Vj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wu(){return Mp()}function zj(){return Mp()}function Mp(){return new Sd(t=>t.toString(),(t,e)=>t.isEqual(e))}const Iz=new xr(Ot.comparator),Nz=new vi(Ot.comparator);function xn(...t){let e=Nz;for(const n of t)e=e.add(n);return e}const Tz=new vi(dn);function Fz(){return Tz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cy(e)?"-0":e}}function $j(t){return{integerValue:""+t}}function Pz(t,e){return oz(e)?$j(e):xC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this._=void 0}}function Lz(t,e,n){return t instanceof Um?function(i,s){const o={fields:{[Sj]:{stringValue:Ej},[Nj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gC(s)&&(s=I1(s)),s&&(o.fields[Ij]=s),{mapValue:o}}(n,e):t instanceof km?Wj(t,e):t instanceof Rm?qj(t,e):function(i,s){const o=Gj(i,s),l=jI(o)+jI(i.Ee);return Fb(o)&&Fb(i.Ee)?$j(l):xC(i.serializer,l)}(t,e)}function jz(t,e,n){return t instanceof km?Wj(t,e):t instanceof Rm?qj(t,e):n}function Gj(t,e){return t instanceof fy?function(r){return Fb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Um extends P1{}class km extends P1{constructor(e){super(),this.elements=e}}function Wj(t,e){const n=Jj(e);for(const r of t.elements)n.some(i=>Wl(i,r))||n.push(r);return{arrayValue:{values:n}}}class Rm extends P1{constructor(e){super(),this.elements=e}}function qj(t,e){let n=Jj(e);for(const r of t.elements)n=n.filter(i=>!Wl(i,r));return{arrayValue:{values:n}}}class fy extends P1{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function jI(t){return Hr(t.integerValue||t.doubleValue)}function Jj(t){return vC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n){this.field=e,this.transform=n}}function kz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof km&&i instanceof km||r instanceof Rm&&i instanceof Rm?tf(r.elements,i.elements,Wl):r instanceof fy&&i instanceof fy?Wl(r.Ee,i.Ee):r instanceof Um&&i instanceof Um}(t.transform,e.transform)}class Rz{constructor(e,n){this.version=e,this.transformResults=n}}class Hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hs}static exists(e){return new Hs(void 0,e)}static updateTime(e){return new Hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class L1{}function Yj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j1(t.key,Hs.none()):new ag(t.key,t.data,Hs.none());{const n=t.data,r=oo.empty();let i=new vi(Ji.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gu(t.key,r,new Do(i.toArray()),Hs.none())}}function Oz(t,e,n){t instanceof ag?function(i,s,o){const l=i.value.clone(),a=kI(i.fieldTransforms,s,o.transformResults);l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof gu?function(i,s,o){if(!vv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=kI(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(Xj(i)),a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hp(t,e,n,r){return t instanceof ag?function(s,o,l,a){if(!vv(s.precondition,o))return l;const u=s.value.clone(),c=RI(s.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gu?function(s,o,l,a){if(!vv(s.precondition,o))return l;const u=RI(s.fieldTransforms,a,o),c=o.data;return c.setAll(Xj(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,l){return vv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Dz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Gj(r.transform,i||null);s!=null&&(n===null&&(n=oo.empty()),n.set(r.field,s))}return n||null}function UI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tf(r,i,(s,o)=>kz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ag extends L1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends L1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kI(t,e,n){const r=new Map;Un(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,jz(o,l,n[i]))}return r}function RI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Lz(s,o,e))}return r}class j1 extends L1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qz extends L1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Oz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const a=Yj(o,l);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Xt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xn())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(n,r)=>UI(n,r))&&tf(this.baseMutations,e.baseMutations,(n,r)=>UI(n,r))}}class bC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Un(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Iz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr,_n;function Kz(t){switch(t){case Ke.OK:return Jt(64938);case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0;default:return Jt(15467,{code:t})}}function Zj(t){if(t===void 0)return kA("GRPC error has no .code"),Ke.UNKNOWN;switch(t){case Zr.OK:return Ke.OK;case Zr.CANCELLED:return Ke.CANCELLED;case Zr.UNKNOWN:return Ke.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return Ke.INTERNAL;case Zr.UNAVAILABLE:return Ke.UNAVAILABLE;case Zr.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Zr.NOT_FOUND:return Ke.NOT_FOUND;case Zr.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Zr.ABORTED:return Ke.ABORTED;case Zr.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Zr.DATA_LOSS:return Ke.DATA_LOSS;default:return Jt(39323,{code:t})}}(_n=Zr||(Zr={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=new zc([4294967295,4294967295],0);function OI(t){const e=wj().encode(t),n=new dj;return n.update(e),new Uint8Array(n.digest())}function DI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zc([n,r],0),new zc([i,s],0)]}class _C{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new up(`Invalid padding: ${n}`);if(r<0)throw new up(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new up(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new up(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=zc.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(zc.fromNumber(r)));return i.compare(zz)===1&&(i=new zc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=OI(e),[r,i]=DI(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _C(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const n=OI(e),[r,i]=DI(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class up extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new U1(Xt.min(),i,new xr(dn),RA(),xn())}}class lg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lg(r,n,xn(),xn(),xn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class eU{constructor(e,n){this.targetId=e,this.De=n}}class tU{constructor(e,n,r=es.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QI{constructor(){this.ve=0,this.Ce=MI(),this.Fe=es.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xn(),n=xn(),r=xn();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Jt(38017,{changeType:s})}}),new lg(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=MI()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Un(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $z{constructor(e){this.We=e,this.Ge=new Map,this.ze=RA(),this.je=i0(),this.Je=i0(),this.He=new xr(dn)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Jt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(Lb(s))if(r===0){const o=new Ot(s.path);this.Xe(n,o,ws.newNoDocument(o,Xt.min()))}else Un(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const l=this._t(e),a=l?this.ut(l,e,o):1;if(a!==0){this.rt(n);const u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=nu(r).toUint8Array()}catch(a){if(a instanceof Cj)return Zc("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{l=new _C(o,i,s)}catch(a){return Zc(a instanceof up?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const l=this.st(o);if(l){if(s.current&&Lb(l.target)){const a=new Ot(l.target.path);this.Tt(a).has(o)||this.It(o,a)||this.Xe(o,a,ws.newNoDocument(a,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=xn();this.Je.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.st(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new U1(e,n,this.He,this.ze,r);return this.ze=RA(),this.je=i0(),this.Je=i0(),this.He=new xr(dn),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new QI,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new vi(dn),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new vi(dn),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||_t("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new QI),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function i0(){return new xr(Ot.comparator)}function MI(){return new xr(Ot.comparator)}const Gz=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Wz=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),qz=(()=>({and:"AND",or:"OR"}))();class Jz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kb(t,e){return t.useProto3Json||S1(e)?e:{value:e}}function py(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yz(t,e){return py(t,e.toTimestamp())}function Hl(t){return Un(!!t,49232),Xt.fromTimestamp(function(n){const r=tu(n);return new ar(r.seconds,r.nanos)}(t))}function BC(t,e){return Rb(t,e).canonicalString()}function Rb(t,e){const n=function(i){return new rr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rU(t){const e=rr.fromString(t);return Un(lU(e),10190,{key:e.toString()}),e}function Ob(t,e){return BC(t.databaseId,e.path)}function y2(t,e){const n=rU(e);if(n.get(1)!==t.databaseId.projectId)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ot(sU(n))}function iU(t,e){return BC(t.databaseId,e)}function Xz(t){const e=rU(t);return e.length===4?rr.emptyPath():sU(e)}function Db(t){return new rr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sU(t){return Un(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HI(t,e,n){return{name:Ob(t,e),fields:n.value.mapValue.fields}}function Zz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Jt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Un(c===void 0||typeof c=="string",58123),es.fromBase64String(c||"")):(Un(c===void 0||c instanceof rt||c instanceof Uint8Array,16193),es.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const c=u.code===void 0?Ke.UNKNOWN:Zj(u.code);return new gt(c,u.message||"")}(o);n=new tU(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=y2(t,r.document.name),s=Hl(r.document.updateTime),o=r.document.createTime?Hl(r.document.createTime):Xt.min(),l=new oo({mapValue:{fields:r.document.fields}}),a=ws.newFoundDocument(i,s,o,l),u=r.targetIds||[],c=r.removedTargetIds||[];n=new yv(u,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=y2(t,r.document),s=r.readTime?Hl(r.readTime):Xt.min(),o=ws.newNoDocument(i,s),l=r.removedTargetIds||[];n=new yv([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=y2(t,r.document),s=r.removedTargetIds||[];n=new yv([],s,i,null)}else{if(!("filter"in e))return Jt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Vz(i,s),l=r.targetId;n=new eU(l,o)}}return n}function e$(t,e){let n;if(e instanceof ag)n={update:HI(t,e.key,e.value)};else if(e instanceof j1)n={delete:Ob(t,e.key)};else if(e instanceof gu)n={update:HI(t,e.key,e.data),updateMask:A$(e.fieldMask)};else{if(!(e instanceof Qz))return Jt(16599,{Rt:e.type});n={verify:Ob(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Um)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof km)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof fy)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw Jt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Yz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Jt(27497)}(t,e.precondition)),n}function t$(t,e){return t&&t.length>0?(Un(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Hl(i.updateTime):Hl(s);return o.isEqual(Xt.min())&&(o=Hl(s)),new Rz(o,i.transformResults||[])}(n,e))):[]}function n$(t,e){return{documents:[iU(t,e.path)]}}function r$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iU(t,i);const s=function(u){if(u.length!==0)return aU(ol.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:ch(p.field),direction:o$(p.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=kb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:i}}function i$(t){let e=Xz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Un(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const p=oU(h);return p instanceof ol&&kj(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new jm(uh(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,S1(p)?null:p}(n.limit));let a=null;n.startAt&&(a=function(h){const p=!!h.before,m=h.values||[];return new hy(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new hy(m,p)}(n.endAt)),_z(e,i,o,s,l,"F",a,u)}function s$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uh(n.unaryFilter.field);return ii.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uh(n.unaryFilter.field);return ii.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uh(n.unaryFilter.field);return ii.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uh(n.unaryFilter.field);return ii.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Jt(61313);default:return Jt(60726)}}(t):t.fieldFilter!==void 0?function(n){return ii.create(uh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Jt(58110);default:return Jt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ol.create(n.compositeFilter.filters.map(r=>oU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Jt(1026)}}(n.compositeFilter.op))}(t):Jt(30097,{filter:t})}function o$(t){return Gz[t]}function a$(t){return Wz[t]}function l$(t){return qz[t]}function ch(t){return{fieldPath:t.canonicalString()}}function uh(t){return Ji.fromServerFormat(t.fieldPath)}function aU(t){return t instanceof ii?function(n){if(n.op==="=="){if(NI(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NAN"}};if(II(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NI(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NOT_NAN"}};if(II(n.value))return{unaryFilter:{field:ch(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(n.field),op:a$(n.op),value:n.value}}}(t):t instanceof ol?function(n){const r=n.getFilters().map(i=>aU(i));return r.length===1?r[0]:{compositeFilter:{op:l$(n.op),filters:r}}}(t):Jt(54877,{filter:t})}function A$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,i,s=Xt.min(),o=Xt.min(),l=es.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.gt=e}}function u$(t){const e=i$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ub(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(){this.Dn=new h$}addToCollectionParentIndex(e,n){return this.Dn.add(n),Xe.resolve()}getCollectionParents(e,n){return Xe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Xe.resolve()}deleteFieldIndex(e,n){return Xe.resolve()}deleteAllFieldIndexes(e){return Xe.resolve()}createTargetIndexes(e,n){return Xe.resolve()}getDocumentsMatchingTarget(e,n){return Xe.resolve(null)}getIndexType(e,n){return Xe.resolve(0)}getFieldIndexes(e,n){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,n){return Xe.resolve(eu.min())}getMinOffsetFromCollectionGroup(e,n){return Xe.resolve(eu.min())}updateCollectionGroup(e,n,r){return Xe.resolve()}updateIndexEntries(e,n){return Xe.resolve()}}class h${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vi(rr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vi(rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AU=41943040;class no{static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(AU,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new sf(0)}static ur(){return new sf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="LruGarbageCollector",f$=1048576;function zI([t,e],[n,r]){const i=dn(t,n);return i===0?dn(e,r):i}class p${constructor(e){this.Tr=e,this.buffer=new vi(zI),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){_t(KI,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yf(n)?_t(KI,"Ignoring IndexedDB error during garbage collection: ",n):await vf(n)}await this.Rr(3e5)})}}class g${constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Xe.resolve(E1.ue);const r=new p$(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(VI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VI):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,l,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,a=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),lh()<=wn.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(a-l)+`ms
	Removed ${h} documents in `+(u-a)+`ms
Total Duration: ${u-c}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function v$(t,e){return new g$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.changes=new Sd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ws.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hp(r.mutation,i,Do.empty(),ar.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xn()){const i=Wu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cp();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=RA();const o=Mp(),l=function(){return Mp()}();return n.forEach((a,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof gu)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Hp(c.mutation,u,c.mutation.getFieldMask(),ar.now())):o.set(u.key,Do.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return l.set(u,new w$(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Mp();let i=new xr((o,l)=>o-l),s=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let c=r.get(a)||Do.empty();c=l.applyToLocalView(u,c),r.set(a,c);const h=(i.get(l.batchId)||xn()).add(a);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,c=a.value,h=zj();c.forEach(p=>{if(!s.has(p)){const m=Yj(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ot.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Qj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Xe.resolve(Wu());let l=Tm,a=s;return o.next(u=>Xe.forEach(u,(c,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(c)?Xe.resolve():this.remoteDocumentCache.getEntry(e,c).next(p=>{a=a.insert(c,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,a,u,xn())).next(c=>({batchId:l,changes:Kj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ot(n)).next(r=>{let i=cp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=cp();return this.indexManager.getCollectionParents(e,s).next(l=>Xe.forEach(l,a=>{const u=function(h,p){return new wf(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((a,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ws.newInvalidDocument(c)))});let l=cp();return o.forEach((a,u)=>{const c=s.get(a);c!==void 0&&Hp(c.mutation,u,Do.empty(),ar.now()),F1(n,u)&&(l=l.insert(a,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Xe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hl(i.createTime)}}(n)),Xe.resolve()}getNamedQuery(e,n){return Xe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:u$(i.bundledQuery),readTime:Hl(i.readTime)}}(n)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.overlays=new xr(Ot.comparator),this.kr=new Map}getOverlay(e,n){return Xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wu();return Xe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Xe.resolve()}getOverlaysForCollection(e,n,r){const i=Wu(),s=n.length+1,o=new Ot(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return Xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Wu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const l=Wu(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,c)=>l.set(u,c)),!(l.size()>=i)););return Xe.resolve(l)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hz(n,r));let s=this.kr.get(n);s===void 0&&(s=xn(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this.sessionToken=es.EMPTY_BYTE_STRING}getSessionToken(e){return Xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.qr=new vi(Ii.Qr),this.$r=new vi(Ii.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Ii(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ii(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ot(new rr([])),r=new Ii(n,e),i=new Ii(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ot(new rr([])),r=new Ii(n,e),i=new Ii(n,e+1);let s=xn();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ii(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ii{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ot.comparator(e.key,n.key)||dn(e.Hr,n.Hr)}static Ur(e,n){return dn(e.Hr,n.Hr)||Ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new vi(Ii.Qr)}checkEmpty(e){return Xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Mz(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Yr=this.Yr.add(new Ii(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Xe.resolve(o)}lookupMutationBatch(e,n){return Xe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.mutationQueue.length===0?mC:this.er-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ii(n,0),i=new Ii(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const l=this.Zr(o.Hr);s.push(l)}),Xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vi(dn);return n.forEach(i=>{const s=new Ii(i,0),o=new Ii(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],l=>{r=r.add(l.Hr)})}),Xe.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ot.isDocumentKey(s)||(s=s.child(""));const o=new Ii(new Ot(s),0);let l=new vi(dn);return this.Yr.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.Hr)),!0)},o),Xe.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Un(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Xe.forEach(n.mutations,i=>{const s=new Ii(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Ii(n,0),i=this.Yr.firstAfterOrEqual(r);return Xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.ni=e,this.docs=function(){return new xr(Ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Xe.resolve(r?r.document.mutableCopy():ws.newInvalidDocument(n))}getEntries(e,n){let r=RA();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ws.newInvalidDocument(i))}),Xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=RA();const o=n.path,l=new Ot(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nz(tz(c),r)<=0||(i.has(c.key)||F1(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Xe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Jt(9500)}ri(e,n){return Xe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S$(this)}getSize(e){return Xe.resolve(this.size)}}class S$ extends y${constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Xe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.persistence=e,this.ii=new Sd(n=>yC(n),wC),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.si=0,this.oi=new CC,this.targetCount=0,this._i=sf.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Xe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new sf(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Xe.resolve()}updateTargetData(e,n){return this.hr(n),Xe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Xe.waitFor(s).next(()=>i)}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Xe.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Xe.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Xe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Xe.resolve(r)}containsKey(e,n){return Xe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n){this.ai={},this.overlays={},this.ui=new E1(0),this.ci=!1,this.ci=!0,this.li=new B$,this.referenceDelegate=e(this),this.hi=new I$(this),this.indexManager=new d$,this.remoteDocumentCache=function(i){return new E$(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new c$(n),this.Ti=new b$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new C$(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){_t("MemoryPersistence","Starting transaction:",e);const i=new N$(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Xe.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class N$ extends iz{constructor(e){super(),this.currentSequenceNumber=e}}class EC{constructor(e){this.persistence=e,this.Ai=new CC,this.Ri=null}static Vi(e){return new EC(e)}get mi(){if(this.Ri)return this.Ri;throw Jt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Xe.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Xe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Xe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.mi,r=>{const i=Ot.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Xt.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Xe.or([()=>Xe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class my{constructor(e,n){this.persistence=e,this.gi=new Sd(r=>az(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=v$(this,n)}static Vi(e,n){return new my(e,n)}Ii(){}di(e){return Xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Xe.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Xe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,Xt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Xe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Xe.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Xe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Xe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mv(e.data.value)),n}Sr(e,n,r){return Xe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Xe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=xn(),i=xn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new SC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return qM()?8:sz(_s())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new T$;return this.ws(e,n,o).next(l=>{if(s.result=l,this.Rs)return this.Ss(e,n,o,l.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(lh()<=wn.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",Ah(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Xe.resolve()):(lh()<=wn.DEBUG&&_t("QueryEngine","Query:",Ah(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(lh()<=wn.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",Ah(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ml(n))):Xe.resolve())}ps(e,n){if(LI(n))return Xe.resolve(null);let r=Ml(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ub(n,null,"F"),r=Ml(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xn(...s);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(a=>{const u=this.bs(n,l);return this.Ds(n,u,o,a.readTime)?this.ps(e,Ub(n,null,"F")):this.vs(e,u,n,a)}))})))}ys(e,n,r,i){return LI(n)||i.isEqual(Xt.min())?Xe.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?Xe.resolve(null):(lh()<=wn.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ah(n)),this.vs(e,o,n,ez(i,Tm)).next(l=>l))})}bs(e,n){let r=new vi(Hj(e));return n.forEach((i,s)=>{F1(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return lh()<=wn.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",Ah(n)),this.gs.getDocumentsMatchingQuery(e,n,eu.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="LocalStore",P$=3e8;class L${constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new xr(dn),this.Ms=new Sd(s=>yC(s),wC),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x$(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function j$(t,e,n,r){return new L$(t,e,n,r)}async function uU(t,e){const n=en(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=xn();for(const u of i){o.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}for(const u of s){l.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}return n.localDocuments.getDocuments(r,a).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:l}))})})}function U$(t,e){const n=en(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,a,u,c){const h=u.batch,p=h.keys();let m=Xe.resolve();return p.forEach(b=>{m=m.next(()=>c.getEntry(a,b)).next(_=>{const C=u.docVersions.get(b);Un(C!==null,48541),_.version.compareTo(C)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(a,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let a=xn();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(a=a.add(l.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dU(t){const e=en(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function k$(t,e){const n=en(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const l=[];e.targetChanges.forEach((c,h)=>{const p=i.get(h);if(!p)return;l.push(n.hi.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.hi.addMatchingKeys(s,c.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(es.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(h,m),function(_,C,w){return _.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=P$?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,c)&&l.push(n.hi.updateTargetData(s,m))});let a=RA(),u=xn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),l.push(R$(s,o,e.documentUpdates).next(c=>{a=c.Ls,u=c.ks})),!r.isEqual(Xt.min())){const c=n.hi.getLastRemoteSnapshotVersion(s).next(h=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(c)}return Xe.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.Fs=i,s))}function R$(t,e,n){let r=xn(),i=xn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=RA();return n.forEach((l,a)=>{const u=s.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(Xt.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):_t(IC,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{Ls:o,ks:i}})}function O$(t,e){const n=en(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D$(t,e){const n=en(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Xe.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new Ic(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Qb(t,e,n){const r=en(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yf(o))throw o;_t(IC,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function $I(t,e,n){const r=en(t);let i=Xt.min(),s=xn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,u,c){const h=en(a),p=h.Ms.get(c);return p!==void 0?Xe.resolve(h.Fs.get(p)):h.hi.getTargetData(u,c)}(r,o,Ml(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Xt.min(),n?s:xn())).next(l=>(Q$(r,Cz(e),l),{documents:l,qs:s})))}function Q$(t,e,n){let r=t.xs.get(e)||Xt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class GI{constructor(){this.activeTargetIds=Fz()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M${constructor(){this.Fo=new GI,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new GI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="ConnectivityMonitor";class qI{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){_t(WI,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){_t(WI,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0=null;function Mb(){return s0===null?s0=function(){return 268435456+Math.round(2147483648*Math.random())}():s0++,"0x"+s0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="RestConnection",V$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K${get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===uy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Mb(),l=this.Go(e,n.toUriEncodedString());_t(w2,`Sending RPC '${e}' ${o}:`,l,r);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(a,i,s);const{host:u}=new URL(l),c=du(u);return this.jo(e,l,a,r,c).then(h=>(_t(w2,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Zc(w2,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",r),h})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=V$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="WebChannelConnection";class $$ extends K${constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=Mb();return new Promise((l,a)=>{const u=new hj;u.setWithCredentials(!0),u.listenOnce(fj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pv.NO_ERROR:const h=u.getResponseJson();_t(cs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case pv.TIMEOUT:_t(cs,`RPC '${e}' ${o} timed out`),a(new gt(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const p=u.getStatus();if(_t(cs,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m==null?void 0:m.error;if(b&&b.status&&b.message){const _=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(y)>=0?y:Ke.UNKNOWN}(b.status);a(new gt(_,b.message))}else a(new gt(Ke.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new gt(Ke.UNAVAILABLE,"Connection failed."));break;default:Jt(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{_t(cs,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);_t(cs,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}P_(e,n,r){const i=Mb(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gj(),l=mj(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.zo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=s.join("");_t(cs,`Creating RPC '${e}' stream ${i}: ${c}`,a);const h=o.createWebChannel(c,a);this.T_(h);let p=!1,m=!1;const b=new z$({Ho:C=>{m?_t(cs,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(_t(cs,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),_t(cs,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},Yo:()=>h.close()}),_=(C,w,y)=>{C.listen(w,E=>{try{y(E)}catch(F){setTimeout(()=>{throw F},0)}})};return _(h,Ap.EventType.OPEN,()=>{m||(_t(cs,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),_(h,Ap.EventType.CLOSE,()=>{m||(m=!0,_t(cs,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(h))}),_(h,Ap.EventType.ERROR,C=>{m||(m=!0,Zc(cs,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),b.__(new gt(Ke.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ap.EventType.MESSAGE,C=>{var w;if(!m){const y=C.data[0];Un(!!y,16349);const E=y,F=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(F){_t(cs,`RPC '${e}' stream ${i} received error:`,F);const M=F.status;let k=function(O){const H=Zr[O];if(H!==void 0)return Zj(H)}(M),N=F.message;k===void 0&&(k=Ke.INTERNAL,N="Unknown error status: "+M+" with message "+F.message),m=!0,b.__(new gt(k,N)),h.close()}else _t(cs,`RPC '${e}' stream ${i} received:`,y),b.a_(y)}}),_(l,pj.STAT_EVENT,C=>{C.stat===Ib.PROXY?_t(cs,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Ib.NOPROXY&&_t(cs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function x2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){return new Jz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&_t("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="PersistentStream";class fU{constructor(e,n,r,i,s,o,l,a){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hU(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Ke.RESOURCE_EXHAUSTED?(kA(n.toString()),kA("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new gt(Ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return _t(JI,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(_t(JI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G$ extends fU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Zz(this.serializer,e),r=function(s){if(!("targetChange"in s))return Xt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Xt.min():o.readTime?Hl(o.readTime):Xt.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Db(this.serializer),n.addTarget=function(s,o){let l;const a=o.target;if(l=Lb(a)?{documents:n$(s,a)}:{query:r$(s,a).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=nU(s,o.resumeToken);const u=kb(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Xt.min())>0){l.readTime=py(s,o.snapshotVersion.toTimestamp());const u=kb(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=s$(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Db(this.serializer),n.removeTarget=e,this.k_(n)}}class W$ extends fU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Un(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Un(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Un(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=t$(e.writeResults,e.commitTime),r=Hl(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Db(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e$(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${}class J$ extends q${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Rb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new gt(Ke.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,Rb(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(Ke.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Y${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(kA(n),this._a=!1):_t("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="RemoteStore";class X${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Id(this)&&(_t(vd,"Restarting streams for network reachability change."),await async function(a){const u=en(a);u.Ia.add(4),await Ag(u),u.Aa.set("Unknown"),u.Ia.delete(4),await R1(u)}(this))})}),this.Aa=new Y$(r,i)}}async function R1(t){if(Id(t))for(const e of t.da)await e(!0)}async function Ag(t){for(const e of t.da)await e(!1)}function pU(t,e){const n=en(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),PC(n)?FC(n):xf(n).x_()&&TC(n,e))}function NC(t,e){const n=en(t),r=xf(n);n.Ta.delete(e),r.x_()&&mU(n,e),n.Ta.size===0&&(r.x_()?r.B_():Id(n)&&n.Aa.set("Unknown"))}function TC(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xf(t).H_(e)}function mU(t,e){t.Ra.$e(e),xf(t).Y_(e)}function FC(t){t.Ra=new $z({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),xf(t).start(),t.Aa.aa()}function PC(t){return Id(t)&&!xf(t).M_()&&t.Ta.size>0}function Id(t){return en(t).Ia.size===0}function gU(t){t.Ra=void 0}async function Z$(t){t.Aa.set("Online")}async function eG(t){t.Ta.forEach((e,n)=>{TC(t,e)})}async function tG(t,e){gU(t),PC(t)?(t.Aa.la(e),FC(t)):t.Aa.set("Unknown")}async function nG(t,e,n){if(t.Aa.set("Online"),e instanceof tU&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ta.delete(l),i.Ra.removeTarget(l))}(t,e)}catch(r){_t(vd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gy(t,r)}else if(e instanceof yv?t.Ra.Ye(e):e instanceof eU?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Xt.min()))try{const r=await dU(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Ra.Pt(o);return l.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Ta.get(u);c&&s.Ta.set(u,c.withResumeToken(a.resumeToken,o))}}),l.targetMismatches.forEach((a,u)=>{const c=s.Ta.get(a);if(!c)return;s.Ta.set(a,c.withResumeToken(es.EMPTY_BYTE_STRING,c.snapshotVersion)),mU(s,a);const h=new Ic(c.target,a,u,c.sequenceNumber);TC(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){_t(vd,"Failed to raise snapshot:",r),await gy(t,r)}}async function gy(t,e,n){if(!yf(e))throw e;t.Ia.add(1),await Ag(t),t.Aa.set("Offline"),n||(n=()=>dU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_t(vd,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await R1(t)})}function vU(t,e){return e().catch(n=>gy(t,n,e))}async function O1(t){const e=en(t),n=iu(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:mC;for(;rG(e);)try{const i=await O$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,iG(e,i)}catch(i){await gy(e,i)}yU(e)&&wU(e)}function rG(t){return Id(t)&&t.Pa.length<10}function iG(t,e){t.Pa.push(e);const n=iu(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function yU(t){return Id(t)&&!iu(t).M_()&&t.Pa.length>0}function wU(t){iu(t).start()}async function sG(t){iu(t).na()}async function oG(t){const e=iu(t);for(const n of t.Pa)e.X_(n.mutations)}async function aG(t,e,n){const r=t.Pa.shift(),i=bC.from(r,e,n);await vU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await O1(t)}async function lG(t,e){e&&iu(t).Z_&&await async function(r,i){if(function(o){return Kz(o)&&o!==Ke.ABORTED}(i.code)){const s=r.Pa.shift();iu(r).N_(),await vU(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await O1(r)}}(t,e),yU(t)&&wU(t)}async function YI(t,e){const n=en(t);n.asyncQueue.verifyOperationInProgress(),_t(vd,"RemoteStore received new credentials");const r=Id(n);n.Ia.add(3),await Ag(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await R1(n)}async function AG(t,e){const n=en(t);e?(n.Ia.delete(2),await R1(n)):e||(n.Ia.add(2),await Ag(n),n.Aa.set("Unknown"))}function xf(t){return t.Va||(t.Va=function(n,r,i){const s=en(n);return s.ia(),new G$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:Z$.bind(null,t),e_:eG.bind(null,t),n_:tG.bind(null,t),J_:nG.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),PC(t)?FC(t):t.Aa.set("Unknown")):(await t.Va.stop(),gU(t))})),t.Va}function iu(t){return t.ma||(t.ma=function(n,r,i){const s=en(n);return s.ia(),new W$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:sG.bind(null,t),n_:lG.bind(null,t),ea:oG.bind(null,t),ta:aG.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await O1(t)):(await t.ma.stop(),t.Pa.length>0&&(_t(vd,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new CA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new LC(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jC(t,e){if(kA("AsyncQueue",`${e}: ${t}`),yf(t))return new gt(Ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{static emptySet(e){return new Vh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ot.comparator(n.key,r.key):(n,r)=>Ot.comparator(n.key,r.key),this.keyedMap=cp(),this.sortedSet=new xr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.fa=new xr(Ot.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Jt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class of{constructor(e,n,r,i,s,o,l,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new of(e,n,Vh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&T1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class uG{constructor(){this.queries=ZI(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=en(n),s=i.queries;i.queries=ZI(),s.forEach((o,l)=>{for(const a of l.wa)a.onError(r)})})(this,new gt(Ke.ABORTED,"Firestore shutting down"))}}function ZI(){return new Sd(t=>Mj(t),T1)}async function UC(t,e){const n=en(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new cG,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=jC(o,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&RC(n)}async function kC(t,e){const n=en(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dG(t,e){const n=en(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.wa)l.Ca(i)&&(r=!0);o.ya=i}}r&&RC(n)}function hG(t,e,n){const r=en(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function RC(t){t.Da.forEach(e=>{e.next()})}var Hb,e4;(e4=Hb||(Hb={})).Fa="default",e4.Cache="cache";class OC{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new of(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=of.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Hb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.key=e}}class bU{constructor(e){this.key=e}}class fG{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xn(),this.mutatedKeys=xn(),this.Xa=Hj(e),this.eu=new Vh(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new XI,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const p=i.get(c),m=F1(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let C=!1;p&&m?p.data.isEqual(m.data)?b!==_&&(r.track({type:3,doc:m}),C=!0):this.iu(p,m)||(r.track({type:2,doc:m}),C=!0,(a&&this.Xa(m,a)>0||u&&this.Xa(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),C=!0):p&&!m&&(r.track({type:1,doc:p}),C=!0,(a||u)&&(l=!0)),C&&(m?(o=o.add(m),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{eu:o,ru:r,Ds:l,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((c,h)=>function(m,b){const _=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt(20277,{At:C})}};return _(m)-_(b)}(c.type,h.type)||this.Xa(c.doc,h.doc)),this.su(r),i=i!=null&&i;const l=n&&!i?this.ou():[],a=this.Za.size===0&&this.current&&!i?1:0,u=a!==this.Ya;return this.Ya=a,o.length!==0||u?{snapshot:new of(this.query,e.eu,s,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new XI,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xn(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new bU(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new xU(r))}),n}uu(e){this.Ha=e.qs,this.Za=xn();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return of.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const DC="SyncEngine";class pG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mG{constructor(e){this.key=e,this.lu=!1}}class gG{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Sd(l=>Mj(l),T1),this.Tu=new Map,this.Iu=new Set,this.du=new xr(Ot.comparator),this.Eu=new Map,this.Au=new CC,this.Ru={},this.Vu=new Map,this.mu=sf.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function vG(t,e,n=!0){const r=IU(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await _U(r,e,n,!0),i}async function yG(t,e){const n=IU(t);await _U(n,e,!0,!1)}async function _U(t,e,n,r){const i=await D$(t.localStore,Ml(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await wG(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&pU(t.remoteStore,i),l}async function wG(t,e,n,r,i){t.gu=(h,p,m)=>async function(_,C,w,y){let E=C.view.nu(w);E.Ds&&(E=await $I(_.localStore,C.query,!1).then(({documents:N})=>C.view.nu(N,E)));const F=y&&y.targetChanges.get(C.targetId),M=y&&y.targetMismatches.get(C.targetId)!=null,k=C.view.applyChanges(E,_.isPrimaryClient,F,M);return n4(_,C.targetId,k._u),k.snapshot}(t,h,p,m);const s=await $I(t.localStore,e,!0),o=new fG(e,s.qs),l=o.nu(s.documents),a=lg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,a);n4(t,n,u._u);const c=new pG(e,n,o);return t.Pu.set(e,c),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function xG(t,e,n){const r=en(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!T1(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NC(r.remoteStore,i.targetId),Vb(r,i.targetId)}).catch(vf)):(Vb(r,i.targetId),await Qb(r.localStore,i.targetId,!0))}async function bG(t,e){const n=en(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NC(n.remoteStore,r.targetId))}async function _G(t,e,n){const r=TG(t);try{const i=await function(o,l){const a=en(o),u=ar.now(),c=l.reduce((m,b)=>m.add(b.key),xn());let h,p;return a.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=RA(),_=xn();return a.Os.getEntries(m,c).next(C=>{b=C,b.forEach((w,y)=>{y.isValidDocument()||(_=_.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(m,b)).next(C=>{h=C;const w=[];for(const y of l){const E=Dz(y,h.get(y.key).overlayedDocument);E!=null&&w.push(new gu(y.key,E,Lj(E.value.mapValue),Hs.exists(!0)))}return a.mutationQueue.addMutationBatch(m,u,w,l)}).next(C=>{p=C;const w=C.applyToLocalDocumentSet(h,_);return a.documentOverlayCache.saveOverlays(m,C.batchId,w)})}).then(()=>({batchId:p.batchId,changes:Kj(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,a){let u=o.Ru[o.currentUser.toKey()];u||(u=new xr(dn)),u=u.insert(l,a),o.Ru[o.currentUser.toKey()]=u}(r,i.batchId,n),await cg(r,i.changes),await O1(r.remoteStore)}catch(i){const s=jC(i,"Failed to persist write");n.reject(s)}}async function BU(t,e){const n=en(t);try{const r=await k$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Un(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Un(o.lu,14607):i.removedDocuments.size>0&&(Un(o.lu,42227),o.lu=!1))}),await cg(n,r,e)}catch(r){await vf(r)}}function t4(t,e,n){const r=en(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const a=en(o);a.onlineState=l;let u=!1;a.queries.forEach((c,h)=>{for(const p of h.wa)p.va(l)&&(u=!0)}),u&&RC(a)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BG(t,e,n){const r=en(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new xr(Ot.comparator);o=o.insert(s,ws.newNoDocument(s,Xt.min()));const l=xn().add(s),a=new U1(Xt.min(),new Map,new xr(dn),o,l);await BU(r,a),r.du=r.du.remove(s),r.Eu.delete(e),QC(r)}else await Qb(r.localStore,e,!1).then(()=>Vb(r,e,n)).catch(vf)}async function CG(t,e){const n=en(t),r=e.batch.batchId;try{const i=await U$(n.localStore,e);EU(n,r,null),CU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cg(n,i)}catch(i){await vf(i)}}async function EG(t,e,n){const r=en(t);try{const i=await function(o,l){const a=en(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,l).next(h=>(Un(h!==null,37113),c=h.keys(),a.mutationQueue.removeMutationBatch(u,h))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,l)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);EU(r,e,n),CU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cg(r,i)}catch(i){await vf(i)}}function CU(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function EU(t,e,n){const r=en(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Vb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||SU(t,r)})}function SU(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(NC(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),QC(t))}function n4(t,e,n){for(const r of n)r instanceof xU?(t.Au.addReference(r.key,e),SG(t,r)):r instanceof bU?(_t(DC,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||SU(t,r.key)):Jt(19791,{yu:r})}function SG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(_t(DC,"New document in limbo: "+n),t.Iu.add(r),QC(t))}function QC(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ot(rr.fromString(e)),r=t.mu.next();t.Eu.set(r,new mG(n)),t.du=t.du.insert(n,r),pU(t.remoteStore,new Ic(Ml(N1(n.path)),r,"TargetPurposeLimboResolution",E1.ue))}}async function cg(t,e,n){const r=en(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((l,a)=>{o.push(r.gu(a,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(a.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(a.targetId,h?"current":"not-current")}if(u){i.push(u);const h=SC.Es(a.targetId,u);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await async function(a,u){const c=en(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Xe.forEach(u,p=>Xe.forEach(p.Is,m=>c.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>Xe.forEach(p.ds,m=>c.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!yf(h))throw h;_t(IC,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=c.Fs.get(p),b=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(b);c.Fs=c.Fs.insert(p,_)}}}(r.localStore,s))}async function IG(t,e){const n=en(t);if(!n.currentUser.isEqual(e)){_t(DC,"User change. New user:",e.toKey());const r=await uU(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(l=>{l.forEach(a=>{a.reject(new gt(Ke.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cg(n,r.Bs)}}function NG(t,e){const n=en(t),r=n.Eu.get(e);if(r&&r.lu)return xn().add(r.key);{let i=xn();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const l=n.Pu.get(o);i=i.unionWith(l.view.tu)}return i}}function IU(t){const e=en(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BG.bind(null,e),e.hu.J_=dG.bind(null,e.eventManager),e.hu.pu=hG.bind(null,e.eventManager),e}function TG(t){const e=en(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EG.bind(null,e),e}class vy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=k1(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return j$(this.persistence,new F$,e.initialUser,this.serializer)}Du(e){return new cU(EC.Vi,this.serializer)}bu(e){return new M$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vy.provider={build:()=>new vy};class FG extends vy{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Un(this.persistence.referenceDelegate instanceof my,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new m$(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new cU(r=>my.Vi(r,n),this.serializer)}}class Kb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IG.bind(null,this.syncEngine),await AG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uG}()}createDatastore(e){const n=k1(e.databaseInfo.databaseId),r=function(s){return new $$(s)}(e.databaseInfo);return function(s,o,l,a){return new J$(s,o,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new X$(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>t4(this.syncEngine,n,0),function(){return qI.C()?new qI:new H$}())}createSyncEngine(e,n){return function(i,s,o,l,a,u,c){const h=new gG(i,s,o,l,a,u);return c&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=en(i);_t(vd,"RemoteStore shutting down."),s.Ia.add(5),await Ag(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kb.provider={build:()=>new Kb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):kA("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="FirestoreClient";class PG{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gs.UNAUTHENTICATED,this.clientId=pC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{_t(su,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(_t(su,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new CA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function b2(t,e){t.asyncQueue.verifyOperationInProgress(),_t(su,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Zc("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{_t("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Zc("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function r4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LG(t);_t(su,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YI(e.remoteStore,i)),t._onlineComponents=e}async function LG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_t(su,"Using user provided OfflineComponentProvider");try{await b2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ke.FAILED_PRECONDITION||i.code===Ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zc("Error using user provided cache. Falling back to memory cache: "+n),await b2(t,new vy)}}else _t(su,"Using default OfflineComponentProvider"),await b2(t,new FG(void 0));return t._offlineComponents}async function NU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_t(su,"Using user provided OnlineComponentProvider"),await r4(t,t._uninitializedComponentsProvider._online)):(_t(su,"Using default OnlineComponentProvider"),await r4(t,new Kb))),t._onlineComponents}function jG(t){return NU(t).then(e=>e.syncEngine)}async function yy(t){const e=await NU(t),n=e.eventManager;return n.onListen=vG.bind(null,e.syncEngine),n.onUnlisten=xG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bG.bind(null,e.syncEngine),n}function UG(t,e,n={}){const r=new CA;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,a,u){const c=new MC({next:p=>{c.Ou(),o.enqueueAndForget(()=>kC(s,h));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new gt(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&a&&a.source==="server"?u.reject(new gt(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new OC(N1(l.path),c,{includeMetadataChanges:!0,ka:!0});return UC(s,h)}(await yy(t),t.asyncQueue,e,n,r)),r.promise}function kG(t,e,n={}){const r=new CA;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,a,u){const c=new MC({next:p=>{c.Ou(),o.enqueueAndForget(()=>kC(s,h)),p.fromCache&&a.source==="server"?u.reject(new gt(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new OC(l,c,{includeMetadataChanges:!0,ka:!0});return UC(s,h)}(await yy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="firestore.googleapis.com",s4=!0;class o4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FU,this.ssl=s4}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:s4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f$)throw new gt(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new gt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new gt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new gt(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KK;switch(r.type){case"firstParty":return new WK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i4.get(n);r&&(_t("ComponentProvider","Removing Datastore"),i4.delete(n),r.terminate())}(this),Promise.resolve()}}function RG(t,e,n,r={}){var i;t=Ms(t,D1);const s=du(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s&&(RB(`https://${a}`),OB("Firestore",!0)),o.host!==FU&&o.host!==a&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:a,ssl:s,emulatorOptions:r});if(!pd(u,l)&&(t._setSettings(u),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=gs.MOCK_USER;else{c=$3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new gt(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new gs(p)}t._authCredentials=new zK(new yj(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vu(this.firestore,e,this._query)}}class Nr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}toJSON(){return{type:Nr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(og(n,Nr._jsonSchema))return new Nr(e,r||null,new Ot(rr.fromString(n.referencePath)))}}Nr._jsonSchemaVersion="firestore/documentReference/1.0",Nr._jsonSchema={type:si("string",Nr._jsonSchemaVersion),referencePath:si("string")};class $c extends vu{constructor(e,n,r){super(e,n,N1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new Ot(e))}withConverter(e){return new $c(this.firestore,e,this._path)}}function ro(t,e,...n){if(t=jt(t),xj("collection","path",e),t instanceof D1){const r=rr.fromString(e,...n);return yI(r),new $c(t,null,r)}{if(!(t instanceof Nr||t instanceof $c))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rr.fromString(e,...n));return yI(r),new $c(t.firestore,null,r)}}function nr(t,e,...n){if(t=jt(t),arguments.length===1&&(e=pC.newId()),xj("doc","path",e),t instanceof D1){const r=rr.fromString(e,...n);return vI(r),new Nr(t,null,new Ot(r))}{if(!(t instanceof Nr||t instanceof $c))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rr.fromString(e,...n));return vI(r),new Nr(t.firestore,t instanceof $c?t.converter:null,new Ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="AsyncQueue";class l4{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hU(this,"async_queue_retry"),this.oc=()=>{const r=x2();r&&_t(a4,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=x2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=x2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new CA;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!yf(e))throw e;_t(a4,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,kA("INTERNAL UNHANDLED ERROR: ",A4(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=LC.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Jt(47125,{hc:A4(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function A4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ql extends D1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new l4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l4(e),this._firestoreClient=void 0,await e}}}function OG(t,e){const n=typeof t=="object"?t:u1(),r=typeof t=="string"?t:e||uy,i=c1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=V3("firestore");s&&RG(i,...s)}return i}function ug(t){if(t._terminated)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DG(t),t._firestoreClient}function DG(t){var e,n,r;const i=t._freezeSettings(),s=function(l,a,u,c){return new cz(l,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,TU(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new PG(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const a=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(es.fromBase64String(e))}catch(n){throw new gt(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(og(e,fa._jsonSchema))return fa.fromBase64String(e.bytes)}}fa._jsonSchemaVersion="firestore/bytes/1.0",fa._jsonSchema={type:si("string",fa._jsonSchemaVersion),bytes:si("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new gt(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new gt(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new gt(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vl._jsonSchemaVersion}}static fromJSON(e){if(og(e,Vl._jsonSchema))return new Vl(e.latitude,e.longitude)}}Vl._jsonSchemaVersion="firestore/geoPoint/1.0",Vl._jsonSchema={type:si("string",Vl._jsonSchemaVersion),latitude:si("number"),longitude:si("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(og(e,Kl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Kl(e.vectorValues);throw new gt(Ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kl._jsonSchemaVersion="firestore/vectorValue/1.0",Kl._jsonSchema={type:si("string",Kl._jsonSchemaVersion),vectorValues:si("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=/^__.*__$/;class MG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ag(e,this.data,n,this.fieldTransforms)}}class PU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt(40011,{Ec:t})}}class HC{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new HC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return wy(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(LU(this.Ec)&&QG.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class HG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||k1(e)}Dc(e,n,r,i=!1){return new HC({Ec:e,methodName:n,bc:r,path:Ji.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(t){const e=t._freezeSettings(),n=k1(t._databaseId);return new HG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VC(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);zC("Data must be an object, but it was:",o,r);const l=kU(r,o);let a,u;if(s.merge)a=new Do(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const p=zb(e,h,n);if(!o.contains(p))throw new gt(Ke.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);OU(c,p)||c.push(p)}a=new Do(c),u=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,u=o.fieldTransforms;return new MG(new oo(l),a,u)}class M1 extends Q1{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof M1}}class KC extends Q1{_toFieldTransform(e){return new Uz(e.path,new Um)}isEqual(e){return e instanceof KC}}function jU(t,e,n,r){const i=t.Dc(1,e,n);zC("Data must be an object, but it was:",i,r);const s=[],o=oo.empty();mu(r,(a,u)=>{const c=$C(e,a,n);u=jt(u);const h=i.gc(c);if(u instanceof M1)s.push(c);else{const p=fg(u,h);p!=null&&(s.push(c),o.set(c,p))}});const l=new Do(s);return new PU(o,l,i.fieldTransforms)}function UU(t,e,n,r,i,s){const o=t.Dc(1,e,n),l=[zb(e,r,n)],a=[i];if(s.length%2!=0)throw new gt(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(zb(e,s[p])),a.push(s[p+1]);const u=[],c=oo.empty();for(let p=l.length-1;p>=0;--p)if(!OU(u,l[p])){const m=l[p];let b=a[p];b=jt(b);const _=o.gc(m);if(b instanceof M1)u.push(m);else{const C=fg(b,_);C!=null&&(u.push(m),c.set(m,C))}}const h=new Do(u);return new PU(c,h,o.fieldTransforms)}function VG(t,e,n,r=!1){return fg(n,t.Dc(r?4:3,e))}function fg(t,e){if(RU(t=jt(t)))return zC("Unsupported field value:",e,t),kU(t,e);if(t instanceof Q1)return function(r,i){if(!LU(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let a=fg(l,i.yc(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Pz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ar.fromDate(r);return{timestampValue:py(i.serializer,s)}}if(r instanceof ar){const s=new ar(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:py(i.serializer,s)}}if(r instanceof Vl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:nU(i.serializer,r._byteString)};if(r instanceof Nr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:BC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kl)return function(o,l){return{mapValue:{fields:{[Tj]:{stringValue:Pj},[dy]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return xC(l.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${C1(r)}`)}(t,e)}function kU(t,e){const n={};return Bj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(t,(r,i)=>{const s=fg(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function RU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ar||t instanceof Vl||t instanceof fa||t instanceof Nr||t instanceof Q1||t instanceof Kl)}function zC(t,e,n){if(!RU(n)||!bj(n)){const r=C1(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function zb(t,e,n){if((e=jt(e))instanceof dg)return e._internalPath;if(typeof e=="string")return $C(t,e);throw wy("Field path arguments must be of type string or ",t,!1,void 0,n)}const KG=new RegExp("[~\\*/\\[\\]]");function $C(t,e,n){if(e.search(KG)>=0)throw wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dg(...e.split("."))._internalPath}catch{throw wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new gt(Ke.INVALID_ARGUMENT,l+t+a)}function OU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zG extends DU{data(){return super.data()}}function H1(t,e){return typeof e=="string"?$C(t,e):e instanceof dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new gt(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GC{}class MU extends GC{}function Tl(t,e,...n){let r=[];e instanceof GC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof WC).length,l=s.filter(a=>a instanceof V1).length;if(o>1||o>0&&l>0)throw new gt(Ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class V1 extends MU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new V1(e,n,r)}_apply(e){const n=this._parse(e);return HU(e._query,n),new vu(e.firestore,e.converter,jb(e._query,n))}_parse(e){const n=hg(e.firestore);return function(s,o,l,a,u,c,h){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){d4(h,c);const b=[];for(const _ of h)b.push(u4(a,s,_));p={arrayValue:{values:b}}}else p=u4(a,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||d4(h,c),p=VG(l,o,h,c==="in"||c==="not-in");return ii.create(u,c,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ko(t,e,n){const r=e,i=H1("where",t);return V1._create(i,r,n)}class WC extends GC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new WC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ol.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const a of l)HU(o,a),o=jb(o,a)}(e._query,n),new vu(e.firestore,e.converter,jb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qC extends MU{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qC(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jm(s,o)}(e._query,this._field,this._direction);return new vu(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new wf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Om(t,e="asc"){const n=e,r=H1("orderBy",t);return qC._create(r,n)}function u4(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qj(e)&&n.indexOf("/")!==-1)throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rr.fromString(n));if(!Ot.isDocumentKey(r))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SI(t,new Ot(r))}if(n instanceof Nr)return SI(t,n._key);throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${C1(n)}.`)}function d4(t,e){if(!Array.isArray(t)||t.length===0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HU(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new gt(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new gt(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $G{convertValue(e,n="none"){switch(ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Jt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[dy].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Hr(o.doubleValue));return new Kl(s)}convertGeoPoint(e){return new Vl(Hr(e.latitude),Hr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=I1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fm(e));default:return null}}convertTimestamp(e){const n=tu(e);return new ar(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rr.fromString(e);Un(lU(r),9688,{name:e});const i=new Pm(r.get(1),r.get(3)),s=new Ot(r.popFirst(5));return i.isEqual(n)||kA(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ed extends DU{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ed._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ed._jsonSchemaVersion="firestore/documentSnapshot/1.0",ed._jsonSchema={type:si("string",ed._jsonSchemaVersion),bundleSource:si("string","DocumentSnapshot"),bundleName:si("string"),bundle:si("string")};class wv extends ed{data(e={}){return super.data(e)}}class td{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wv(this._firestore,this._userDataWriter,r.key,r,new dp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const a=new wv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new dp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const a=new wv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new dp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),c=o.indexOf(l.doc.key)),{type:GG(l.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(Ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=td._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){t=Ms(t,Nr);const e=Ms(t.firestore,ql);return UG(ug(e),t._key).then(n=>VU(e,t,n))}td._jsonSchemaVersion="firestore/querySnapshot/1.0",td._jsonSchema={type:si("string",td._jsonSchemaVersion),bundleSource:si("string","QuerySnapshot"),bundleName:si("string"),bundle:si("string")};class YC extends $G{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,n)}}function WG(t){t=Ms(t,vu);const e=Ms(t.firestore,ql),n=ug(e),r=new YC(e);return QU(t._query),kG(n,t._query).then(i=>new td(e,r,t,i))}function Xa(t,e,n){t=Ms(t,Nr);const r=Ms(t.firestore,ql),i=JC(t.converter,e,n);return pg(r,[VC(hg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hs.none())])}function Aa(t,e,n,...r){t=Ms(t,Nr);const i=Ms(t.firestore,ql),s=hg(i);let o;return o=typeof(e=jt(e))=="string"||e instanceof dg?UU(s,"updateDoc",t._key,e,n,r):jU(s,"updateDoc",t._key,e),pg(i,[o.toMutation(t._key,Hs.exists(!0))])}function h4(t){return pg(Ms(t.firestore,ql),[new j1(t._key,Hs.none())])}function xy(t,e){const n=Ms(t.firestore,ql),r=nr(t),i=JC(t.converter,e);return pg(n,[VC(hg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hs.exists(!1))]).then(()=>r)}function pa(t,...e){var n,r,i;t=jt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||c4(e[o])||(s=e[o++]);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(c4(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let a,u,c;if(t instanceof Nr)u=Ms(t.firestore,ql),c=N1(t._key.path),a={next:h=>{e[o]&&e[o](VU(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ms(t,vu);u=Ms(h.firestore,ql),c=h._query;const p=new YC(u);a={next:m=>{e[o]&&e[o](new td(u,p,h,m))},error:e[o+1],complete:e[o+2]},QU(t._query)}return function(p,m,b,_){const C=new MC(_),w=new OC(m,C,b);return p.asyncQueue.enqueueAndForget(async()=>UC(await yy(p),w)),()=>{C.Ou(),p.asyncQueue.enqueueAndForget(async()=>kC(await yy(p),w))}}(ug(u),c,l,a)}function pg(t,e){return function(r,i){const s=new CA;return r.asyncQueue.enqueueAndForget(async()=>_G(await jG(r),i,s)),s.promise}(ug(t),e)}function VU(t,e,n){const r=n.docs.get(e._key),i=new YC(t);return new ed(t,i,e._key,r,new dp(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hg(e)}set(e,n,r){this._verifyNotCommitted();const i=_2(e,this._firestore),s=JC(i.converter,n,r),o=VC(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Hs.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=_2(e,this._firestore);let o;return o=typeof(n=jt(n))=="string"||n instanceof dg?UU(this._dataReader,"WriteBatch.update",s._key,n,r,i):jU(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Hs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=_2(e,this._firestore);return this._mutations=this._mutations.concat(new j1(n._key,Hs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _2(t,e){if((t=jt(t)).firestore!==e)throw new gt(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function $i(){return new KC("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t){return ug(t=Ms(t,ql)),new qG(t,e=>pg(t,e))}(function(e,n=!0){(function(i){gf=i})(Bd),md(new Xc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new ql(new $K(r.getProvider("auth-internal")),new qK(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new gt(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pm(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ql(hI,fI,e),Ql(hI,fI,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="firebasestorage.googleapis.com",zU="storageBucket",YG=2*60*1e3,XG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Jl{constructor(e,n,r=0){super(B2(e),`Firebase Storage: ${n} (${B2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return B2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function B2(t){return"storage/"+t}function XC(){const t="An unknown error occurred, please check the error payload for server response.";return new Lr(Fr.UNKNOWN,t)}function ZG(t){return new Lr(Fr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eW(t){return new Lr(Fr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lr(Fr.UNAUTHENTICATED,t)}function nW(){return new Lr(Fr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rW(t){return new Lr(Fr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iW(){return new Lr(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sW(){return new Lr(Fr.CANCELED,"User canceled the upload/download.")}function oW(t){return new Lr(Fr.INVALID_URL,"Invalid URL '"+t+"'.")}function aW(t){return new Lr(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lW(){return new Lr(Fr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zU+"' property when initializing the app?")}function AW(){return new Lr(Fr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cW(){return new Lr(Fr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uW(t){return new Lr(Fr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $b(t){return new Lr(Fr.INVALID_ARGUMENT,t)}function $U(){return new Lr(Fr.APP_DELETED,"The Firebase app was deleted.")}function dW(t){return new Lr(Fr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kp(t,e){return new Lr(Fr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vf(t){throw new Lr(Fr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qo.makeFromUrl(e,n)}catch{return new Qo(e,"")}if(r.path==="")return r;throw aW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function u(F){F.path_=decodeURIComponent(F.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${c}/b/${i}/o${p}`,"i"),b={bucket:1,path:3},_=n===KU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${C}`,"i"),E=[{regex:l,indices:a,postModify:s},{regex:m,indices:b,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let F=0;F<E.length;F++){const M=E[F],k=M.regex.exec(e);if(k){const N=k[M.indices.bucket];let S=k[M.indices.path];S||(S=""),r=new Qo(N,S),M.postModify(r);break}}if(r==null)throw oW(e);return r}}class hW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function a(){return l===2}let u=!1;function c(...C){u||(u=!0,e.apply(null,C))}function h(C){i=setTimeout(()=>{i=null,t(m,a())},C)}function p(){s&&clearTimeout(s)}function m(C,...w){if(u){p();return}if(C){p(),c.call(null,C,...w);return}if(a()||o){p(),c.call(null,C,...w);return}r<64&&(r*=2);let E;l===1?(l=2,E=0):E=(r+Math.random())*1e3,h(E)}let b=!1;function _(C){b||(b=!0,p(),!u&&(i!==null?(C||(l=2),clearTimeout(i),h(0)):C||(l=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function pW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){return t!==void 0}function gW(t){return typeof t=="object"&&!Array.isArray(t)}function ZC(t){return typeof t=="string"||t instanceof String}function f4(t){return eE()&&t instanceof Blob}function eE(){return typeof Blob<"u"}function p4(t,e,n,r){if(r<e)throw $b(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $b(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function GU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nd||(nd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n,r,i,s,o,l,a,u,c,h,p=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,_)=>{this.resolve_=b,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new o0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===nd.NO_ERROR,a=s.getStatus();if(!l||vW(a,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===nd.ABORT;r(!1,new o0(!1,null,c));return}const u=this.successCodes_.indexOf(a)!==-1;r(!0,new o0(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());mW(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=XC();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(i.canceled){const a=this.appDelete_?$U():sW();o(a)}else{const a=iW();o(a)}};this.canceled_?n(!1,new o0(!1,null,!0)):this.backoffId_=fW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class o0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function wW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _W(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BW(t,e,n,r,i,s,o=!0,l=!1){const a=GU(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return bW(c,e),wW(c,n),xW(c,s),_W(c,r),new yW(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EW(...t){const e=CW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(eE())return new Blob(t);throw new Lr(Fr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){if(typeof atob>"u")throw uW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class C2{constructor(e,n){this.data=e,this.contentType=n||null}}function WU(t,e){switch(t){case tl.RAW:return new C2(qU(e));case tl.BASE64:case tl.BASE64URL:return new C2(JU(t,e));case tl.DATA_URL:return new C2(TW(e),FW(e))}throw XC()}function qU(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NW(t){let e;try{e=decodeURIComponent(t)}catch{throw Kp(tl.DATA_URL,"Malformed data URL.")}return qU(e)}function JU(t,e){switch(t){case tl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Kp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case tl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Kp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=IW(e)}catch(i){throw i.message.includes("polyfill")?i:Kp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class YU{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kp(tl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=PW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function TW(t){const e=new YU(t);return e.base64?JU(tl.BASE64,e.rest):NW(e.rest)}function FW(t){return new YU(t).contentType}function PW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){let r=0,i="";f4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(f4(this.data_)){const r=this.data_,i=SW(r,e,n);return i===null?null:new _c(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _c(r,!0)}}static getBlob(...e){if(eE()){const n=e.map(r=>r instanceof _c?r.data_:r);return new _c(EW.apply(null,n))}else{const n=e.map(o=>ZC(o)?WU(tl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new _c(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){let e;try{e=JSON.parse(t)}catch{return null}return gW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ZU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e){return e}class ks{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||UW}}let a0=null;function kW(t){return!ZC(t)||t.length<2?t:ZU(t)}function ek(){if(a0)return a0;const t=[];t.push(new ks("bucket")),t.push(new ks("generation")),t.push(new ks("metageneration")),t.push(new ks("name","fullPath",!0));function e(s,o){return kW(o)}const n=new ks("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ks("size");return i.xform=r,t.push(i),t.push(new ks("timeCreated")),t.push(new ks("updated")),t.push(new ks("md5Hash",null,!0)),t.push(new ks("cacheControl",null,!0)),t.push(new ks("contentDisposition",null,!0)),t.push(new ks("contentEncoding",null,!0)),t.push(new ks("contentLanguage",null,!0)),t.push(new ks("contentType",null,!0)),t.push(new ks("metadata","customMetadata",!0)),a0=t,a0}function RW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qo(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function OW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return RW(r,t),r}function tk(t,e,n){const r=XU(e);return r===null?null:OW(t,r,n)}function DW(t,e,n,r){const i=XU(e);if(i===null||!ZC(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,p="/b/"+o(c)+"/o/"+o(h),m=tE(p,n,r),b=GU({alt:"media",token:u});return m+b})[0]}function QW(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class nk{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){if(!t)throw XC()}function MW(t,e){function n(r,i){const s=tk(t,i,e);return rk(s!==null),s}return n}function HW(t,e){function n(r,i){const s=tk(t,i,e);return rk(s!==null),DW(s,i,t.host,t._protocol)}return n}function ik(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=nW():i=tW():n.getStatus()===402?i=eW(t.bucket):n.getStatus()===403?i=rW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function VW(t){const e=ik(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ZG(t.path)),s.serverResponse=i.serverResponse,s}return n}function KW(t,e,n){const r=e.fullServerUrl(),i=tE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new nk(i,s,HW(t,n),o);return l.errorHandler=VW(e),l}function zW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $W(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=zW(null,e)),r}function GW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let E="";for(let F=0;F<2;F++)E=E+Math.random().toString().slice(2);return E}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const u=$W(e,r,i),c=QW(u,n),h="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+a+"--",m=_c.getBlob(h,r,p);if(m===null)throw AW();const b={name:u.fullPath},_=tE(s,t.host,t._protocol),C="POST",w=t.maxUploadRetryTime,y=new nk(_,C,MW(t,n),w);return y.urlParams=b,y.headers=o,y.body=m.uploadData(),y.errorHandler=ik(e),y}class WW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Vf("cannot .send() more than once");if(du(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qW extends WW{initXhr(){this.xhr_.responseType="text"}}function sk(){return new qW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this._service=e,n instanceof Qo?this._location=n:this._location=Qo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yd(e,n)}get root(){const e=new Qo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZU(this._location.path)}get storage(){return this._service}get parent(){const e=LW(this._location.path);if(e===null)return null;const n=new Qo(this._location.bucket,e);return new yd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dW(e)}}function ok(t,e,n){t._throwIfRoot("uploadBytes");const r=GW(t.storage,t._location,ek(),new _c(e,!0),n);return t.storage.makeRequestWithTokens(r,sk).then(i=>({metadata:i,ref:t}))}function JW(t,e,n=tl.RAW,r){t._throwIfRoot("uploadString");const i=WU(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),ok(t,i.data,s)}function YW(t){t._throwIfRoot("getDownloadURL");const e=KW(t.storage,t._location,ek());return t.storage.makeRequestWithTokens(e,sk).then(n=>{if(n===null)throw cW();return n})}function XW(t,e){const n=jW(t._location.path,e),r=new Qo(t._location.bucket,n);return new yd(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){return/^[A-Za-z]+:\/\//.test(t)}function eq(t,e){return new yd(t,e)}function ak(t,e){if(t instanceof nE){const n=t;if(n._bucket==null)throw lW();const r=new yd(n,n._bucket);return e!=null?ak(r,e):r}else return e!==void 0?XW(t,e):t}function tq(t,e){if(e&&ZW(e)){if(t instanceof nE)return eq(t,e);throw $b("To use ref(service, url), the first argument must be a Storage instance.")}else return ak(t,e)}function m4(t,e){const n=e==null?void 0:e[zU];return n==null?null:Qo.makeFromBucketSpec(n,t)}function nq(t,e,n,r={}){t.host=`${e}:${n}`;const i=du(e);i&&(RB(`https://${t.host}/b`),OB("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:$3(s,t.app.options.projectId))}class nE{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=KU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YG,this._maxUploadRetryTime=XG,this._requests=new Set,i!=null?this._bucket=Qo.makeFromBucketSpec(i,this._host):this._bucket=m4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qo.makeFromBucketSpec(this._url,e):this._bucket=m4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){p4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){p4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new hW($U());{const o=BW(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const g4="@firebase/storage",v4="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="storage";function rq(t,e,n){return t=jt(t),ok(t,e,n)}function Ak(t,e,n,r){return t=jt(t),JW(t,e,n,r)}function rE(t){return t=jt(t),YW(t)}function iE(t,e){return t=jt(t),tq(t,e)}function iq(t=u1(),e){t=jt(t);const r=c1(t,lk).getImmediate({identifier:e}),i=V3("storage");return i&&sq(r,...i),r}function sq(t,e,n,r={}){nq(t,e,n,r)}function oq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nE(n,r,i,e,Bd)}function aq(){md(new Xc(lk,oq,"PUBLIC").setMultipleInstances(!0)),Ql(g4,v4,""),Ql(g4,v4,"esm2017")}aq();function Kf(t){const e={VITE_API_BASE_URL:"# 値は NEXT_PUBLIC_API_BASE と同じでOK",VITE_FB_API_KEY:"AIzaSyCzy-eC78nqKl5sMImsvwVJJRN9gKvPrMM",VITE_FB_AUTH_DOMAIN:"anborco-app.firebaseapp.com",VITE_FB_PROJECT_ID:"anborco-app",VITE_FB_APP_ID:"1:531339502272:web:c27b9a03f9494ce5380325",VITE_FB_STORAGE_BUCKET:"anborco-app.firebasestorage.app",VITE_NEWS_FN_URL:"https://asia-northeast1-anborco-app.cloudfunctions.net/complianceNews",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[t];if(!e||String(e).trim()===""){const n=`Missing env: ${t}
• Vite では "VITE_" プレフィックスが必須です
• プロジェクト直下に .env.local を作成し、${t}=... を設定してください
• その後、開発サーバー/デプロイを再起動してください`;throw new Error(n)}return e}const lq={apiKey:Kf("VITE_FB_API_KEY"),authDomain:Kf("VITE_FB_AUTH_DOMAIN"),projectId:Kf("VITE_FB_PROJECT_ID"),appId:Kf("VITE_FB_APP_ID"),storageBucket:Kf("VITE_FB_STORAGE_BUCKET")},K1=r7().length?u1():q3(lq),wd=Bn(K1),ln=OG(K1),sE=iq(K1),y4={}.VITE_MASTER_ID??"anbor",Aq={}.VITE_MASTER_PASSWORD??"anboradminpass",l0=()=>{const t=new Date().toISOString().slice(0,10);localStorage.setItem("driverList_demoCompany",JSON.stringify(cK)),localStorage.setItem("demoResetDate",t),console.log("✅ demoデータを初期化しました")},cq=()=>{const[t,e]=Y.useState("driver"),[n,r]=Y.useState(""),[i,s]=Y.useState(""),[o,l]=Y.useState(!1),a=pu(),u=async c=>{if(c.preventDefault(),!o){l(!0);try{const h=(n??"").trim(),p=(i??"").trim();if(!h||!p){alert("ID と パスワードを入力してください");return}if(t==="master"){if(h===y4&&p===Aq){localStorage.setItem("currentUser",JSON.stringify({id:y4,name:"マスター管理者",company:"ANBOR本社",role:"master"})),a("/master");return}const m=h.includes("@")?h.toLowerCase():`${h.toLowerCase()}@anborco.jp`;await HS(wd,m,p);const _=JSON.parse(localStorage.getItem("customerMaster")||"[]").find(C=>typeof(C==null?void 0:C.uid)=="string"&&C.uid.toLowerCase()===m||typeof(C==null?void 0:C.loginId)=="string"&&C.loginId.toLowerCase()===h.toLowerCase());localStorage.setItem("currentUser",JSON.stringify({id:m,name:(_==null?void 0:_.contactPerson)||(_==null?void 0:_.company)||m,company:(_==null?void 0:_.company)||"",role:"master"})),a("/master");return}if(t==="driver"){if(h.toLowerCase()==="demo"&&p==="demo"){l0();const _={uid:"demo-driver-001",name:"デモ太郎",company:"デモ会社",loginId:"demo"};localStorage.setItem("currentUser",JSON.stringify({id:_.uid,name:_.name,company:_.company,role:"driver"})),localStorage.setItem("company",_.company),localStorage.setItem("loginId",_.loginId),localStorage.setItem("loggedInDriver","1"),a("/driver",{replace:!0});return}const m=Object.keys(localStorage).filter(_=>_.startsWith("driverList_"));let b=null;for(const _ of m){const w=JSON.parse(localStorage.getItem(_)||"[]").find(y=>{var E,F,M,k;return((F=(E=y==null?void 0:y.loginId)==null?void 0:E.toLowerCase)==null?void 0:F.call(E))===h.toLowerCase()&&((y==null?void 0:y.password)===p||((k=(M=y==null?void 0:y.password)==null?void 0:M.toString)==null?void 0:k.call(M))===p)});if(w){b=w;break}}if(!b){alert("ログインID または パスワードが違います");return}b.loginId==="demo"&&l0(),localStorage.setItem("currentUser",JSON.stringify({id:b.uid,name:b.name,company:b.company,role:"driver"})),localStorage.setItem("company",b.company),localStorage.setItem("loginId",b.loginId),localStorage.setItem("loggedInDriver","1"),a("/driver");return}if(t==="admin"){if(h.toLowerCase()==="demo"&&p==="demo"){const C={loginId:"demo",contactPerson:"管理者デモ",company:"デモ会社"},w=JSON.parse(localStorage.getItem("adminMaster")||"[]");w.some(y=>{var E,F;return((F=(E=y==null?void 0:y.loginId)==null?void 0:E.toLowerCase)==null?void 0:F.call(E))==="demo"})||(w.push(C),localStorage.setItem("adminMaster",JSON.stringify(w))),l0(),localStorage.setItem("currentUser",JSON.stringify({id:"demo",name:C.contactPerson,company:C.company,role:"admin"})),localStorage.setItem("company",C.company),a("/admin");return}const m=h.includes("@")?h.toLowerCase():`${h.toLowerCase()}@anborco.jp`;await HS(wd,m,p);const _=JSON.parse(localStorage.getItem("adminMaster")||"[]").find(C=>typeof(C==null?void 0:C.loginId)=="string"&&C.loginId.toLowerCase()===h.toLowerCase()||typeof(C==null?void 0:C.uid)=="string"&&C.uid.toLowerCase()===m);(_==null?void 0:_.loginId)==="demo"&&l0(),localStorage.setItem("currentUser",JSON.stringify({id:(_==null?void 0:_.loginId)||h,name:(_==null?void 0:_.contactPerson)||(_==null?void 0:_.company)||h,company:(_==null?void 0:_.company)||"",role:"admin"})),localStorage.setItem("company",(_==null?void 0:_.company)||""),a("/admin");return}}catch(h){console.error(h);const p=(h==null?void 0:h.code)==="auth/user-not-found"||(h==null?void 0:h.code)==="auth/wrong-password"?"ID または パスワードが違います":"ログインに失敗しました。しばらくしてから再度お試しください。";alert(p)}finally{l(!1)}}};return d.jsxs("div",{className:"fixed inset-0 overflow-hidden text-slate-100",children:[d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-[#0b1220] bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950"}),d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-white/[0.06] backdrop-blur-[2px]"}),d.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-3 sm:inset-5 lg:inset-12 xl:inset-16 rounded-[32px] border-[8px] border-white/35"}),d.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:[d.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-cyan-500/25 blur-3xl"}),d.jsx("div",{className:"absolute -bottom-24 -right-24 h-80 w-80 rounded-full bg-teal-400/25 blur-3xl"}),d.jsx("div",{className:"absolute left-1/2 top-1/3 h-96 w-96 -translate-x-1/2 rounded-full bg-indigo-500/20 blur-3xl"})]}),d.jsx("div",{className:"absolute inset-3 sm:inset-5 lg:inset-12 xl:inset-16 z-10",children:d.jsx("div",{className:"h-full w-full flex items-center justify-center",children:d.jsx("div",{className:"h-[90%] w-[90%]",children:d.jsxs("div",{className:"grid h-full min-h-0 grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 items-stretch",children:[d.jsxs("div",{className:"min-h-0 flex flex-col",children:[d.jsx("p",{className:"text-center text-white/85 text-base sm:text-lg lg:text-xl font-semibold mb-3 sm:mb-4",children:"運転日報・業務管理アプリ"}),d.jsx("div",{className:"relative flex-1 min-h-0 overflow-hidden rounded-3xl border border-white/10 bg-white/[0.06] backdrop-blur-xl shadow-2xl",children:d.jsx("img",{src:"./login-visual.jpg",alt:"近未来の軽バン配送イメージ",className:"w-full h-full object-cover object-center"})})]}),d.jsxs("div",{className:"min-h-0 flex flex-col",children:[d.jsx("div",{className:"flex-1 min-h-0 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl p-0 flex",children:d.jsxs("div",{className:"my-auto mx-auto w-[80%] max-h-full overflow-auto p-6 sm:p-8",children:[d.jsx("div",{className:"mb-6 flex items-center justify-between",children:d.jsx("h2",{className:"text-xl font-semibold",children:"ログイン"})}),d.jsx("div",{className:"mb-6 rounded-xl bg-white/5 p-1 shadow-inner",children:d.jsx("div",{className:"grid grid-cols-3 gap-1",children:["driver","admin","master"].map(c=>{const h=t===c,p=c==="driver"?"ドライバー":c==="admin"?"管理者":"マスター";return d.jsx("button",{type:"button",onClick:()=>e(c),disabled:o,"aria-pressed":h,className:["h-11 rounded-lg text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-cyan-400/60",h?"bg-gradient-to-r from-teal-400 to-cyan-500 text-slate-900 shadow-[0_0_22px_rgba(34,211,238,.45)]":"text-white/75 hover:text-white"].join(" "),children:p},c)})})}),d.jsxs("form",{className:"space-y-5",onSubmit:u,children:[d.jsxs("div",{children:[d.jsx("label",{className:"mb-2 block text-sm font-medium text-white/80",children:"ID（ログインID）"}),d.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),disabled:o,placeholder:t==="driver"?"ログインIDを入力":"IDを入力",className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-base text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-cyan-400/60"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"mb-2 block text-sm font-medium text-white/80",children:"パスワード"}),d.jsx("input",{type:"password",value:i,onChange:c=>s(c.target.value),disabled:o,placeholder:"パスワードを入力",className:"w-full rounded-lg border border-white/10 bg-white/5 px-4 py-3 text-base text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-cyan-400/60"})]}),d.jsx("button",{type:"submit",disabled:o,className:["w-full rounded-xl py-3.5 text-base font-bold tracking-wide transition",o?"cursor-not-allowed bg-white/20 text-white/60":"bg-gradient-to-r from-teal-400 to-cyan-500 text-slate-900 shadow-[0_0_30px_rgba(34,211,238,.45)] hover:brightness-110"].join(" "),children:o?"ログイン中...":"ログイン"})]}),d.jsx("div",{className:"mt-4 text-right",children:d.jsx($u,{to:"/reset",className:"text-sm text-cyan-300/80 underline-offset-4 hover:text-cyan-300 hover:underline",children:"パスワードを忘れた方はこちら"})})]})}),d.jsx("div",{className:"mt-3 text-center text-xs text-white/40 sm:hidden",children:"© Anborco"})]})]})})})})]})},uq=()=>d.jsx("div",{className:"login-container",children:d.jsxs(ef,{children:[d.jsx(tn,{path:"/",element:d.jsx(cq,{})}),d.jsx(tn,{path:"*",element:d.jsx(Op,{to:"/"})})]})}),dq="modulepreload",hq=function(t,e){return new URL(t,e).href},w4={},Ya=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=hq(s,r),s in w4)return;w4[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":dq,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function Cn(t){"@babel/helpers - typeof";return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(t)}var xs=Uint8Array,Mo=Uint16Array,oE=Int32Array,z1=new xs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$1=new xs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gb=new xs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ck=function(t,e){for(var n=new Mo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new oE(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},uk=ck(z1,2),dk=uk.b,Wb=uk.r;dk[28]=258,Wb[258]=28;var hk=ck($1,0),fq=hk.b,x4=hk.r,qb=new Mo(32768);for(var lr=0;lr<32768;++lr){var oc=(lr&43690)>>1|(lr&21845)<<1;oc=(oc&52428)>>2|(oc&13107)<<2,oc=(oc&61680)>>4|(oc&3855)<<4,qb[lr]=((oc&65280)>>8|(oc&255)<<8)>>1}var zl=function(t,e,n){for(var r=t.length,i=0,s=new Mo(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Mo(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(n){l=new Mo(1<<e);var a=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=o[t[i]-1]++<<c,p=h|(1<<c)-1;h<=p;++h)l[qb[h]>>a]=u}else for(l=new Mo(r),i=0;i<r;++i)t[i]&&(l[i]=qb[o[t[i]-1]++]>>15-t[i]);return l},ou=new xs(288);for(var lr=0;lr<144;++lr)ou[lr]=8;for(var lr=144;lr<256;++lr)ou[lr]=9;for(var lr=256;lr<280;++lr)ou[lr]=7;for(var lr=280;lr<288;++lr)ou[lr]=8;var Dm=new xs(32);for(var lr=0;lr<32;++lr)Dm[lr]=5;var pq=zl(ou,9,0),mq=zl(ou,9,1),gq=zl(Dm,5,0),vq=zl(Dm,5,1),E2=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ka=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},S2=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},aE=function(t){return(t+7)/8|0},fk=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new xs(t.subarray(e,n))},yq=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wa=function(t,e,n){var r=new Error(e||yq[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Wa),!n)throw r;return r},wq=function(t,e,n,r){var i=t.length,s=r?r.length:0;if(!i||e.f&&!e.l)return n||new xs(0);var o=!n,l=o||e.i!=2,a=e.i;o&&(n=new xs(i*3));var u=function(Ae){var xe=n.length;if(Ae>xe){var ye=new xs(Math.max(xe*2,Ae));ye.set(n),n=ye}},c=e.f||0,h=e.p||0,p=e.b||0,m=e.l,b=e.d,_=e.m,C=e.n,w=i*8;do{if(!m){c=Ka(t,h,1);var y=Ka(t,h+1,3);if(h+=3,y)if(y==1)m=mq,b=vq,_=9,C=5;else if(y==2){var k=Ka(t,h,31)+257,N=Ka(t,h+10,15)+4,S=k+Ka(t,h+5,31)+1;h+=14;for(var O=new xs(S),H=new xs(19),j=0;j<N;++j)H[Gb[j]]=Ka(t,h+j*3,7);h+=N*3;for(var T=E2(H),D=(1<<T)-1,W=zl(H,T,1),j=0;j<S;){var oe=W[Ka(t,h,D)];h+=oe&15;var E=oe>>4;if(E<16)O[j++]=E;else{var V=0,q=0;for(E==16?(q=3+Ka(t,h,3),h+=2,V=O[j-1]):E==17?(q=3+Ka(t,h,7),h+=3):E==18&&(q=11+Ka(t,h,127),h+=7);q--;)O[j++]=V}}var z=O.subarray(0,k),ue=O.subarray(k);_=E2(z),C=E2(ue),m=zl(z,_,1),b=zl(ue,C,1)}else Wa(1);else{var E=aE(h)+4,F=t[E-4]|t[E-3]<<8,M=E+F;if(M>i){a&&Wa(0);break}l&&u(p+F),n.set(t.subarray(E,M),p),e.b=p+=F,e.p=h=M*8,e.f=c;continue}if(h>w){a&&Wa(0);break}}l&&u(p+131072);for(var ie=(1<<_)-1,be=(1<<C)-1,Q=h;;Q=h){var V=m[S2(t,h)&ie],J=V>>4;if(h+=V&15,h>w){a&&Wa(0);break}if(V||Wa(2),J<256)n[p++]=J;else if(J==256){Q=h,m=null;break}else{var re=J-254;if(J>264){var j=J-257,ee=z1[j];re=Ka(t,h,(1<<ee)-1)+dk[j],h+=ee}var he=b[S2(t,h)&be],ve=he>>4;he||Wa(3),h+=he&15;var ue=fq[ve];if(ve>3){var ee=$1[ve];ue+=S2(t,h)&(1<<ee)-1,h+=ee}if(h>w){a&&Wa(0);break}l&&u(p+131072);var fe=p+re;if(p<ue){var ne=s-ue,te=Math.min(ue,fe);for(ne+p<0&&Wa(3);p<te;++p)n[p]=r[ne+p]}for(;p<fe;++p)n[p]=n[p-ue]}}e.l=m,e.p=Q,e.b=p,e.f=c,m&&(c=1,e.m=_,e.d=b,e.n=C)}while(!c);return p!=n.length&&o?fk(n,0,p):n.subarray(0,p)},uA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},zf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},I2=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:mk,l:0};if(i==1){var o=new xs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(M,k){return M.f-k.f}),n.push({s:-1,f:25001});var l=n[0],a=n[1],u=0,c=1,h=2;for(n[0]={s:-1,f:l.f+a.f,l,r:a};c!=i-1;)l=n[n[u].f<n[h].f?u++:h++],a=n[u!=c&&n[u].f<n[h].f?u++:h++],n[c++]={s:-1,f:l.f+a.f,l,r:a};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var m=new Mo(p+1),b=Jb(n[c-1],m,0);if(b>e){var r=0,_=0,C=b-e,w=1<<C;for(s.sort(function(k,N){return m[N.s]-m[k.s]||k.f-N.f});r<i;++r){var y=s[r].s;if(m[y]>e)_+=w-(1<<b-m[y]),m[y]=e;else break}for(_>>=C;_>0;){var E=s[r].s;m[E]<e?_-=1<<e-m[E]++-1:++r}for(;r>=0&&_;--r){var F=s[r].s;m[F]==e&&(--m[F],++_)}b=e}return{t:new xs(m),l:b}},Jb=function(t,e,n){return t.s==-1?Math.max(Jb(t.l,e,n+1),Jb(t.r,e,n+1)):e[t.s]=n},b4=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Mo(++e),r=0,i=t[0],s=1,o=function(a){n[r++]=a},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[l]}return{c:n.subarray(0,r),n:e}},$f=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},pk=function(t,e,n){var r=n.length,i=aE(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},_4=function(t,e,n,r,i,s,o,l,a,u,c){uA(e,c++,n),++i[256];for(var h=I2(i,15),p=h.t,m=h.l,b=I2(s,15),_=b.t,C=b.l,w=b4(p),y=w.c,E=w.n,F=b4(_),M=F.c,k=F.n,N=new Mo(19),S=0;S<y.length;++S)++N[y[S]&31];for(var S=0;S<M.length;++S)++N[M[S]&31];for(var O=I2(N,7),H=O.t,j=O.l,T=19;T>4&&!H[Gb[T-1]];--T);var D=u+5<<3,W=$f(i,ou)+$f(s,Dm)+o,oe=$f(i,p)+$f(s,_)+o+14+3*T+$f(N,H)+2*N[16]+3*N[17]+7*N[18];if(a>=0&&D<=W&&D<=oe)return pk(e,c,t.subarray(a,a+u));var V,q,z,ue;if(uA(e,c,1+(oe<W)),c+=2,oe<W){V=zl(p,m,0),q=p,z=zl(_,C,0),ue=_;var ie=zl(H,j,0);uA(e,c,E-257),uA(e,c+5,k-1),uA(e,c+10,T-4),c+=14;for(var S=0;S<T;++S)uA(e,c+3*S,H[Gb[S]]);c+=3*T;for(var be=[y,M],Q=0;Q<2;++Q)for(var J=be[Q],S=0;S<J.length;++S){var re=J[S]&31;uA(e,c,ie[re]),c+=H[re],re>15&&(uA(e,c,J[S]>>5&127),c+=J[S]>>12)}}else V=pq,q=ou,z=gq,ue=Dm;for(var S=0;S<l;++S){var ee=r[S];if(ee>255){var re=ee>>18&31;zf(e,c,V[re+257]),c+=q[re+257],re>7&&(uA(e,c,ee>>23&31),c+=z1[re]);var he=ee&31;zf(e,c,z[he]),c+=ue[he],he>3&&(zf(e,c,ee>>5&8191),c+=$1[he])}else zf(e,c,V[ee]),c+=q[ee]}return zf(e,c,V[256]),c+q[256]},xq=new oE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mk=new xs(0),bq=function(t,e,n,r,i,s){var o=s.z||t.length,l=new xs(r+o+5*(1+Math.ceil(o/7e3))+i),a=l.subarray(r,l.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(a[0]=s.r>>3);for(var h=xq[e-1],p=h>>13,m=h&8191,b=(1<<n)-1,_=s.p||new Mo(32768),C=s.h||new Mo(b+1),w=Math.ceil(n/3),y=2*w,E=function(Fe){return(t[Fe]^t[Fe+1]<<w^t[Fe+2]<<y)&b},F=new oE(25e3),M=new Mo(288),k=new Mo(32),N=0,S=0,O=s.i||0,H=0,j=s.w||0,T=0;O+2<o;++O){var D=E(O),W=O&32767,oe=C[D];if(_[W]=oe,C[D]=W,j<=O){var V=o-O;if((N>7e3||H>24576)&&(V>423||!u)){c=_4(t,a,0,F,M,k,S,H,T,O-T,c),H=N=S=0,T=O;for(var q=0;q<286;++q)M[q]=0;for(var q=0;q<30;++q)k[q]=0}var z=2,ue=0,ie=m,be=W-oe&32767;if(V>2&&D==E(O-be))for(var Q=Math.min(p,V)-1,J=Math.min(32767,O),re=Math.min(258,V);be<=J&&--ie&&W!=oe;){if(t[O+z]==t[O+z-be]){for(var ee=0;ee<re&&t[O+ee]==t[O+ee-be];++ee);if(ee>z){if(z=ee,ue=be,ee>Q)break;for(var he=Math.min(be,ee-2),ve=0,q=0;q<he;++q){var fe=O-be+q&32767,ne=_[fe],te=fe-ne&32767;te>ve&&(ve=te,oe=fe)}}}W=oe,oe=_[W],be+=W-oe&32767}if(ue){F[H++]=268435456|Wb[z]<<18|x4[ue];var Ae=Wb[z]&31,xe=x4[ue]&31;S+=z1[Ae]+$1[xe],++M[257+Ae],++k[xe],j=O+z,++N}else F[H++]=t[O],++M[t[O]]}}for(O=Math.max(O,j);O<o;++O)F[H++]=t[O],++M[t[O]];c=_4(t,a,u,F,M,k,S,H,T,O-T,c),u||(s.r=c&7|a[c/8|0]<<3,c-=7,s.h=C,s.p=_,s.i=O,s.w=j)}else{for(var O=s.w||0;O<o+u;O+=65535){var ye=O+65535;ye>=o&&(a[c/8|0]=u,ye=o),c=pk(a,c+1,t.subarray(O,ye))}s.i=o}return fk(l,0,r+aE(c)+i)},gk=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},_q=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new xs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return bq(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},vk=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Bq=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=gk();i.p(e.dictionary),vk(t,2,i.d())}},Cq=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Wa(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Wa(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Yb(t,e){e||(e={});var n=gk();n.p(t);var r=_q(t,e,e.dictionary?6:2,4);return Bq(r,e),vk(r,r.length-4,n.d()),r}function Eq(t,e){return wq(t.subarray(Cq(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var Sq=typeof TextDecoder<"u"&&new TextDecoder,Iq=0;try{Sq.decode(mk,{stream:!0}),Iq=1}catch{}var qt=function(){return typeof window<"u"?window:typeof uo<"u"?uo:typeof self<"u"?self:this}();function N2(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Zn={log:N2,warn:function(t){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):N2.call(null,arguments))},error:function(t){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):N2(t))}};function T2(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ou(r.response,e,n)},r.onerror=function(){Zn.error("could not download file")},r.send()}function B4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function A0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var zp,Xb,Ou=qt.saveAs||((typeof window>"u"?"undefined":Cn(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=qt.URL||qt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?B4(i.href)?T2(t,e,n):A0(i,i.target="_blank"):A0(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){A0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(B4(t))T2(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){A0(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Cn(s)!=="object"&&(Zn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return T2(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(qt.HTMLElement)||qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Cn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var c=l.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},l.readAsDataURL(t)}else{var a=qt.URL||qt.webkitURL,u=a.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){a.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yk(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),a=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),a.length==1&&(a="0"+a),u.length==1&&(u="0"+u),"#"+l+a+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F2(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=us(n,r,i,s,e[0],7,-680876936),s=us(s,n,r,i,e[1],12,-389564586),i=us(i,s,n,r,e[2],17,606105819),r=us(r,i,s,n,e[3],22,-1044525330),n=us(n,r,i,s,e[4],7,-176418897),s=us(s,n,r,i,e[5],12,1200080426),i=us(i,s,n,r,e[6],17,-1473231341),r=us(r,i,s,n,e[7],22,-45705983),n=us(n,r,i,s,e[8],7,1770035416),s=us(s,n,r,i,e[9],12,-1958414417),i=us(i,s,n,r,e[10],17,-42063),r=us(r,i,s,n,e[11],22,-1990404162),n=us(n,r,i,s,e[12],7,1804603682),s=us(s,n,r,i,e[13],12,-40341101),i=us(i,s,n,r,e[14],17,-1502002290),n=ds(n,r=us(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ds(s,n,r,i,e[6],9,-1069501632),i=ds(i,s,n,r,e[11],14,643717713),r=ds(r,i,s,n,e[0],20,-373897302),n=ds(n,r,i,s,e[5],5,-701558691),s=ds(s,n,r,i,e[10],9,38016083),i=ds(i,s,n,r,e[15],14,-660478335),r=ds(r,i,s,n,e[4],20,-405537848),n=ds(n,r,i,s,e[9],5,568446438),s=ds(s,n,r,i,e[14],9,-1019803690),i=ds(i,s,n,r,e[3],14,-187363961),r=ds(r,i,s,n,e[8],20,1163531501),n=ds(n,r,i,s,e[13],5,-1444681467),s=ds(s,n,r,i,e[2],9,-51403784),i=ds(i,s,n,r,e[7],14,1735328473),n=hs(n,r=ds(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=hs(s,n,r,i,e[8],11,-2022574463),i=hs(i,s,n,r,e[11],16,1839030562),r=hs(r,i,s,n,e[14],23,-35309556),n=hs(n,r,i,s,e[1],4,-1530992060),s=hs(s,n,r,i,e[4],11,1272893353),i=hs(i,s,n,r,e[7],16,-155497632),r=hs(r,i,s,n,e[10],23,-1094730640),n=hs(n,r,i,s,e[13],4,681279174),s=hs(s,n,r,i,e[0],11,-358537222),i=hs(i,s,n,r,e[3],16,-722521979),r=hs(r,i,s,n,e[6],23,76029189),n=hs(n,r,i,s,e[9],4,-640364487),s=hs(s,n,r,i,e[12],11,-421815835),i=hs(i,s,n,r,e[15],16,530742520),n=fs(n,r=hs(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=fs(s,n,r,i,e[7],10,1126891415),i=fs(i,s,n,r,e[14],15,-1416354905),r=fs(r,i,s,n,e[5],21,-57434055),n=fs(n,r,i,s,e[12],6,1700485571),s=fs(s,n,r,i,e[3],10,-1894986606),i=fs(i,s,n,r,e[10],15,-1051523),r=fs(r,i,s,n,e[1],21,-2054922799),n=fs(n,r,i,s,e[8],6,1873313359),s=fs(s,n,r,i,e[15],10,-30611744),i=fs(i,s,n,r,e[6],15,-1560198380),r=fs(r,i,s,n,e[13],21,1309151649),n=fs(n,r,i,s,e[4],6,-145523070),s=fs(s,n,r,i,e[11],10,-1120210379),i=fs(i,s,n,r,e[2],15,718787259),r=fs(r,i,s,n,e[9],21,-343485551),t[0]=Nc(n,t[0]),t[1]=Nc(r,t[1]),t[2]=Nc(i,t[2]),t[3]=Nc(s,t[3])}function G1(t,e,n,r,i,s){return e=Nc(Nc(e,t),Nc(r,s)),Nc(e<<i|e>>>32-i,n)}function us(t,e,n,r,i,s,o){return G1(e&n|~e&r,t,e,i,s,o)}function ds(t,e,n,r,i,s,o){return G1(e&r|n&~r,t,e,i,s,o)}function hs(t,e,n,r,i,s,o){return G1(e^n^r,t,e,i,s,o)}function fs(t,e,n,r,i,s,o){return G1(n^(e|~r),t,e,i,s,o)}function wk(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)F2(r,Nq(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(F2(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,F2(r,i),r}function Nq(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}zp=qt.atob.bind(qt),Xb=qt.btoa.bind(qt);var C4="0123456789abcdef".split("");function Tq(t){for(var e="",n=0;n<4;n++)e+=C4[t>>8*n+4&15]+C4[t>>8*n&15];return e}function Fq(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Zb(t){return wk(t).map(Fq).join("")}var Pq=function(t){for(var e=0;e<t.length;e++)t[e]=Tq(t[e]);return t.join("")}(wk("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nc(t,e){if(Pq){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e_(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),l=[],a=0;a<256;a++)l[a]=a;var u=0;for(a=0;a<256;a++){var c=l[a];u=(u+c+o.charCodeAt(a))%256,l[a]=l[u],l[u]=c}n=t,r=l}else l=r;var h=e.length,p=0,m=0,b="";for(a=0;a<h;a++)m=(m+(c=l[p=(p+1)%256]))%256,l[p]=l[m],l[m]=c,o=l[(l[p]+l[m])%256],b+=String.fromCharCode(e.charCodeAt(a)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var E4={print:4,modify:8,copy:16,"annot-forms":32};function dh(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(E4.perm!==void 0)throw new Error("Invalid permission: "+l);i+=E4[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Zb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=e_(this.encryptionKey,this.padding)}function hh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function S4(t){if(Cn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(l){qt.console&&Zn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Qm(t){if(!(this instanceof Qm))return new Qm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function xk(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Bc(t,e,n,r,i){if(!(this instanceof Bc))return new Bc(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,xk.call(this,r,i)}function qu(t,e,n,r,i){if(!(this instanceof qu))return new qu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,xk.call(this,r,i)}function Dt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,a=16,u="S",c=null;Cn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(a=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=S4;var b="1.3",_=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(I){b=I};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return C};var w=m.__private__.getPageFormat=function(I){return C[I]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},E=y.COMPAT;function F(){this.saveGraphicsState(),me(new Tt(je,0,0,-je,0,To()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),u="n",E=y.ADVANCED}function M(){this.restoreGraphicsState(),u="S",E=y.COMPAT}var k=m.__private__.combineFontStyleAndFontWeight=function(I,X){if(I=="bold"&&X=="normal"||I=="bold"&&X==400||I=="normal"&&X=="italic"||I=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(I=X==400||X==="normal"?I==="italic"?"italic":"normal":X!=700&&X!=="bold"||I!=="normal"?(X==700?"bold":X)+""+I:"bold"),I};m.advancedAPI=function(I){var X=E===y.COMPAT;return X&&F.call(this),typeof I!="function"||(I(this),X&&M.call(this)),this},m.compatAPI=function(I){var X=E===y.ADVANCED;return X&&M.call(this),typeof I!="function"||(I(this),X&&F.call(this)),this},m.isAdvancedAPI=function(){return E===y.ADVANCED};var N,S=function(I){if(E!==y.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=m.roundToPrecision=m.__private__.roundToPrecision=function(I,X){var we=e||X;if(isNaN(I)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(we).replace(/0+$/,"")};N=m.hpf=m.__private__.hpf=typeof a=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return O(I,a)}:a==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return O(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return O(I,16)};var H=m.f2=m.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return O(I,2)},j=m.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return O(I,3)},T=m.scale=m.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return E===y.COMPAT?I*je:E===y.ADVANCED?I:void 0},D=function(I){return E===y.COMPAT?To()-I:E===y.ADVANCED?I:void 0},W=function(I){return T(D(I))};m.__private__.setPrecision=m.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var oe,V="00000000000000000000000000000000",q=m.__private__.getFileId=function(){return V},z=m.__private__.setFileId=function(I){return V=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Jn=new dh(c.userPermissions,c.userPassword,c.ownerPassword,V)),V};m.setFileId=function(I){return z(I),this},m.getFileId=function(){return q()};var ue=m.__private__.convertDateToPDFDate=function(I){var X=I.getTimezoneOffset(),we=X<0?"+":"-",Be=Math.floor(Math.abs(X/60)),Pe=Math.abs(X%60),De=[we,re(Be),"'",re(Pe),"'"].join("");return["D:",I.getFullYear(),re(I.getMonth()+1),re(I.getDate()),re(I.getHours()),re(I.getMinutes()),re(I.getSeconds()),De].join("")},ie=m.__private__.convertPDFDateToDate=function(I){var X=parseInt(I.substr(2,4),10),we=parseInt(I.substr(6,2),10)-1,Be=parseInt(I.substr(8,2),10),Pe=parseInt(I.substr(10,2),10),De=parseInt(I.substr(12,2),10),et=parseInt(I.substr(14,2),10);return new Date(X,we,Be,Pe,De,et,0)},be=m.__private__.setCreationDate=function(I){var X;if(I===void 0&&(I=new Date),I instanceof Date)X=ue(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=I}return oe=X},Q=m.__private__.getCreationDate=function(I){var X=oe;return I==="jsDate"&&(X=ie(oe)),X};m.setCreationDate=function(I){return be(I),this},m.getCreationDate=function(I){return Q(I)};var J,re=m.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},ee=m.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},he=0,ve=[],fe=[],ne=0,te=[],Ae=[],xe=!1,ye=fe,Fe=function(){he=0,ne=0,fe=[],ve=[],te=[],zs=ut(),ns=ut()};m.__private__.setCustomOutputDestination=function(I){xe=!0,ye=I};var Ce=function(I){xe||(ye=I)};m.__private__.resetCustomOutputDestination=function(){xe=!1,ye=fe};var me=m.__private__.out=function(I){return I=I.toString(),ne+=I.length+1,ye.push(I),ye},Ye=m.__private__.write=function(I){return me(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},We=m.__private__.getArrayBuffer=function(I){for(var X=I.length,we=new ArrayBuffer(X),Be=new Uint8Array(we);X--;)Be[X]=I.charCodeAt(X);return we},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Qe};var Ve=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(I){return Ve=E===y.ADVANCED?I/je:I,this};var ze,Je=m.__private__.getFontSize=m.getFontSize=function(){return E===y.COMPAT?Ve:Ve*je},ft=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(I){return ft=I,this},m.__private__.getR2L=m.getR2L=function(){return ft};var Nt,It=m.__private__.setZoomMode=function(I){var X=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ze=I;else if(isNaN(I)){if(X.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ze=I}else ze=parseInt(I,10)};m.__private__.getZoomMode=function(){return ze};var Ut,Ft=m.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Nt=I};m.__private__.getPageMode=function(){return Nt};var Bt=m.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Ut=I};m.__private__.getLayoutMode=function(){return Ut},m.__private__.setDisplayMode=m.setDisplayMode=function(I,X,we){return It(I),Bt(X),Ft(we),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(I){if(Object.keys(Pt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[I]},m.__private__.getDocumentProperties=function(){return Pt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(I){for(var X in Pt)Pt.hasOwnProperty(X)&&I[X]&&(Pt[X]=I[X]);return this},m.__private__.setDocumentProperty=function(I,X){if(Object.keys(Pt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[I]=X};var Le,je,nt,it,St,pt={},Ht={},kn=[],nn={},Wr={},pn={},oi={},Vt=null,At=0,ot=[],vt=new S4(m),on=t.hotfixes||[],An={},ai={},br=[],Tt=function I(X,we,Be,Pe,De,et){if(!(this instanceof I))return new I(X,we,Be,Pe,De,et);isNaN(X)&&(X=1),isNaN(we)&&(we=0),isNaN(Be)&&(Be=0),isNaN(Pe)&&(Pe=1),isNaN(De)&&(De=0),isNaN(et)&&(et=0),this._matrix=[X,we,Be,Pe,De,et]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(I)},Tt.prototype.multiply=function(I){var X=I.sx*this.sx+I.shy*this.shx,we=I.sx*this.shy+I.shy*this.sy,Be=I.shx*this.sx+I.sy*this.shx,Pe=I.shx*this.shy+I.sy*this.sy,De=I.tx*this.sx+I.ty*this.shx+this.tx,et=I.tx*this.shy+I.ty*this.sy+this.ty;return new Tt(X,we,Be,Pe,De,et)},Tt.prototype.decompose=function(){var I=this.sx,X=this.shy,we=this.shx,Be=this.sy,Pe=this.tx,De=this.ty,et=Math.sqrt(I*I+X*X),ct=(I/=et)*we+(X/=et)*Be;we-=I*ct,Be-=X*ct;var mt=Math.sqrt(we*we+Be*Be);return ct/=mt,I*(Be/=mt)<X*(we/=mt)&&(I=-I,X=-X,ct=-ct,et=-et),{scale:new Tt(et,0,0,mt,0,0),translate:new Tt(1,0,0,1,Pe,De),rotate:new Tt(I,X,-X,I,0,0),skew:new Tt(1,0,ct,1,0,0)}},Tt.prototype.toString=function(I){return this.join(" ")},Tt.prototype.inversed=function(){var I=this.sx,X=this.shy,we=this.shx,Be=this.sy,Pe=this.tx,De=this.ty,et=1/(I*Be-X*we),ct=Be*et,mt=-X*et,v=-we*et,R=I*et;return new Tt(ct,mt,v,R,-ct*Pe-v*De,-mt*Pe-R*De)},Tt.prototype.applyToPoint=function(I){var X=I.x*this.sx+I.y*this.shx+this.tx,we=I.x*this.shy+I.y*this.sy+this.ty;return new Is(X,we)},Tt.prototype.applyToRectangle=function(I){var X=this.applyToPoint(I),we=this.applyToPoint(new Is(I.x+I.w,I.y+I.h));return new Qi(X.x,X.y,we.x-X.x,we.y-X.y)},Tt.prototype.clone=function(){var I=this.sx,X=this.shy,we=this.shx,Be=this.sy,Pe=this.tx,De=this.ty;return new Tt(I,X,we,Be,Pe,De)},m.Matrix=Tt;var Rn=m.matrixMult=function(I,X){return X.multiply(I)},Bs=new Tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Bs;var _r=function(I,X){if(!Wr[I]){var we=(X instanceof Bc?"Sh":"P")+(Object.keys(nn).length+1).toString(10);X.id=we,Wr[I]=we,nn[we]=X,vt.publish("addPattern",X)}};m.ShadingPattern=Bc,m.TilingPattern=qu,m.addShadingPattern=function(I,X){return S("addShadingPattern()"),_r(I,X),this},m.beginTilingPattern=function(I){S("beginTilingPattern()"),Pa(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},m.endTilingPattern=function(I,X){S("endTilingPattern()"),X.stream=Ae[J].join(`
`),_r(I,X),vt.publish("endTilingPattern",X),br.pop().restore()};var mn=m.__private__.newObject=function(){var I=ut();return yi(I,!0),I},ut=m.__private__.newObjectDeferred=function(){return he++,ve[he]=function(){return ne},he},yi=function(I,X){return X=typeof X=="boolean"&&X,ve[I]=ne,X&&me(I+" 0 obj"),I},ts=m.__private__.newAdditionalObject=function(){var I={objId:ut(),content:""};return te.push(I),I},zs=ut(),ns=ut(),qr=m.__private__.decodeColorString=function(I){var X=I.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length===5&&(X[4]==="k"||X[4]==="K")&&(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var we=parseFloat(X[0]);X=[we,we,we,"r"]}for(var Be="#",Pe=0;Pe<3;Pe++)Be+=("0"+Math.floor(255*parseFloat(X[Pe])).toString(16)).slice(-2);return Be},ji=m.__private__.encodeColorString=function(I){var X;typeof I=="string"&&(I={ch1:I});var we=I.ch1,Be=I.ch2,Pe=I.ch3,De=I.ch4,et=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var ct=new yk(we);if(ct.ok)we=ct.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var mt=parseInt(we.substr(1),16);we=mt>>16&255,Be=mt>>8&255,Pe=255&mt}if(Be===void 0||De===void 0&&we===Be&&Be===Pe)if(typeof we=="string")X=we+" "+et[0];else switch(I.precision){case 2:X=H(we/255)+" "+et[0];break;case 3:default:X=j(we/255)+" "+et[0]}else if(De===void 0||Cn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return X=["1.","1.","1.",et[1]].join(" ");if(typeof we=="string")X=[we,Be,Pe,et[1]].join(" ");else switch(I.precision){case 2:X=[H(we/255),H(Be/255),H(Pe/255),et[1]].join(" ");break;default:case 3:X=[j(we/255),j(Be/255),j(Pe/255),et[1]].join(" ")}}else if(typeof we=="string")X=[we,Be,Pe,De,et[2]].join(" ");else switch(I.precision){case 2:X=[H(we),H(Be),H(Pe),H(De),et[2]].join(" ");break;case 3:default:X=[j(we),j(Be),j(Pe),j(De),et[2]].join(" ")}return X},jr=m.__private__.getFilters=function(){return o},Jr=m.__private__.putStream=function(I){var X=(I=I||{}).data||"",we=I.filters||jr(),Be=I.alreadyAppliedFilters||[],Pe=I.addLength1||!1,De=X.length,et=I.objectId,ct=function(st){return st};if(c!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ct=Jn.encryptor(et,0));var mt={};we===!0&&(we=["FlateEncode"]);var v=I.additionalKeyValues||[],R=(mt=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(X,we):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(mt.data.length!==0&&(v.push({key:"Length",value:mt.data.length}),Pe===!0&&v.push({key:"Length1",value:De})),R.length!=0)if(R.split("/").length-1==1)v.push({key:"Filter",value:R});else{v.push({key:"Filter",value:"["+R+"]"});for(var G=0;G<v.length;G+=1)if(v[G].key==="DecodeParms"){for(var ce=[],Ie=0;Ie<mt.reverseChain.split("/").length-1;Ie+=1)ce.push("null");ce.push(v[G].value),v[G].value="["+ce.join(" ")+"]"}}me("<<");for(var ke=0;ke<v.length;ke++)me("/"+v[ke].key+" "+v[ke].value);me(">>"),mt.data.length!==0&&(me("stream"),me(ct(mt.data)),me("endstream"))},Ur=m.__private__.putPage=function(I){var X=I.number,we=I.data,Be=I.objId,Pe=I.contentsObjId;yi(Be,!0),me("<</Type /Page"),me("/Parent "+I.rootDictionaryObjId+" 0 R"),me("/Resources "+I.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(N(I.mediaBox.bottomLeftX))+" "+parseFloat(N(I.mediaBox.bottomLeftY))+" "+N(I.mediaBox.topRightX)+" "+N(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&me("/CropBox ["+N(I.cropBox.bottomLeftX)+" "+N(I.cropBox.bottomLeftY)+" "+N(I.cropBox.topRightX)+" "+N(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&me("/BleedBox ["+N(I.bleedBox.bottomLeftX)+" "+N(I.bleedBox.bottomLeftY)+" "+N(I.bleedBox.topRightX)+" "+N(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&me("/TrimBox ["+N(I.trimBox.bottomLeftX)+" "+N(I.trimBox.bottomLeftY)+" "+N(I.trimBox.topRightX)+" "+N(I.trimBox.topRightY)+"]"),I.artBox!==null&&me("/ArtBox ["+N(I.artBox.bottomLeftX)+" "+N(I.artBox.bottomLeftY)+" "+N(I.artBox.topRightX)+" "+N(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&me("/UserUnit "+I.userUnit),vt.publish("putPage",{objId:Be,pageContext:ot[X],pageNumber:X,page:we}),me("/Contents "+Pe+" 0 R"),me(">>"),me("endobj");var De=we.join(`
`);return E===y.ADVANCED&&(De+=`
Q`),yi(Pe,!0),Jr({data:De,filters:jr(),objectId:Pe}),me("endobj"),Be},Wo=m.__private__.putPages=function(){var I,X,we=[];for(I=1;I<=At;I++)ot[I].objId=ut(),ot[I].contentsObjId=ut();for(I=1;I<=At;I++)we.push(Ur({number:I,data:Ae[I],objId:ot[I].objId,contentsObjId:ot[I].contentsObjId,mediaBox:ot[I].mediaBox,cropBox:ot[I].cropBox,bleedBox:ot[I].bleedBox,trimBox:ot[I].trimBox,artBox:ot[I].artBox,userUnit:ot[I].userUnit,rootDictionaryObjId:zs,resourceDictionaryObjId:ns}));yi(zs,!0),me("<</Type /Pages");var Be="/Kids [";for(X=0;X<At;X++)Be+=we[X]+" 0 R ";me(Be+"]"),me("/Count "+At),me(">>"),me("endobj"),vt.publish("postPutPages")},_a=function(I){vt.publish("putFont",{font:I,out:me,newObject:mn,putStream:Jr}),I.isAlreadyPutted!==!0&&(I.objectNumber=mn(),me("<<"),me("/Type /Font"),me("/BaseFont /"+hh(I.postScriptName)),me("/Subtype /Type1"),typeof I.encoding=="string"&&me("/Encoding /"+I.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},qo=function(){for(var I in pt)pt.hasOwnProperty(I)&&(h===!1||h===!0&&p.hasOwnProperty(I))&&_a(pt[I])},go=function(I){I.objectNumber=mn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[N(I.x),N(I.y),N(I.x+I.width),N(I.y+I.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var we=I.pages[1].join(`
`);Jr({data:we,additionalKeyValues:X,objectId:I.objectNumber}),me("endobj")},Ba=function(){for(var I in An)An.hasOwnProperty(I)&&go(An[I])},Jo=function(I,X){var we,Be=[],Pe=1/(X-1);for(we=0;we<1;we+=Pe)Be.push(we);if(Be.push(1),I[0].offset!=0){var De={offset:0,color:I[0].color};I.unshift(De)}if(I[I.length-1].offset!=1){var et={offset:1,color:I[I.length-1].color};I.push(et)}for(var ct="",mt=0,v=0;v<Be.length;v++){for(we=Be[v];we>I[mt+1].offset;)mt++;var R=I[mt].offset,G=(we-R)/(I[mt+1].offset-R),ce=I[mt].color,Ie=I[mt+1].color;ct+=ee(Math.round((1-G)*ce[0]+G*Ie[0]).toString(16))+ee(Math.round((1-G)*ce[1]+G*Ie[1]).toString(16))+ee(Math.round((1-G)*ce[2]+G*Ie[2]).toString(16))}return ct.trim()},yu=function(I,X){X||(X=21);var we=mn(),Be=Jo(I.colors,X),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+X+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jr({data:Be,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),me("endobj"),I.objectNumber=mn(),me("<< /ShadingType "+I.type),me("/ColorSpace /DeviceRGB");var De="/Coords ["+N(parseFloat(I.coords[0]))+" "+N(parseFloat(I.coords[1]))+" ";I.type===2?De+=N(parseFloat(I.coords[2]))+" "+N(parseFloat(I.coords[3])):De+=N(parseFloat(I.coords[2]))+" "+N(parseFloat(I.coords[3]))+" "+N(parseFloat(I.coords[4]))+" "+N(parseFloat(I.coords[5])),me(De+="]"),I.matrix&&me("/Matrix ["+I.matrix.toString()+"]"),me("/Function "+we+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},cl=function(I,X){var we=ut(),Be=mn();X.push({resourcesOid:we,objectOid:Be}),I.objectNumber=Be;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+I.boundingBox.map(N).join(" ")+"]"}),Pe.push({key:"XStep",value:N(I.xStep)}),Pe.push({key:"YStep",value:N(I.yStep)}),Pe.push({key:"Resources",value:we+" 0 R"}),I.matrix&&Pe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Jr({data:I.stream,additionalKeyValues:Pe,objectId:I.objectNumber}),me("endobj")},Ca=function(I){var X;for(X in nn)nn.hasOwnProperty(X)&&(nn[X]instanceof Bc?yu(nn[X]):nn[X]instanceof qu&&cl(nn[X],I))},ul=function(I){for(var X in I.objectNumber=mn(),me("<<"),I)switch(X){case"opacity":me("/ca "+H(I[X]));break;case"stroke-opacity":me("/CA "+H(I[X]))}me(">>"),me("endobj")},Ea=function(){var I;for(I in pn)pn.hasOwnProperty(I)&&ul(pn[I])},Ui=function(){for(var I in me("/XObject <<"),An)An.hasOwnProperty(I)&&An[I].objectNumber>=0&&me("/"+I+" "+An[I].objectNumber+" 0 R");vt.publish("putXobjectDict"),me(">>")},vo=function(){Jn.oid=mn(),me("<<"),me("/Filter /Standard"),me("/V "+Jn.v),me("/R "+Jn.r),me("/U <"+Jn.toHexString(Jn.U)+">"),me("/O <"+Jn.toHexString(Jn.O)+">"),me("/P "+Jn.P),me(">>"),me("endobj")},eA=function(){for(var I in me("/Font <<"),pt)pt.hasOwnProperty(I)&&(h===!1||h===!0&&p.hasOwnProperty(I))&&me("/"+I+" "+pt[I].objectNumber+" 0 R");me(">>")},tA=function(){if(Object.keys(nn).length>0){for(var I in me("/Shading <<"),nn)nn.hasOwnProperty(I)&&nn[I]instanceof Bc&&nn[I].objectNumber>=0&&me("/"+I+" "+nn[I].objectNumber+" 0 R");vt.publish("putShadingPatternDict"),me(">>")}},Cs=function(I){if(Object.keys(nn).length>0){for(var X in me("/Pattern <<"),nn)nn.hasOwnProperty(X)&&nn[X]instanceof m.TilingPattern&&nn[X].objectNumber>=0&&nn[X].objectNumber<I&&me("/"+X+" "+nn[X].objectNumber+" 0 R");vt.publish("putTilingPatternDict"),me(">>")}},cn=function(){if(Object.keys(pn).length>0){var I;for(I in me("/ExtGState <<"),pn)pn.hasOwnProperty(I)&&pn[I].objectNumber>=0&&me("/"+I+" "+pn[I].objectNumber+" 0 R");vt.publish("putGStateDict"),me(">>")}},$t=function(I){yi(I.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),eA(),tA(),Cs(I.objectOid),cn(),Ui(),me(">>"),me("endobj")},yo=function(){var I=[];qo(),Ea(),Ba(),Ca(I),vt.publish("putResources"),I.forEach($t),$t({resourcesOid:ns,objectOid:Number.MAX_SAFE_INTEGER}),vt.publish("postPutResources")},$s=function(){vt.publish("putAdditionalObjects");for(var I=0;I<te.length;I++){var X=te[I];yi(X.objId,!0),me(X.content),me("endobj")}vt.publish("postPutAdditionalObjects")},Gs=function(I){Ht[I.fontName]=Ht[I.fontName]||{},Ht[I.fontName][I.fontStyle]=I.id},Sa=function(I,X,we,Be,Pe){var De={id:"F"+(Object.keys(pt).length+1).toString(10),postScriptName:I,fontName:X,fontStyle:we,encoding:Be,isStandardFont:Pe||!1,metadata:{}};return vt.publish("addFont",{font:De,instance:this}),pt[De.id]=De,Gs(De),De.id},Yt=function(I){for(var X=0,we=Qe.length;X<we;X++){var Be=Sa.call(this,I[X][0],I[X][1],I[X][2],Qe[X][3],!0);h===!1&&(p[Be]=!0);var Pe=I[X][0].split("-");Gs({id:Be,fontName:Pe[0],fontStyle:Pe[1]||""})}vt.publish("addFonts",{fonts:pt,dictionary:Ht})},gn=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(Be){var X=Be.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);var we="Error in function "+X.split(`
`)[0].split("<")[0]+": "+Be.message;if(!qt.console)throw new Error(we);qt.console.error(we,Be),qt.alert&&alert(we)}},I.foo.bar=I,I.foo},wo=function(I,X){var we,Be,Pe,De,et,ct,mt,v,R;if(Pe=(X=X||{}).sourceEncoding||"Unicode",et=X.outputEncoding,(X.autoencode||et)&&pt[Le].metadata&&pt[Le].metadata[Pe]&&pt[Le].metadata[Pe].encoding&&(De=pt[Le].metadata[Pe].encoding,!et&&pt[Le].encoding&&(et=pt[Le].encoding),!et&&De.codePages&&(et=De.codePages[0]),typeof et=="string"&&(et=De[et]),et)){for(mt=!1,ct=[],we=0,Be=I.length;we<Be;we++)(v=et[I.charCodeAt(we)])?ct.push(String.fromCharCode(v)):ct.push(I[we]),ct[we].charCodeAt(0)>>8&&(mt=!0);I=ct.join("")}for(we=I.length;mt===void 0&&we!==0;)I.charCodeAt(we-1)>>8&&(mt=!0),we--;if(!mt)return I;for(ct=X.noBOM?[]:[254,255],we=0,Be=I.length;we<Be;we++){if((R=(v=I.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(R),ct.push(v-(R<<8))}return String.fromCharCode.apply(void 0,ct)},kr=m.__private__.pdfEscape=m.pdfEscape=function(I,X){return wo(I,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},er=m.__private__.beginPage=function(I){Ae[++At]=[],ot[At]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},ki(At),Ce(Ae[J])},rs=function(I,X){var we,Be,Pe;switch(n=X||n,typeof I=="string"&&(we=w(I.toLowerCase()),Array.isArray(we)&&(Be=we[0],Pe=we[1])),Array.isArray(I)&&(Be=I[0]*je,Pe=I[1]*je),isNaN(Be)&&(Be=i[0],Pe=i[1]),(Be>14400||Pe>14400)&&(Zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Pe=Math.min(14400,Pe)),i=[Be,Pe],n.substr(0,1)){case"l":Pe>Be&&(i=[Pe,Be]);break;case"p":Be>Pe&&(i=[Pe,Be])}er(i),zA(Nn),me(Di),ea!==0&&me(ea+" J"),xi!==0&&me(xi+" j"),vt.publish("addPage",{pageNumber:At})},xo=function(I){I>0&&I<=At&&(Ae.splice(I,1),ot.splice(I,1),At--,J>At&&(J=At),this.setPage(J))},ki=function(I){I>0&&I<=At&&(J=I)},qn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ae.length-1},hn=function(I,X,we){var Be,Pe=void 0;return we=we||{},I=I!==void 0?I:pt[Le].fontName,X=X!==void 0?X:pt[Le].fontStyle,Be=I.toLowerCase(),Ht[Be]!==void 0&&Ht[Be][X]!==void 0?Pe=Ht[Be][X]:Ht[I]!==void 0&&Ht[I][X]!==void 0?Pe=Ht[I][X]:we.disableWarning===!1&&Zn.warn("Unable to look up font label for font '"+I+"', '"+X+"'. Refer to getFontList() for available fonts."),Pe||we.noFallback||(Pe=Ht.times[X])==null&&(Pe=Ht.times.normal),Pe},Ws=m.__private__.putInfo=function(){var I=mn(),X=function(Be){return Be};for(var we in c!==null&&(X=Jn.encryptor(I,0)),me("<<"),me("/Producer ("+kr(X("jsPDF "+Dt.version))+")"),Pt)Pt.hasOwnProperty(we)&&Pt[we]&&me("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+kr(X(Pt[we]))+")");me("/CreationDate ("+kr(X(oe))+")"),me(">>"),me("endobj")},Ri=m.__private__.putCatalog=function(I){var X=(I=I||{}).rootDictionaryObjId||zs;switch(mn(),me("<<"),me("/Type /Catalog"),me("/Pages "+X+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+ze;we.substr(we.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&me("/OpenAction [3 0 R /XYZ null null "+H(ze)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}Nt&&me("/PageMode /"+Nt),vt.publish("putCatalog"),me(">>"),me("endobj")},bo=m.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(he+1)),me("/Root "+he+" 0 R"),me("/Info "+(he-1)+" 0 R"),c!==null&&me("/Encrypt "+Jn.oid+" 0 R"),me("/ID [ <"+V+"> <"+V+"> ]"),me(">>")},Ia=m.__private__.putHeader=function(){me("%PDF-"+b),me("%ºß¬à")},dl=m.__private__.putXRef=function(){var I="0000000000";me("xref"),me("0 "+(he+1)),me("0000000000 65535 f ");for(var X=1;X<=he;X++)typeof ve[X]=="function"?me((I+ve[X]()).slice(-10)+" 00000 n "):ve[X]!==void 0?me((I+ve[X]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Es=m.__private__.buildDocument=function(){Fe(),Ce(fe),vt.publish("buildDocument"),Ia(),Wo(),$s(),yo(),c!==null&&vo(),Ws(),Ri();var I=ne;return dl(),bo(),me("startxref"),me(""+I),me("%%EOF"),Ce(Ae[J]),fe.join(`
`)},_o=m.__private__.getBlob=function(I){return new Blob([We(I)],{type:"application/pdf"})},Yo=m.output=m.__private__.output=gn(function(I,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",I){case void 0:return Es();case"save":m.save(X.filename);break;case"arraybuffer":return We(Es());case"blob":return _o(Es());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(_o(Es()))||void 0;Zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Be=Es();try{we=Xb(Be)}catch{we=Xb(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+X.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Pe=X.pdfObjectUrl,De="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",ct=qt.open();return ct!==null&&ct.document.write(et),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',v=qt.open();if(v!==null){v.document.write(mt);var R=this;v.document.documentElement.querySelector("#pdfViewer").onload=function(){v.document.title=X.filename,v.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(R.output("bloburl"))}}return v}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',ce=qt.open();if(ce!==null&&(ce.document.write(G),ce.document.title=X.filename),ce||typeof safari>"u")return ce;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",X);default:return null}}),hl=function(I){return Array.isArray(on)===!0&&on.indexOf(I)>-1};switch(r){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=hl("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);je=r}var Jn=null;be(),z();var Ss=function(I){return c!==null?Jn.encryptor(I,0):function(X){return X}},Na=m.__private__.getPageInfo=m.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[I].objId,pageNumber:I,pageContext:ot[I]}},Kt=m.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in ot)if(ot[X].objId===I)break;return Na(X)},Gt=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ot[J].objId,pageNumber:J,pageContext:ot[J]}};m.addPage=function(){return rs.apply(this,arguments),this},m.setPage=function(){return ki.apply(this,arguments),Ce.call(this,Ae[J]),this},m.insertPage=function(I){return this.addPage(),this.movePage(J,I),this},m.movePage=function(I,X){var we,Be;if(I>X){we=Ae[I],Be=ot[I];for(var Pe=I;Pe>X;Pe--)Ae[Pe]=Ae[Pe-1],ot[Pe]=ot[Pe-1];Ae[X]=we,ot[X]=Be,this.setPage(X)}else if(I<X){we=Ae[I],Be=ot[I];for(var De=I;De<X;De++)Ae[De]=Ae[De+1],ot[De]=ot[De+1];Ae[X]=we,ot[X]=Be,this.setPage(X)}return this},m.deletePage=function(){return xo.apply(this,arguments),this},m.__private__.text=m.text=function(I,X,we,Be,Pe){var De,et,ct,mt,v,R,G,ce,Ie,ke=(Be=Be||{}).scope||this;if(typeof I=="number"&&typeof X=="number"&&(typeof we=="string"||Array.isArray(we))){var st=we;we=X,X=I,I=st}if(arguments[3]instanceof Tt?(S("The transform parameter of text() with a Matrix value"),Ie=Pe):(ct=arguments[4],mt=arguments[5],Cn(G=arguments[3])==="object"&&G!==null||(typeof ct=="string"&&(mt=ct,ct=null),typeof G=="string"&&(mt=G,G=null),typeof G=="number"&&(ct=G,G=null),Be={flags:G,angle:ct,align:mt})),isNaN(X)||isNaN(we)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return ke;var Wt="",Tn=!1,Lt=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:Co,bn=ke.internal.scaleFactor;function pr(On){return On=On.split("	").join(Array(Be.TabLen||9).join(" ")),kr(On,G)}function Br(On){for(var Dn,gr=On.concat(),Qn=[],ia=gr.length;ia--;)typeof(Dn=gr.shift())=="string"?Qn.push(Dn):Array.isArray(On)&&(Dn.length===1||Dn[1]===void 0&&Dn[2]===void 0)?Qn.push(Dn[0]):Qn.push([Dn[0],Dn[1],Dn[2]]);return Qn}function Ai(On,Dn){var gr;if(typeof On=="string")gr=Dn(On)[0];else if(Array.isArray(On)){for(var Qn,ia,JA=On.concat(),sa=[],Fd=JA.length;Fd--;)typeof(Qn=JA.shift())=="string"?sa.push(Dn(Qn)[0]):Array.isArray(Qn)&&typeof Qn[0]=="string"&&(ia=Dn(Qn[0],Qn[1],Qn[2]),sa.push([ia[0],ia[1],ia[2]]));gr=sa}return gr}var bi=!1,ka=!0;if(typeof I=="string")bi=!0;else if(Array.isArray(I)){var Ra=I.concat();et=[];for(var aA,Cr=Ra.length;Cr--;)(typeof(aA=Ra.shift())!="string"||Array.isArray(aA)&&typeof aA[0]!="string")&&(ka=!1);bi=ka}if(bi===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var $A=Ve/ke.internal.scaleFactor,Fs=$A*(Lt-1);switch(Be.baseline){case"bottom":we-=Fs;break;case"top":we+=$A-Fs;break;case"hanging":we+=$A-2*Fs;break;case"middle":we+=$A/2-Fs}if((R=Be.maxWidth||0)>0&&(typeof I=="string"?I=ke.splitTextToSize(I,R):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(On,Dn){return On.concat(ke.splitTextToSize(Dn,R))},[]))),De={text:I,x:X,y:we,options:Be,mutex:{pdfEscape:kr,activeFontKey:Le,fonts:pt,activeFontSize:Ve}},vt.publish("preProcessText",De),I=De.text,ct=(Be=De.options).angle,!(Ie instanceof Tt)&&ct&&typeof ct=="number"){ct*=Math.PI/180,Be.rotationDirection===0&&(ct=-ct),E===y.ADVANCED&&(ct=-ct);var Oa=Math.cos(ct),wu=Math.sin(ct);Ie=new Tt(Oa,wu,-wu,Oa,0,0)}else ct&&ct instanceof Tt&&(Ie=ct);E!==y.ADVANCED||Ie||(Ie=Bs),(v=Be.charSpace||No)!==void 0&&(Wt+=N(T(v))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ce=Be.horizontalScale)!==void 0&&(Wt+=N(100*ce)+` Tz
`),Be.lang;var _i=-1,Cf=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,Ps=ke.internal.getCurrentPageInfo().pageContext;switch(Cf){case 0:case!1:case"fill":_i=0;break;case 1:case!0:case"stroke":_i=1;break;case 2:case"fillThenStroke":_i=2;break;case 3:case"invisible":_i=3;break;case 4:case"fillAndAddForClipping":_i=4;break;case 5:case"strokeAndAddPathForClipping":_i=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_i=6;break;case 7:case"addToPathForClipping":_i=7}var Td=Ps.usedRenderingMode!==void 0?Ps.usedRenderingMode:-1;_i!==-1?Wt+=_i+` Tr
`:Td!==-1&&(Wt+=`0 Tr
`),_i!==-1&&(Ps.usedRenderingMode=_i),mt=Be.align||"left";var ci,GA=Ve*Lt,Js=ke.internal.pageSize.getWidth(),lA=pt[Le];v=Be.charSpace||No,R=Be.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var Da=[],Qa=function(On){return ke.getStringUnitWidth(On,{font:lA,charSpace:v,fontSize:Ve,doKerning:!1})*Ve/bn};if(Object.prototype.toString.call(I)==="[object Array]"){var ui;et=Br(I),mt!=="left"&&(ci=et.map(Qa));var di,Fo=0;if(mt==="right"){X-=ci[0],I=[],Cr=et.length;for(var ss=0;ss<Cr;ss++)ss===0?(di=Yn(X),ui=wi(we)):(di=T(Fo-ci[ss]),ui=-GA),I.push([et[ss],di,ui]),Fo=ci[ss]}else if(mt==="center"){X-=ci[0]/2,I=[],Cr=et.length;for(var Ys=0;Ys<Cr;Ys++)Ys===0?(di=Yn(X),ui=wi(we)):(di=T((Fo-ci[Ys])/2),ui=-GA),I.push([et[Ys],di,ui]),Fo=ci[Ys]}else if(mt==="left"){I=[],Cr=et.length;for(var gl=0;gl<Cr;gl++)I.push(et[gl])}else if(mt==="justify"&&lA.encoding==="Identity-H"){I=[],Cr=et.length,R=R!==0?R:Js;for(var ta=0,mr=0;mr<Cr;mr++)if(ui=mr===0?wi(we):-GA,di=mr===0?Yn(X):ta,mr<Cr-1){var vl=T((R-ci[mr])/(et[mr].split(" ").length-1)),Mi=et[mr].split(" ");I.push([Mi[0]+" ",di,ui]),ta=0;for(var Ls=1;Ls<Mi.length;Ls++){var WA=(Qa(Mi[Ls-1]+" "+Mi[Ls])-Qa(Mi[Ls]))*bn+vl;Ls==Mi.length-1?I.push([Mi[Ls],WA,0]):I.push([Mi[Ls]+" ",WA,0]),ta-=WA}}else I.push([et[mr],di,ui]);I.push(["",ta,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Cr=et.length,R=R!==0?R:Js,mr=0;mr<Cr;mr++)ui=mr===0?wi(we):-GA,di=mr===0?Yn(X):0,mr<Cr-1?Da.push(N(T((R-ci[mr])/(et[mr].split(" ").length-1)))):Da.push(0),I.push([et[mr],di,ui])}}var xu=typeof Be.R2L=="boolean"?Be.R2L:ft;xu===!0&&(I=Ai(I,function(On,Dn,gr){return[On.split("").reverse().join(""),Dn,gr]})),De={text:I,x:X,y:we,options:Be,mutex:{pdfEscape:kr,activeFontKey:Le,fonts:pt,activeFontSize:Ve}},vt.publish("postProcessText",De),I=De.text,Tn=De.mutex.isHex||!1;var bu=pt[Le].encoding;bu!=="WinAnsiEncoding"&&bu!=="StandardEncoding"||(I=Ai(I,function(On,Dn,gr){return[pr(On),Dn,gr]})),et=Br(I),I=[];for(var Bi,na,yl,ra=0,qA=1,wl=Array.isArray(et[0])?qA:ra,xl="",Ma=function(On,Dn,gr){var Qn="";return gr instanceof Tt?(gr=typeof Be.angle=="number"?Rn(gr,new Tt(1,0,0,1,On,Dn)):Rn(new Tt(1,0,0,1,On,Dn),gr),E===y.ADVANCED&&(gr=Rn(new Tt(1,0,0,-1,0,0),gr)),Qn=gr.join(" ")+` Tm
`):Qn=N(On)+" "+N(Dn)+` Td
`,Qn},Xs=0;Xs<et.length;Xs++){switch(xl="",wl){case qA:yl=(Tn?"<":"(")+et[Xs][0]+(Tn?">":")"),Bi=parseFloat(et[Xs][1]),na=parseFloat(et[Xs][2]);break;case ra:yl=(Tn?"<":"(")+et[Xs]+(Tn?">":")"),Bi=Yn(X),na=wi(we)}Da!==void 0&&Da[Xs]!==void 0&&(xl=Da[Xs]+` Tw
`),Xs===0?I.push(xl+Ma(Bi,na,Ie)+yl):wl===ra?I.push(xl+yl):wl===qA&&I.push(xl+Ma(Bi,na,Ie)+yl)}I=wl===ra?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var hi=`BT
/`;return hi+=Le+" "+Ve+` Tf
`,hi+=N(Ve*Lt)+` TL
`,hi+=Io+`
`,hi+=Wt,hi+=I,me(hi+="ET"),p[Le]=!0,ke};var Rr=m.__private__.clip=m.clip=function(I){return me(I==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Rr("evenodd")},m.__private__.discardPath=m.discardPath=function(){return me("n"),this};var un=m.__private__.isValidStyle=function(I){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(X=!0),X};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(I){return un(I)&&(u=I),this};var nA=m.__private__.getStyle=m.getStyle=function(I){var X=u;switch(I){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=I}return X},fl=m.close=function(){return me("h"),this};m.stroke=function(){return me("S"),this},m.fill=function(I){return li("f",I),this},m.fillEvenOdd=function(I){return li("f*",I),this},m.fillStroke=function(I){return li("B",I),this},m.fillStrokeEvenOdd=function(I){return li("B*",I),this};var li=function(I,X){Cn(X)==="object"?Xo(X,I):me(I)},Ta=function(I){I===null||E===y.ADVANCED&&I===void 0||(I=nA(I),me(I))};function Bo(I,X,we,Be,Pe){var De=new qu(X||this.boundingBox,we||this.xStep,Be||this.yStep,this.gState,Pe||this.matrix);De.stream=this.stream;var et=I+"$$"+this.cloneIndex+++"$$";return _r(et,De),De}var Xo=function(I,X){var we=Wr[I.key],Be=nn[we];if(Be instanceof Bc)me("q"),me(qs(X)),Be.gState&&m.setGState(Be.gState),me(I.matrix.toString()+" cm"),me("/"+we+" sh"),me("Q");else if(Be instanceof qu){var Pe=new Tt(1,0,0,-1,0,To());I.matrix&&(Pe=Pe.multiply(I.matrix||Bs),we=Bo.call(Be,I.key,I.boundingBox,I.xStep,I.yStep,Pe).id),me("q"),me("/Pattern cs"),me("/"+we+" scn"),Be.gState&&m.setGState(Be.gState),me(X),me("Q")}},qs=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},tr=m.moveTo=function(I,X){return me(N(T(I))+" "+N(W(X))+" m"),this},Or=m.lineTo=function(I,X){return me(N(T(I))+" "+N(W(X))+" l"),this},Oi=m.curveTo=function(I,X,we,Be,Pe,De){return me([N(T(I)),N(W(X)),N(T(we)),N(W(Be)),N(T(Pe)),N(W(De)),"c"].join(" ")),this};m.__private__.line=m.line=function(I,X,we,Be,Pe){if(isNaN(I)||isNaN(X)||isNaN(we)||isNaN(Be)||!un(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return E===y.COMPAT?this.lines([[we-I,Be-X]],I,X,[1,1],Pe||"S"):this.lines([[we-I,Be-X]],I,X,[1,1]).stroke()},m.__private__.lines=m.lines=function(I,X,we,Be,Pe,De){var et,ct,mt,v,R,G,ce,Ie,ke,st,Wt,Tn;if(typeof I=="number"&&(Tn=we,we=X,X=I,I=Tn),Be=Be||[1,1],De=De||!1,isNaN(X)||isNaN(we)||!Array.isArray(I)||!Array.isArray(Be)||!un(Pe)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(tr(X,we),et=Be[0],ct=Be[1],v=I.length,st=X,Wt=we,mt=0;mt<v;mt++)(R=I[mt]).length===2?(st=R[0]*et+st,Wt=R[1]*ct+Wt,Or(st,Wt)):(G=R[0]*et+st,ce=R[1]*ct+Wt,Ie=R[2]*et+st,ke=R[3]*ct+Wt,st=R[4]*et+st,Wt=R[5]*ct+Wt,Oi(G,ce,Ie,ke,st,Wt));return De&&fl(),Ta(Pe),this},m.path=function(I){for(var X=0;X<I.length;X++){var we=I[X],Be=we.c;switch(we.op){case"m":tr(Be[0],Be[1]);break;case"l":Or(Be[0],Be[1]);break;case"c":Oi.apply(this,Be);break;case"h":fl()}}return this},m.__private__.rect=m.rect=function(I,X,we,Be,Pe){if(isNaN(I)||isNaN(X)||isNaN(we)||isNaN(Be)||!un(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return E===y.COMPAT&&(Be=-Be),me([N(T(I)),N(W(X)),N(T(we)),N(T(Be)),"re"].join(" ")),Ta(Pe),this},m.__private__.triangle=m.triangle=function(I,X,we,Be,Pe,De,et){if(isNaN(I)||isNaN(X)||isNaN(we)||isNaN(Be)||isNaN(Pe)||isNaN(De)||!un(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-I,Be-X],[Pe-we,De-Be],[I-Pe,X-De]],I,X,[1,1],et,!0),this},m.__private__.roundedRect=m.roundedRect=function(I,X,we,Be,Pe,De,et){if(isNaN(I)||isNaN(X)||isNaN(we)||isNaN(Be)||isNaN(Pe)||isNaN(De)||!un(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*we),De=Math.min(De,.5*Be),this.lines([[we-2*Pe,0],[Pe*ct,0,Pe,De-De*ct,Pe,De],[0,Be-2*De],[0,De*ct,-Pe*ct,De,-Pe,De],[2*Pe-we,0],[-Pe*ct,0,-Pe,-De*ct,-Pe,-De],[0,2*De-Be],[0,-De*ct,Pe*ct,-De,Pe,-De]],I+Pe,X,[1,1],et,!0),this},m.__private__.ellipse=m.ellipse=function(I,X,we,Be,Pe){if(isNaN(I)||isNaN(X)||isNaN(we)||isNaN(Be)||!un(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*we,et=4/3*(Math.SQRT2-1)*Be;return tr(I+we,X),Oi(I+we,X-et,I+De,X-Be,I,X-Be),Oi(I-De,X-Be,I-we,X-et,I-we,X),Oi(I-we,X+et,I-De,X+Be,I,X+Be),Oi(I+De,X+Be,I+we,X+et,I+we,X),Ta(Pe),this},m.__private__.circle=m.circle=function(I,X,we,Be){if(isNaN(I)||isNaN(X)||isNaN(we)||!un(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,X,we,we,Be)},m.setFont=function(I,X,we){return we&&(X=k(X,we)),Le=hn(I,X,{disableWarning:!1}),this};var rA=m.__private__.getFont=m.getFont=function(){return pt[hn.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var I,X,we={};for(I in Ht)if(Ht.hasOwnProperty(I))for(X in we[I]=[],Ht[I])Ht[I].hasOwnProperty(X)&&we[I].push(X);return we},m.addFont=function(I,X,we,Be,Pe){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(we=k(we,Be)),Pe=Pe||"Identity-H",Sa.call(this,I,X,we,Pe)};var Co,Nn=t.lineWidth||.200025,Zo=m.__private__.getLineWidth=m.getLineWidth=function(){return Nn},zA=m.__private__.setLineWidth=m.setLineWidth=function(I){return Nn=I,me(N(T(I))+" w"),this};m.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(I,X){if(I=I||[],X=X||0,isNaN(X)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(we){return N(T(we))}).join(" "),X=N(T(X)),me("["+I+"] "+X+" d"),this};var pl=m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*Co};m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*Co};var rn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Co=I),this},iA=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Co};rn(t.lineHeight);var Yn=m.__private__.getHorizontalCoordinate=function(I){return T(I)},wi=m.__private__.getVerticalCoordinate=function(I){return E===y.ADVANCED?I:ot[J].mediaBox.topRightY-ot[J].mediaBox.bottomLeftY-T(I)},is=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(I){return N(Yn(I))},Eo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(I){return N(wi(I))},Di=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return qr(Di)},m.__private__.setStrokeColor=m.setDrawColor=function(I,X,we,Be){return Di=ji({ch1:I,ch2:X,ch3:we,ch4:Be,pdfColorType:"draw",precision:2}),me(Di),this};var So=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return qr(So)},m.__private__.setFillColor=m.setFillColor=function(I,X,we,Be){return So=ji({ch1:I,ch2:X,ch3:we,ch4:Be,pdfColorType:"fill",precision:2}),me(So),this};var Io=t.textColor||"0 g",sA=m.__private__.getTextColor=m.getTextColor=function(){return qr(Io)};m.__private__.setTextColor=m.setTextColor=function(I,X,we,Be){return Io=ji({ch1:I,ch2:X,ch3:we,ch4:Be,pdfColorType:"text",precision:3}),this};var No=t.charSpace,ml=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(No||0)};m.__private__.setCharSpace=m.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return No=I,this};var ea=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(I){var X=m.CapJoinStyles[I];if(X===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ea=X,me(X+" J"),this};var xi=0;m.__private__.setLineJoin=m.setLineJoin=function(I){var X=m.CapJoinStyles[I];if(X===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=X,me(X+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(N(T(I))+" M"),this},m.GState=Qm,m.setGState=function(I){(I=typeof I=="string"?pn[oi[I]]:oA(null,I)).equals(Vt)||(me("/"+I.id+" gs"),Vt=I)};var oA=function(I,X){if(!I||!oi[I]){var we=!1;for(var Be in pn)if(pn.hasOwnProperty(Be)&&pn[Be].equals(X)){we=!0;break}if(we)X=pn[Be];else{var Pe="GS"+(Object.keys(pn).length+1).toString(10);pn[Pe]=X,X.id=Pe}return I&&(oi[I]=X.id),vt.publish("addGState",X),X}};m.addGState=function(I,X){return oA(I,X),this},m.saveGraphicsState=function(){return me("q"),kn.push({key:Le,size:Ve,color:Io}),this},m.restoreGraphicsState=function(){me("Q");var I=kn.pop();return Le=I.key,Ve=I.size,Io=I.color,Vt=null,this},m.setCurrentTransformationMatrix=function(I){return me(I.toString()+" cm"),this},m.comment=function(I){return me("#"+I),this};var Is=function(I,X){var we=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(De){isNaN(De)||(we=parseFloat(De))}});var Be=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(De){isNaN(De)||(Be=parseFloat(De))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(De){Pe=De.toString()}}),this},Qi=function(I,X,we,Be){Is.call(this,I,X),this.type="rect";var Pe=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(et){isNaN(et)||(Pe=parseFloat(et))}});var De=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(et){isNaN(et)||(De=parseFloat(et))}}),this},Fa=function(){this.page=At,this.currentPage=J,this.pages=Ae.slice(0),this.pagesContext=ot.slice(0),this.x=nt,this.y=it,this.matrix=St,this.width=Ns(J),this.height=To(J),this.outputDestination=ye,this.id="",this.objectNumber=-1};Fa.prototype.restore=function(){At=this.page,J=this.currentPage,ot=this.pagesContext,Ae=this.pages,nt=this.x,it=this.y,St=this.matrix,Ua(J,this.width),Ts(J,this.height),ye=this.outputDestination};var Pa=function(I,X,we,Be,Pe){br.push(new Fa),At=J=0,Ae=[],nt=I,it=X,St=Pe,er([we,Be])},La=function(I){if(ai[I])br.pop().restore();else{var X=new Fa,we="Xo"+(Object.keys(An).length+1).toString(10);X.id=we,ai[I]=we,An[we]=X,vt.publish("addFormObject",X),br.pop().restore()}};for(var ja in m.beginFormObject=function(I,X,we,Be,Pe){return Pa(I,X,we,Be,Pe),this},m.endFormObject=function(I){return La(I),this},m.doFormObject=function(I,X){var we=An[ai[I]];return me("q"),me(X.toString()+" cm"),me("/"+we.id+" Do"),me("Q"),this},m.getFormObject=function(I){var X=An[ai[I]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},m.save=function(I,X){return I=I||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Ou(_o(Es()),I),typeof Ou.unload=="function"&&qt.setTimeout&&setTimeout(Ou.unload,911),this):new Promise(function(we,Be){try{var Pe=Ou(_o(Es()),I);typeof Ou.unload=="function"&&qt.setTimeout&&setTimeout(Ou.unload,911),we(Pe)}catch(De){Be(De.message)}})},Dt.API)Dt.API.hasOwnProperty(ja)&&(ja==="events"&&Dt.API.events.length?function(I,X){var we,Be,Pe;for(Pe=X.length-1;Pe!==-1;Pe--)we=X[Pe][0],Be=X[Pe][1],I.subscribe.apply(I,[we].concat(typeof Be=="function"?[Be]:Be))}(vt,Dt.API.events):m[ja]=Dt.API[ja]);var Ns=m.getPageWidth=function(I){return(ot[I=I||J].mediaBox.topRightX-ot[I].mediaBox.bottomLeftX)/je},Ua=m.setPageWidth=function(I,X){ot[I].mediaBox.topRightX=X*je+ot[I].mediaBox.bottomLeftX},To=m.getPageHeight=function(I){return(ot[I=I||J].mediaBox.topRightY-ot[I].mediaBox.bottomLeftY)/je},Ts=m.setPageHeight=function(I,X){ot[I].mediaBox.topRightY=X*je+ot[I].mediaBox.bottomLeftY};return m.internal={pdfEscape:kr,getStyle:nA,getFont:rA,getFontSize:Je,getCharSpace:ml,getTextColor:sA,getLineHeight:pl,getLineHeightFactor:iA,getLineWidth:Zo,write:Ye,getHorizontalCoordinate:Yn,getVerticalCoordinate:wi,getCoordinateString:is,getVerticalCoordinateString:Eo,collections:{},newObject:mn,newAdditionalObject:ts,newObjectDeferred:ut,newObjectDeferredBegin:yi,getFilters:jr,putStream:Jr,events:vt,scaleFactor:je,pageSize:{getWidth:function(){return Ns(J)},setWidth:function(I){Ua(J,I)},getHeight:function(){return To(J)},setHeight:function(I){Ts(J,I)}},encryptionOptions:c,encryption:Jn,getEncryptor:Ss,output:Yo,getNumberOfPages:qn,pages:Ae,out:me,f2:H,f3:j,getPageInfo:Na,getPageInfoByObjId:Kt,getCurrentPageInfo:Gt,getPDFVersion:_,Point:Is,Rectangle:Qi,Matrix:Tt,hasHotfix:hl},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ns(J)},set:function(I){Ua(J,I)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return To(J)},set:function(I){Ts(J,I)},enumerable:!0,configurable:!0}),Yt.call(m,Qe),Le="F1",rs(i,n),vt.publish("initialized"),m}dh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},dh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},dh.prototype.processOwnerPassword=function(t,e){return e_(Zb(e).substr(0,5),t)},dh.prototype.encryptor=function(t,e){var n=Zb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return e_(n,r)}},Qm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Cn(t)!==Cn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Dt.API={events:[]},Dt.version="3.0.1";var Sr=Dt.API,lE=1,Nd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(t){return t.toFixed(2)},ac=function(t){return t.toFixed(5)};Sr.__acroform__={};var mo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},I4=function(t){return t*lE},Sl=function(t){var e=new _k,n=Et.internal.getHeight(t)||0,r=Et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Zt(r)),Number(Zt(n))],e},Lq=Sr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},jq=Sr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Uq=Sr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Kr=Sr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Uq(t,e-1)},zr=Sr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lq(t,e-1)},$r=Sr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jq(t,e-1)},kq=Sr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],l=t[3],a={};return a.lowerLeft_X=n(i)||0,a.lowerLeft_Y=r(s+l)||0,a.upperRight_X=n(i+o)||0,a.upperRight_Y=r(s)||0,[Number(Zt(a.lowerLeft_X)),Number(Zt(a.lowerLeft_Y)),Number(Zt(a.upperRight_X)),Number(Zt(a.upperRight_Y))]},Rq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=t_(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Zt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Sl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},t_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=n,o=Et.internal.getHeight(t)||0;o=o<0?-o:o;var l=Et.internal.getWidth(t)||0;l=l<0?-l:l;var a=function(j,T,D){if(j+1<i.length){var W=T+" "+i[j+1][0];return c0(W,t,D).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,h=c0("3",t,s).height,p=t.multiline?o-s:(o-h)/2,m=p+=2,b=0,_=0,C=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+c0(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",y=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var F=!1;if(i[E].length!==1&&C!==i[E].length-1){if((h+2)*(y+2)+2>o)continue e;w+=i[E][C],F=!0,_=E,E--}else{w=(w+=i[E][C]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var M=parseInt(E),k=a(M,w,s),N=E>=i.length-1;if(k&&!N){w+=" ",C=0;continue}if(k||N){if(N)_=M;else if(t.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>o)continue e;_=M}}for(var S="",O=b;O<=_;O++){var H=i[O];if(t.multiline){if(O===_){S+=H[C]+" ",C=(C+1)%H.length;continue}if(O===b){S+=H[H.length-1]+" ";continue}}S+=H[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,c=c0(S,t,s).width,t.textAlign){case"right":u=l-c-2;break;case"center":u=(l-c)/2;break;case"left":default:u=2}e+=Zt(u)+" "+Zt(m)+` Td
`,e+="("+Nd(S)+`) Tj
`,e+=-Zt(u)+` 0 Td
`,m=-(s+2),c=0,b=F?_:_+1,y++,w=""}break}return r.text=e,r.fontSize=s,r},c0=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Oq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Dq=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Qq=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Cn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Mq=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(al.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Oq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Bk,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Dq(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],a=[],u=l.Rect;if(l.Rect&&(l.Rect=kq(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Et.createDefaultAppearanceStream(l),Cn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(a=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var c=Rq(l);a.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var m=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var b=m[o];typeof b=="function"&&(b=b.call(i,l)),h+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,l)),h+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}a.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:a,objectId:l.objId}),i.internal.out("endobj")}s&&Qq(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},bk=Sr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Cn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Nd(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P2=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Nd(r(t))+")"},Rl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rl.prototype.toString=function(){return this.objId+" 0 R"},Rl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Rl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:bk(i,this.objId,this.scope)}):i instanceof Rl?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var _k=function(){Rl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};mo(_k,Rl);var Bk=function(){Rl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Nd(n(t))+")"}},set:function(n){t=n}})};mo(Bk,Rl);var al=function t(){Rl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kr(e,3)},set:function(w){w?this.F=zr(e,3):this.F=$r(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof by)return;s="FieldObject"+t.FieldNum++}var w=function(y){return y};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Nd(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/lE:u},set:function(w){u=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof by||this instanceof Gc))return P2(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof pi?p:P2(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof pi?w:w.substr(0,1)==="("?Vd(w.substr(1,w.length-2)):Vd(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?Vd(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof pi?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof pi?m:P2(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof pi?w:w.substr(0,1)==="("?Vd(w.substr(1,w.length-2)):Vd(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?Vd(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof pi?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,1)},set:function(w){w?this.Ff=zr(this.Ff,1):this.Ff=$r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,2)},set:function(w){w?this.Ff=zr(this.Ff,2):this.Ff=$r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,3)},set:function(w){w?this.Ff=zr(this.Ff,3):this.Ff=$r(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');C=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(C){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};mo(al,Rl);var rd=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bk(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,l){l||(l=1);for(var a,u=[];a=o.exec(s);)u.push(a[l]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,18)},set:function(n){n?this.Ff=zr(this.Ff,18):this.Ff=$r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=zr(this.Ff,19):this.Ff=$r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,20)},set:function(n){n?(this.Ff=zr(this.Ff,20),e.sort()):this.Ff=$r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,22)},set:function(n){n?this.Ff=zr(this.Ff,22):this.Ff=$r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(n){n?this.Ff=zr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,27)},set:function(n){n?this.Ff=zr(this.Ff,27):this.Ff=$r(this.Ff,27)}}),this.hasAppearanceStream=!1};mo(rd,al);var id=function(){rd.call(this),this.fontName="helvetica",this.combo=!1};mo(id,rd);var sd=function(){id.call(this),this.combo=!0};mo(sd,id);var $p=function(){sd.call(this),this.edit=!0};mo($p,sd);var pi=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,15)},set:function(n){n?this.Ff=zr(this.Ff,15):this.Ff=$r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,16)},set:function(n){n?this.Ff=zr(this.Ff,16):this.Ff=$r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,17)},set:function(n){n?this.Ff=zr(this.Ff,17):this.Ff=$r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(n){n?this.Ff=zr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Nd(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Cn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};mo(pi,al);var Gp=function(){pi.call(this),this.pushButton=!0};mo(Gp,pi);var od=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};mo(od,pi);var by=function(){var t,e;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Nd(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Cn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mo(by,al),od.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},od.prototype.createOption=function(t){var e=new by;return e.Parent=this,e.optionName=t,this.Kids.push(e),Hq.call(this.scope,e),e};var Wp=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Et.CheckBox.createAppearanceStream()};mo(Wp,pi);var Gc=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,13)},set:function(e){e?this.Ff=zr(this.Ff,13):this.Ff=$r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,21)},set:function(e){e?this.Ff=zr(this.Ff,21):this.Ff=$r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(e){e?this.Ff=zr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,24)},set:function(e){e?this.Ff=zr(this.Ff,24):this.Ff=$r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,25)},set:function(e){e?this.Ff=zr(this.Ff,25):this.Ff=$r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(e){e?this.Ff=zr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mo(Gc,al);var qp=function(){Gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,14)},set:function(t){t?this.Ff=zr(this.Ff,14):this.Ff=$r(this.Ff,14)}}),this.password=!0};mo(qp,Gc);var Et={CheckBox:{createAppearanceStream:function(){return{N:{On:Et.CheckBox.YesNormal},D:{On:Et.CheckBox.YesPushDown,Off:Et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=t_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Zt(Et.internal.getWidth(t))+" "+Zt(Et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Zt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Sl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Et.internal.getHeight(t),o=Et.internal.getWidth(t),l=t_(t,t.caption);return i.push("1 g"),i.push("0 0 "+Zt(o)+" "+Zt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Zt(o-1)+" "+Zt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Zt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Zt(Et.internal.getWidth(t))+" "+Zt(Et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Et.RadioButton.Circle.YesNormal,e.D[t]=Et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Et.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ac(Et.internal.getWidth(t)/2)+" "+ac(Et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Et.internal.Bezier_C).toFixed(5)),o=Number((r*Et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ac(Et.internal.getWidth(t)/2)+" "+ac(Et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ac(Et.internal.getWidth(t)/2)+" "+ac(Et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=Et.internal.getWidth(t)<=Et.internal.getHeight(t)?Et.internal.getWidth(t)/4:Et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ac(Et.internal.getWidth(t)/2)+" "+ac(Et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Et.RadioButton.Cross.YesNormal,e.D[t]=Et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=Et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Zt(Et.internal.getWidth(t)-2)+" "+Zt(Et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),n.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),n.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),n.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=Et.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(Et.internal.getWidth(t))+" "+Zt(Et.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Zt(Et.internal.getWidth(t)-2)+" "+Zt(Et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(n.x1.x)+" "+Zt(n.x1.y)+" m"),r.push(Zt(n.x2.x)+" "+Zt(n.x2.y)+" l"),r.push(Zt(n.x4.x)+" "+Zt(n.x4.y)+" m"),r.push(Zt(n.x3.x)+" "+Zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Zt(Et.internal.getWidth(t))+" "+Zt(Et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Et.internal.getWidth(t),n=Et.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Et.internal.getWidth=function(t){var e=0;return Cn(t)==="object"&&(e=I4(t.Rect[2])),e},Et.internal.getHeight=function(t){var e=0;return Cn(t)==="object"&&(e=I4(t.Rect[3])),e};var Hq=Sr.addField=function(t){if(Mq(this,t),!(t instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Sr.AcroFormChoiceField=rd,Sr.AcroFormListBox=id,Sr.AcroFormComboBox=sd,Sr.AcroFormEditBox=$p,Sr.AcroFormButton=pi,Sr.AcroFormPushButton=Gp,Sr.AcroFormRadioButton=od,Sr.AcroFormCheckBox=Wp,Sr.AcroFormTextField=Gc,Sr.AcroFormPasswordField=qp,Sr.AcroFormAppearance=Et,Sr.AcroForm={ChoiceField:rd,ListBox:id,ComboBox:sd,EditBox:$p,Button:pi,PushButton:Gp,RadioButton:od,CheckBox:Wp,TextField:Gc,PasswordField:qp,Appearance:Et},Dt.AcroForm={ChoiceField:rd,ListBox:id,ComboBox:sd,EditBox:$p,Button:pi,PushButton:Gp,RadioButton:od,CheckBox:Wp,TextField:Gc,PasswordField:qp,Appearance:Et};var Vq=Dt.AcroForm;function Ck(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(j,T){var D,W,oe,V,q,z=e;if((T=T||e)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(k(j))for(q in n)for(oe=n[q],D=0;D<oe.length;D+=1){for(V=!0,W=0;W<oe[D].length;W+=1)if(oe[D][W]!==void 0&&oe[D][W]!==j[W]){V=!1;break}if(V===!0){z=q;break}}else for(q in n)for(oe=n[q],D=0;D<oe.length;D+=1){for(V=!0,W=0;W<oe[D].length;W+=1)if(oe[D][W]!==void 0&&oe[D][W]!==j.charCodeAt(W)){V=!1;break}if(V===!0){z=q;break}}return z===e&&T!==e&&(z=T),z},i=function j(T){for(var D=this.internal.write,W=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:T.width}),V.push({key:"Height",value:T.height}),T.colorSpace===C.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===C.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var q="",z=0,ue=T.transparency.length;z<ue;z++)q+=T.transparency[z]+" "+T.transparency[z]+" ";V.push({key:"Mask",value:"["+q+"]"})}T.sMask!==void 0&&V.push({key:"SMask",value:T.objectId+1+" 0 R"});var ie=T.filter!==void 0?["/"+T.filter]:void 0;if(W({data:T.data,additionalKeyValues:V,alreadyAppliedFilters:ie,objectId:T.objectId}),D("endobj"),"sMask"in T&&T.sMask!==void 0){var be="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,Q={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:be,data:T.sMask};"filter"in T&&(Q.filter=T.filter),j.call(this,Q)}if(T.colorSpace===C.INDEXED){var J=this.internal.newObject();W({data:S(new Uint8Array(T.palette)),objectId:J}),D("endobj")}},s=function(){var j=this.internal.collections.addImage_images;for(var T in j)i.call(this,j[T])},o=function(){var j,T=this.internal.collections.addImage_images,D=this.internal.write;for(var W in T)D("/I"+(j=T[W]).index,j.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},a=function(){var j=this.internal.collections.addImage_images;return l.call(this),j},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(j){return typeof t["process"+j.toUpperCase()]=="function"},h=function(j){return Cn(j)==="object"&&j.nodeType===1},p=function(j,T){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var D=""+j.getAttribute("src");if(D.indexOf("data:image/")===0)return zp(unescape(D).split("base64,").pop());var W=t.loadFile(D,!0);if(W!==void 0)return W}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var oe;switch(T){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return zp(j.toDataURL(oe,1).split("base64,").pop())}},m=function(j){var T=this.internal.collections.addImage_images;if(T){for(var D in T)if(j===T[D].alias)return T[D]}},b=function(j,T,D){return j||T||(j=-96,T=-96),j<0&&(j=-1*D.width*72/j/this.internal.scaleFactor),T<0&&(T=-1*D.height*72/T/this.internal.scaleFactor),j===0&&(j=T*D.width/D.height),T===0&&(T=j*D.height/D.width),[j,T]},_=function(j,T,D,W,oe,V){var q=b.call(this,D,W,oe),z=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ie=a.call(this);if(D=q[0],W=q[1],ie[oe.index]=oe,V){V*=Math.PI/180;var be=Math.cos(V),Q=Math.sin(V),J=function(ee){return ee.toFixed(4)},re=[J(be),J(Q),J(-1*Q),J(be),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,z(j),ue(T+W),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([z(D),"0","0",z(W),"0","0","cm"].join(" "))):this.internal.write([z(D),"0","0",z(W),z(j),ue(T+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(j){var T,D,W=0;if(typeof j=="string")for(D=j.length,T=0;T<D;T++)W=(W<<5)-W+j.charCodeAt(T),W|=0;else if(k(j))for(D=j.byteLength/2,T=0;T<D;T++)W=(W<<5)-W+j[T],W|=0;return W},E=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var T=!0;return j.length===0&&(T=!1),j.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(T=!1),T},F=t.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var T=j.indexOf(",");return T<0?null:j.substring(0,T).trim().endsWith("base64")?j.substring(T+1):null},M=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(j){return M()&&j instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(j){return M()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(j){for(var T=j.length,D=new Uint8Array(T),W=0;W<T;W++)D[W]=j.charCodeAt(W);return D},S=t.__addimage__.arrayBufferToBinaryString=function(j){for(var T="",D=k(j)?j:new Uint8Array(j),W=0;W<D.length;W+=8192)T+=String.fromCharCode.apply(null,D.subarray(W,W+8192));return T};t.addImage=function(){var j,T,D,W,oe,V,q,z,ue;if(typeof arguments[1]=="number"?(T=e,D=arguments[1],W=arguments[2],oe=arguments[3],V=arguments[4],q=arguments[5],z=arguments[6],ue=arguments[7]):(T=arguments[1],D=arguments[2],W=arguments[3],oe=arguments[4],V=arguments[5],q=arguments[6],z=arguments[7],ue=arguments[8]),Cn(j=arguments[0])==="object"&&!h(j)&&"imageData"in j){var ie=j;j=ie.imageData,T=ie.format||T||e,D=ie.x||D||0,W=ie.y||W||0,oe=ie.w||ie.width||oe,V=ie.h||ie.height||V,q=ie.alias||q,z=ie.compression||z,ue=ie.rotation||ie.angle||ue}var be=this.internal.getFilters();if(z===void 0&&be.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(D)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var Q=O.call(this,j,T,q,z);return _.call(this,D,W,oe,V,Q,ue),this};var O=function(j,T,D,W){var oe,V,q;if(typeof j=="string"&&r(j)===e){j=unescape(j);var z=H(j,!1);(z!==""||(z=t.loadFile(j,!0))!==void 0)&&(j=z)}if(h(j)&&(j=p(j,T)),T=r(j,T),!c(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((q=D)==null||q.length===0)&&(D=function(ue){return typeof ue=="string"||k(ue)?y(ue):k(ue.data)?y(ue.data):null}(j)),(oe=m.call(this,D))||(M()&&(j instanceof Uint8Array||T==="RGBA"||(V=j,j=N(j))),oe=this["process"+T.toUpperCase()](j,u.call(this),D,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:w.NONE}(W),V)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},H=t.__addimage__.convertBase64ToBinaryString=function(j,T){T=typeof T!="boolean"||T;var D,W="";if(typeof j=="string"){var oe;D=(oe=F(j))!==null&&oe!==void 0?oe:j;try{W=zp(D)}catch(V){if(T)throw E(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(j){var T,D,W="";if(h(j)&&(j=p(j)),typeof j=="string"&&r(j)===e&&((W=H(j,!1))===""&&(W=t.loadFile(j)||""),j=W),D=r(j),!c(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!M()||j instanceof Uint8Array||(j=N(j)),!(T=this["process"+D.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=D,T}})(Dt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Dt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+a.objId+" 0 R",s+=" /T ("+m(w(y))+") >>",_.content=s;var E=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var M=this.annotations._nameMap[r.options.name];r.options.pageNumber=M.page,r.options.top=M.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var l=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:a(n),y:u(r),w:a(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,l,a=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var c=this.splitTextToSize(n,l).length;o=Math.ceil(u*c)}else l=a,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=a/2),s.align==="right"&&(r-=a),this.link(r,i-u,l,o,s),a},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Dt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},l=t.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},a=t.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(_){var C=0,w=n,y="",E=0;for(C=0;C<_.length;C+=1)w[_.charCodeAt(C)]!==void 0?(E++,typeof(w=w[_.charCodeAt(C)])=="number"&&(y+=String.fromCharCode(w),w=n,E=0),C===_.length-1&&(w=n,y+=_.charAt(C-(E-1)),C-=E-1,E=0)):(w=n,y+=_.charAt(C-E),C-=E,E=0);return y};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(_,C,w){return o(_)?s(_)===!1?-1:!u(_)||!o(C)&&!o(w)||!o(w)&&l(C)||l(_)&&!o(C)||l(_)&&a(C)||l(_)&&l(C)?0:c(_)&&o(C)&&!l(C)&&o(w)&&u(w)?3:l(_)||!o(w)?1:2:-1},m=function(_){var C=0,w=0,y=0,E="",F="",M="",k=(_=_||"").split("\\s+"),N=[];for(C=0;C<k.length;C+=1){for(N.push(""),w=0;w<k[C].length;w+=1)E=k[C][w],F=k[C][w-1],M=k[C][w+1],o(E)?(y=p(E,F,M),N[C]+=y!==-1?String.fromCharCode(e[E.charCodeAt(0)][y]):E):N[C]+=E;N[C]=h(N[C])}return N.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(C)){var y=0;for(w=[],y=0;y<C.length;y+=1)Array.isArray(C[y])?w.push([m(C[y][0]),C[y][1],C[y][2]]):w.push([m(C[y])]);_=w}else _=m(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",b])}(Dt.API),Dt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Dt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(_){a=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(_){b=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(a){return r.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},t.getTextDimensions=function(a,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,b=0,_=0,C=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var w=u.maxWidth;w>0?typeof a=="string"?a=this.splitTextToSize(a,w):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(E,F){return E.concat(C.splitTextToSize(F,w))},[])):a=Array.isArray(a)?a:[a];for(var y=0;y<a.length;y++)m<(_=this.getStringUnitWidth(a[y],{font:h})*c)&&(m=_);return m!==0&&(b=a.length),{w:m/=p,h:Math.max((b*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var a=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var a;a=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===a.lineNumber?(a.x=(u.x||0)+(u.width||0),a.y=u.y||0):u.y+u.height+a.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=h.top,m&&p&&(this.printHeaderRow(a.lineNumber,!0),a.y+=p[0].height)):a.y=u.y+u.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,n===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-c,a.y+c,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+c,{align:"center",baseline:"top",maxWidth:a.width-c-c}):this.text(a.text,a.x+c,a.y+c,{align:"left",baseline:"top",maxWidth:a.width-c-c})),this.internal.__cell__.lastCell=a,this};t.table=function(a,u,c,h,p){if(r.call(this),!c)throw new Error("No data for PDF table.");var m,b,_,C,w=[],y=[],E=[],F={},M={},k=[],N=[],S=(p=p||{}).autoSize||!1,O=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,j=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,D=p.headerBackgroundColor||"#c8c8c8",W=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=W,this.setFontSize(H),h==null)y=w=Object.keys(c[0]),E=w.map(function(){return"left"});else if(Array.isArray(h)&&Cn(h[0])==="object")for(w=h.map(function(ie){return ie.name}),y=h.map(function(ie){return ie.prompt||ie.name||""}),E=h.map(function(ie){return ie.align||"left"}),m=0;m<h.length;m+=1)M[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=w=h,E=w.map(function(){return"left"}));if(S||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<w.length;m+=1){for(F[C=w[m]]=c.map(function(ie){return ie[C]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=F[C],this.setFont(void 0,"normal"),_=0;_<b.length;_+=1)k.push(this.getTextDimensions(b[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[C]=Math.max.apply(null,k)+T+T,k=[]}if(O){var oe={};for(m=0;m<w.length;m+=1)oe[w[m]]={},oe[w[m]].text=y[m],oe[w[m]].align=E[m];var V=l.call(this,oe,M);N=w.map(function(ie){return new s(a,u,M[ie],V,oe[ie].text,void 0,oe[ie].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var q=h.reduce(function(ie,be){return ie[be.name]=be.align,ie},{});for(m=0;m<c.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:c[m]},this);var z=l.call(this,c[m],M);for(_=0;_<w.length;_+=1){var ue=c[m][w[_]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:_,data:ue},this),o.call(this,new s(a,u,M[w[_]],z,ue,m+2,q[w[_]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=u,this};var l=function(a,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(a).map(function(m){var b=a[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[m]-c-c)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+c+c},this).reduce(function(m,b){return Math.max(m,b)},0)};t.setTableHeaderRow=function(a){r.call(this),this.internal.__cell__.tableHeaderRow=a},t.printHeaderRow=function(a,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){c=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=a;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Dt.API);var Ek={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Sk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n_=Ck(Sk),Ik=[100,200,300,400,500,600,700,800,900],Kq=Ck(Ik);function r_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Ek[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof n_[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function N4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var zq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},T4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function F4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function $q(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},zq,n.genericFontFamilies||{}),s=null,o=null,l=0;l<e.length;++l)if(i[(s=r_(e[l])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+F4(s)+"' and default family '"+r+"'.");if(o=function(a,u){if(u[a])return u[a];var c=n_[a],h=c<=n_.normal?-1:1,p=N4(u,Sk,c,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+a);return p}(s.stretch,o),o=function(a,u){if(u[a])return u[a];for(var c=Ek[a],h=0;h<c.length;++h)if(u[c[h]])return u[c[h]];throw new Error("Could not find a matching font-style for "+a)}(s.style,o),!(o=function(a,u){if(u[a])return u[a];if(a===400&&u[500])return u[500];if(a===500&&u[400])return u[400];var c=Kq[a],h=N4(u,Ik,c,a<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+a);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+F4(s)+"'.");return o}function P4(t){return t.trimLeft()}function Gq(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Wq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var u0,L4,j4,L2=["times"];(function(t){var e,n,r,i,s,o,l,a,u,c=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new a,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,a=this.internal.Matrix,u=new c}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=Q;Object.defineProperty(this,"pdf",{get:function(){return J}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Ce){re=!!Ce}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Ce){ee=!!Ce}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Ce){isNaN(Ce)||(he=Ce)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Ce){isNaN(Ce)||(ve=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var me;typeof Ce=="number"?me=[Ce,Ce,Ce,Ce]:((me=new Array(4))[0]=Ce[0],me[1]=Ce.length>=2?Ce[1]:me[0],me[2]=Ce.length>=3?Ce[2]:me[0],me[3]=Ce.length>=4?Ce[3]:me[1]),u.margin=me}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Ce){fe=Ce}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Ce){ne=Ce}});var te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return te},set:function(Ce){te=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof c&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(Ce){Ae=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var me;me=p(Ce),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var me=p(Ce);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var xe=null;function ye(Ce,me){if(xe===null){var Ye=function(We){var Qe=[];return Object.keys(We).forEach(function(Ve){We[Ve].forEach(function(ze){var Je=null;switch(ze){case"bold":Je={family:Ve,weight:"bold"};break;case"italic":Je={family:Ve,style:"italic"};break;case"bolditalic":Je={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:Ve}}Je!==null&&(Je.ref={name:Ve,style:ze},Qe.push(Je))})}),Qe}(Ce.getFontList());xe=function(We){for(var Qe={},Ve=0;Ve<We.length;++Ve){var ze=r_(We[Ve]),Je=ze.family,ft=ze.stretch,Nt=ze.style,It=ze.weight;Qe[Je]=Qe[Je]||{},Qe[Je][ft]=Qe[Je][ft]||{},Qe[Je][ft][Nt]=Qe[Je][ft][Nt]||{},Qe[Je][ft][Nt][It]=ze}return Qe}(Ye.concat(me))}return xe}var Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(Ce){xe=null,Fe=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var me;if(this.ctx.font=Ce,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var Ye=me[1];me[2];var We=me[3],Qe=me[4];me[5];var Ve=me[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(ze==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var Je=function(Pt){var Le,je,nt=[],it=Pt.trim();if(it==="")return L2;if(it in T4)return[T4[it]];for(;it!=="";){switch(je=null,Le=(it=P4(it)).charAt(0)){case'"':case"'":je=Gq(it.substring(1),Le);break;default:je=Wq(it)}if(je===null||(nt.push(je[0]),(it=P4(je[1]))!==""&&it.charAt(0)!==","))return L2;it=it.replace(/^,/,"")}return nt}(Ve);if(this.fontFaces){var ft=$q(ye(this.pdf,this.fontFaces),Je.map(function(Pt){return{family:Pt,stretch:"normal",weight:We,style:Ye}}));this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var Nt="";(We==="bold"||parseInt(We,10)>=700||Ye==="bold")&&(Nt="bold"),Ye==="italic"&&(Nt+="italic"),Nt.length===0&&(Nt="normal");for(var It="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<Je.length;Ft++){if(this.pdf.internal.getFont(Je[Ft],Nt,{noFallback:!0,disableWarning:!0})!==void 0){It=Je[Ft];break}if(Nt==="bolditalic"&&this.pdf.internal.getFont(Je[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)It=Je[Ft],Nt="bold";else if(this.pdf.internal.getFont(Je[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){It=Je[Ft],Nt="normal";break}}if(It===""){for(var Bt=0;Bt<Je.length;Bt++)if(Ut[Je[Bt]]){It=Ut[Je[Bt]];break}}It=It===""?"Times":It,this.pdf.setFont(It,Nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){F.call(this,"fill",!1)},h.prototype.stroke=function(){F.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,J){if(isNaN(Q)||isNaN(J))throw Zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new o(Q,J));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(Q,J)},h.prototype.closePath=function(){var Q=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Cn(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){Q=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.lineTo=function(Q,J){if(isNaN(Q)||isNaN(J))throw Zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new o(Q,J));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,J,re,ee){if(isNaN(re)||isNaN(ee)||isNaN(Q)||isNaN(J))throw Zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(re,ee)),ve=this.ctx.transform.applyToPoint(new o(Q,J));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},h.prototype.bezierCurveTo=function(Q,J,re,ee,he,ve){if(isNaN(he)||isNaN(ve)||isNaN(Q)||isNaN(J)||isNaN(re)||isNaN(ee))throw Zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(he,ve)),ne=this.ctx.transform.applyToPoint(new o(Q,J)),te=this.ctx.transform.applyToPoint(new o(re,ee));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:te.x,y2:te.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},h.prototype.arc=function(Q,J,re,ee,he,ve){if(isNaN(Q)||isNaN(J)||isNaN(re)||isNaN(ee)||isNaN(he))throw Zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(Q,J));Q=fe.x,J=fe.y;var ne=this.ctx.transform.applyToPoint(new o(0,re)),te=this.ctx.transform.applyToPoint(new o(0,0));re=Math.sqrt(Math.pow(ne.x-te.x,2)+Math.pow(ne.y-te.y,2))}Math.abs(he-ee)>=2*Math.PI&&(ee=0,he=2*Math.PI),this.path.push({type:"arc",x:Q,y:J,radius:re,startAngle:ee,endAngle:he,counterclockwise:ve})},h.prototype.arcTo=function(Q,J,re,ee,he){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,J,re,ee){if(isNaN(Q)||isNaN(J)||isNaN(re)||isNaN(ee))throw Zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,J),this.lineTo(Q+re,J),this.lineTo(Q+re,J+ee),this.lineTo(Q,J+ee),this.lineTo(Q,J),this.lineTo(Q+re,J),this.lineTo(Q,J)},h.prototype.fillRect=function(Q,J,re,ee){if(isNaN(Q)||isNaN(J)||isNaN(re)||isNaN(ee))throw Zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,J,re,ee),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},h.prototype.strokeRect=function(Q,J,re,ee){if(isNaN(Q)||isNaN(J)||isNaN(re)||isNaN(ee))throw Zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(Q,J,re,ee),this.stroke())},h.prototype.clearRect=function(Q,J,re,ee){if(isNaN(Q)||isNaN(J)||isNaN(re)||isNaN(ee))throw Zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,J,re,ee))},h.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},h.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(J),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(Q){var J,re,ee,he;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))J=0,re=0,ee=0,he=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(ve!==null)J=parseInt(ve[1]),re=parseInt(ve[2]),ee=parseInt(ve[3]),he=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)J=parseInt(ve[1]),re=parseInt(ve[2]),ee=parseInt(ve[3]),he=parseFloat(ve[4]);else{if(he=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var fe=new yk(Q);Q=fe.ok?fe.toHex():"#000000"}Q.length===4?(J=Q.substring(1,2),J+=J,re=Q.substring(2,3),re+=re,ee=Q.substring(3,4),ee+=ee):(J=Q.substring(1,3),re=Q.substring(3,5),ee=Q.substring(5,7)),J=parseInt(J,16),re=parseInt(re,16),ee=parseInt(ee,16)}}return{r:J,g:re,b:ee,a:he,style:Q}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(Q,J,re,ee){if(isNaN(J)||isNaN(re)||typeof Q!="string")throw Zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!m.call(this)){var he=z(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;T.call(this,{text:Q,x:J,y:re,scale:ve,angle:he,align:this.textAlign,maxWidth:ee})}},h.prototype.strokeText=function(Q,J,re,ee){if(isNaN(J)||isNaN(re)||typeof Q!="string")throw Zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ee=isNaN(ee)?void 0:ee;var he=z(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;T.call(this,{text:Q,x:J,y:re,scale:ve,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ee})}},h.prototype.measureText=function(Q){if(typeof Q!="string")throw Zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,re=this.pdf.internal.scaleFactor,ee=J.internal.getFontSize(),he=J.getStringUnitWidth(Q)*ee/J.internal.scaleFactor,ve=function(fe){var ne=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new ve({width:he*=Math.round(96*re/72*1e4)/1e4})},h.prototype.scale=function(Q,J){if(isNaN(Q)||isNaN(J))throw Zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new a(Q,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.rotate=function(Q){if(isNaN(Q))throw Zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new a(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(Q,J){if(isNaN(Q)||isNaN(J))throw Zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new a(1,0,0,1,Q,J);this.ctx.transform=this.ctx.transform.multiply(re)},h.prototype.transform=function(Q,J,re,ee,he,ve){if(isNaN(Q)||isNaN(J)||isNaN(re)||isNaN(ee)||isNaN(he)||isNaN(ve))throw Zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new a(Q,J,re,ee,he,ve);this.ctx.transform=this.ctx.transform.multiply(fe)},h.prototype.setTransform=function(Q,J,re,ee,he,ve){Q=isNaN(Q)?1:Q,J=isNaN(J)?0:J,re=isNaN(re)?0:re,ee=isNaN(ee)?1:ee,he=isNaN(he)?0:he,ve=isNaN(ve)?0:ve,this.ctx.transform=new a(Q,J,re,ee,he,ve)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,J,re,ee,he,ve,fe,ne,te){var Ae=this.pdf.getImageProperties(Q),xe=1,ye=1,Fe=1,Ce=1;ee!==void 0&&ne!==void 0&&(Fe=ne/ee,Ce=te/he,xe=Ae.width/ee*ne/ee,ye=Ae.height/he*te/he),ve===void 0&&(ve=J,fe=re,J=0,re=0),ee!==void 0&&ne===void 0&&(ne=ee,te=he),ee===void 0&&ne===void 0&&(ne=Ae.width,te=Ae.height);for(var me,Ye=this.ctx.transform.decompose(),We=z(Ye.rotate.shx),Qe=new a,Ve=(Qe=(Qe=(Qe=Qe.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new l(ve-J*Fe,fe-re*Ce,ee*xe,he*ye)),ze=C.call(this,Ve),Je=[],ft=0;ft<ze.length;ft+=1)Je.indexOf(ze[ft])===-1&&Je.push(ze[ft]);if(E(Je),this.autoPaging)for(var Nt=Je[0],It=Je[Je.length-1],Ut=Nt;Ut<It+1;Ut++){this.pdf.setPage(Ut);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=Ut===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=Ut===1?0:Pt+(Ut-2)*Le;if(this.ctx.clip_path.length!==0){var nt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(me,this.posX+this.margin[3],-je+Bt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=nt}var it=JSON.parse(JSON.stringify(Ve));it=y([it],this.posX+this.margin[3],-je+Bt+this.ctx.prevPageLastElemOffset)[0];var St=(Ut>Nt||Ut<It)&&_.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,Le,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",it.x,it.y,it.w,it.h,null,null,We),St&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,We)};var C=function(Q,J,re){var ee=[];J=J||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ee.push(Math.floor((Q.y+he)/re)+1);break;case"arc":ee.push(Math.floor((Q.y+he-Q.radius)/re)+1),ee.push(Math.floor((Q.y+he+Q.radius)/re)+1);break;case"qct":var ve=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ee.push(Math.floor((ve.y+he)/re)+1),ee.push(Math.floor((ve.y+ve.h+he)/re)+1);break;case"bct":var fe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ee.push(Math.floor((fe.y+he)/re)+1),ee.push(Math.floor((fe.y+fe.h+he)/re)+1);break;case"rect":ee.push(Math.floor((Q.y+he)/re)+1),ee.push(Math.floor((Q.y+Q.h+he)/re)+1)}for(var ne=0;ne<ee.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ne];)w.call(this);return ee},w=function(){var Q=this.fillStyle,J=this.strokeStyle,re=this.font,ee=this.lineCap,he=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=J,this.font=re,this.lineCap=ee,this.lineWidth=he,this.lineJoin=ve},y=function(Q,J,re){for(var ee=0;ee<Q.length;ee++)switch(Q[ee].type){case"bct":Q[ee].x2+=J,Q[ee].y2+=re;case"qct":Q[ee].x1+=J,Q[ee].y1+=re;case"mt":case"lt":case"arc":default:Q[ee].x+=J,Q[ee].y+=re}return Q},E=function(Q){return Q.sort(function(J,re){return J-re})},F=function(Q,J){for(var re,ee,he=this.fillStyle,ve=this.strokeStyle,fe=this.lineCap,ne=this.lineWidth,te=Math.abs(ne*this.ctx.transform.scaleX),Ae=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),Fe=[],Ce=0;Ce<ye.length;Ce++)if(ye[Ce].x!==void 0)for(var me=C.call(this,ye[Ce]),Ye=0;Ye<me.length;Ye+=1)Fe.indexOf(me[Ye])===-1&&Fe.push(me[Ye]);for(var We=0;We<Fe.length;We++)for(;this.pdf.internal.getNumberOfPages()<Fe[We];)w.call(this);if(E(Fe),this.autoPaging)for(var Qe=Fe[0],Ve=Fe[Fe.length-1],ze=Qe;ze<Ve+1;ze++){this.pdf.setPage(ze),this.fillStyle=he,this.strokeStyle=ve,this.lineCap=fe,this.lineWidth=te,this.lineJoin=Ae;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=ze===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=ze===1?0:Nt+(ze-2)*It;if(this.ctx.clip_path.length!==0){var Ft=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(re,this.posX+this.margin[3],-Ut+ft+this.ctx.prevPageLastElemOffset),M.call(this,Q,!0),this.path=Ft}if(ee=JSON.parse(JSON.stringify(xe)),this.path=y(ee,this.posX+this.margin[3],-Ut+ft+this.ctx.prevPageLastElemOffset),J===!1||ze===0){var Bt=(ze>Qe||ze<Ve)&&_.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,It,null).clip().discardPath()),M.call(this,Q,J),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=te,M.call(this,Q,J),this.lineWidth=ne;this.path=xe},M=function(Q,J){if((Q!=="stroke"||J||!b.call(this))&&(Q==="stroke"||J||!m.call(this))){for(var re,ee,he=[],ve=this.path,fe=0;fe<ve.length;fe++){var ne=ve[fe];switch(ne.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:ne,deltas:[],abs:[]});break;case"lt":var te=he.length;if(ve[fe-1]&&!isNaN(ve[fe-1].x)&&(re=[ne.x-ve[fe-1].x,ne.y-ve[fe-1].y],te>0)){for(;te>=0;te--)if(he[te-1].close!==!0&&he[te-1].begin!==!0){he[te-1].deltas.push(re),he[te-1].abs.push(ne);break}}break;case"bct":re=[ne.x1-ve[fe-1].x,ne.y1-ve[fe-1].y,ne.x2-ve[fe-1].x,ne.y2-ve[fe-1].y,ne.x-ve[fe-1].x,ne.y-ve[fe-1].y],he[he.length-1].deltas.push(re);break;case"qct":var Ae=ve[fe-1].x+2/3*(ne.x1-ve[fe-1].x),xe=ve[fe-1].y+2/3*(ne.y1-ve[fe-1].y),ye=ne.x+2/3*(ne.x1-ne.x),Fe=ne.y+2/3*(ne.y1-ne.y),Ce=ne.x,me=ne.y;re=[Ae-ve[fe-1].x,xe-ve[fe-1].y,ye-ve[fe-1].x,Fe-ve[fe-1].y,Ce-ve[fe-1].x,me-ve[fe-1].y],he[he.length-1].deltas.push(re);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(ne)}}ee=J?null:Q==="stroke"?"stroke":"fill";for(var Ye=!1,We=0;We<he.length;We++)if(he[We].arc)for(var Qe=he[We].abs,Ve=0;Ve<Qe.length;Ve++){var ze=Qe[Ve];ze.type==="arc"?S.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,J,!Ye):D.call(this,ze.x,ze.y),Ye=!0}else if(he[We].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(he[We].begin!==!0){var Je=he[We].start.x,ft=he[We].start.y;W.call(this,he[We].deltas,Je,ft),Ye=!0}ee&&O.call(this,ee),J&&H.call(this)}},k=function(Q){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-re;case"top":return Q+J-re;case"hanging":return Q+J-2*re;case"middle":return Q+J/2-re;case"ideographic":return Q;case"alphabetic":default:return Q}},N=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(J,re){this.colorStops.push([J,re])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(Q,J,re,ee,he,ve,fe,ne,te){for(var Ae=V.call(this,re,ee,he,ve),xe=0;xe<Ae.length;xe++){var ye=Ae[xe];xe===0&&(te?j.call(this,ye.x1+Q,ye.y1+J):D.call(this,ye.x1+Q,ye.y1+J)),oe.call(this,Q,J,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}ne?H.call(this):O.call(this,fe)},O=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(Q,J){this.pdf.internal.out(n(Q)+" "+r(J)+" m")},T=function(Q){var J;switch(Q.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var re=this.pdf.getTextDimensions(Q.text),ee=k.call(this,Q.y),he=N.call(this,ee)-re.h,ve=this.ctx.transform.applyToPoint(new o(Q.x,ee)),fe=this.ctx.transform.decompose(),ne=new a;ne=(ne=(ne=ne.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var te,Ae,xe,ye=this.ctx.transform.applyToRectangle(new l(Q.x,ee,re.w,re.h)),Fe=ne.applyToRectangle(new l(Q.x,he,re.w,re.h)),Ce=C.call(this,Fe),me=[],Ye=0;Ye<Ce.length;Ye+=1)me.indexOf(Ce[Ye])===-1&&me.push(Ce[Ye]);if(E(me),this.autoPaging)for(var We=me[0],Qe=me[me.length-1],Ve=We;Ve<Qe+1;Ve++){this.pdf.setPage(Ve);var ze=Ve===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Nt=ft-this.margin[0],It=this.pdf.internal.pageSize.width-this.margin[1],Ut=It-this.margin[3],Ft=Ve===1?0:Je+(Ve-2)*Nt;if(this.ctx.clip_path.length!==0){var Bt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(te,this.posX+this.margin[3],-1*Ft+ze),M.call(this,"fill",!0),this.path=Bt}var Pt=y([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-Ft+ze+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*Q.scale),xe=this.lineWidth,this.lineWidth=xe*Q.scale);var Le=this.autoPaging!=="text";if(Le||Pt.y+Pt.h<=ft){if(Le||Pt.y>=ze&&Pt.x<=It){var je=Le?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||It-Pt.x)[0],nt=y([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Ft+ze+this.ctx.prevPageLastElemOffset)[0],it=Le&&(Ve>We||Ve<Qe)&&_.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Nt,null).clip().discardPath()),this.pdf.text(je,nt.x,nt.y,{angle:Q.angle,align:J,renderingMode:Q.renderingMode}),it&&this.pdf.restoreGraphicsState()}}else Pt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-Pt.y);Q.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=xe)}else Q.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*Q.scale),xe=this.lineWidth,this.lineWidth=xe*Q.scale),this.pdf.text(Q.text,ve.x+this.posX,ve.y+this.posY,{angle:Q.angle,align:J,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=xe)},D=function(Q,J,re,ee){re=re||0,ee=ee||0,this.pdf.internal.out(n(Q+re)+" "+r(J+ee)+" l")},W=function(Q,J,re){return this.pdf.lines(Q,J,re,null,null)},oe=function(Q,J,re,ee,he,ve,fe,ne){this.pdf.internal.out([e(i(re+Q)),e(s(ee+J)),e(i(he+Q)),e(s(ve+J)),e(i(fe+Q)),e(s(ne+J)),"c"].join(" "))},V=function(Q,J,re,ee){for(var he=2*Math.PI,ve=Math.PI/2;J>re;)J-=he;var fe=Math.abs(re-J);fe<he&&ee&&(fe=he-fe);for(var ne=[],te=ee?-1:1,Ae=J;fe>1e-5;){var xe=Ae+te*Math.min(fe,ve);ne.push(q.call(this,Q,Ae,xe)),fe-=Math.abs(xe-Ae),Ae=xe}return ne},q=function(Q,J,re){var ee=(re-J)/2,he=Q*Math.cos(ee),ve=Q*Math.sin(ee),fe=he,ne=-ve,te=fe*fe+ne*ne,Ae=te+fe*he+ne*ve,xe=4/3*(Math.sqrt(2*te*Ae)-Ae)/(fe*ve-ne*he),ye=fe-xe*ne,Fe=ne+xe*fe,Ce=ye,me=-Fe,Ye=ee+J,We=Math.cos(Ye),Qe=Math.sin(Ye);return{x1:Q*Math.cos(J),y1:Q*Math.sin(J),x2:ye*We-Fe*Qe,y2:ye*Qe+Fe*We,x3:Ce*We-me*Qe,y3:Ce*Qe+me*We,x4:Q*Math.cos(re),y4:Q*Math.sin(re)}},z=function(Q){return 180*Q/Math.PI},ue=function(Q,J,re,ee,he,ve){var fe=Q+.5*(re-Q),ne=J+.5*(ee-J),te=he+.5*(re-he),Ae=ve+.5*(ee-ve),xe=Math.min(Q,he,fe,te),ye=Math.max(Q,he,fe,te),Fe=Math.min(J,ve,ne,Ae),Ce=Math.max(J,ve,ne,Ae);return new l(xe,Fe,ye-xe,Ce-Fe)},ie=function(Q,J,re,ee,he,ve,fe,ne){var te,Ae,xe,ye,Fe,Ce,me,Ye,We,Qe,Ve,ze,Je,ft,Nt=re-Q,It=ee-J,Ut=he-re,Ft=ve-ee,Bt=fe-he,Pt=ne-ve;for(Ae=0;Ae<41;Ae++)We=(me=(xe=Q+(te=Ae/40)*Nt)+te*((Fe=re+te*Ut)-xe))+te*(Fe+te*(he+te*Bt-Fe)-me),Qe=(Ye=(ye=J+te*It)+te*((Ce=ee+te*Ft)-ye))+te*(Ce+te*(ve+te*Pt-Ce)-Ye),Ae==0?(Ve=We,ze=Qe,Je=We,ft=Qe):(Ve=Math.min(Ve,We),ze=Math.min(ze,Qe),Je=Math.max(Je,We),ft=Math.max(ft,Qe));return new l(Math.round(Ve),Math.round(ze),Math.round(Je-Ve),Math.round(ft-ze))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,J,re=(Q=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:J}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Dt.API),function(t){var e=function(s){var o,l,a,u,c,h,p,m,b,_;for(l=[],a=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>a;a+=4)(c=(s.charCodeAt(a)<<24)+(s.charCodeAt(a+1)<<16)+(s.charCodeAt(a+2)<<8)+s.charCodeAt(a+3))!==0?(h=(c=((c=((c=((c=(c-(_=c%85))/85)-(b=c%85))/85)-(m=c%85))/85)-(p=c%85))/85)%85,l.push(h+33,p+33,m+33,b+33,_+33)):l.push(122);return function(C,w){for(var y=w;y>0;y--)C.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,a,u,c,h=String,p="length",m=255,b="charCodeAt",_="slice",C="replace";for(s[_](-2),s=s[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),a=[],u=0,c=(s+=o="uuuuu"[_](s[p]%5||5))[p];c>u;u+=5)l=52200625*(s[b](u)-33)+614125*(s[b](u+1)-33)+7225*(s[b](u+2)-33)+85*(s[b](u+3)-33)+(s[b](u+4)-33),a.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(w,y){for(var E=y;E>0;E--)w.pop()}(a,o[p]),h.fromCharCode.apply(h,a)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",a=0;a<s.length;a+=2)l+=String.fromCharCode("0x"+(s[a]+s[a+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=Yb(o)).reduce(function(a,u){return a+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,a=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:a,reverseChain:u.reverse().join(" ")}}}(Dt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(a,u,c){var h=new XMLHttpRequest,p=0,m=function(b){var _=b.length,C=[],w=String.fromCharCode;for(p=0;p<_;p+=1)C.push(w(255&b.charCodeAt(p)));return C.join("")};if(h.open("GET",a,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(m(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)}(i,s,o)}catch{}return l}(e,n,r)},t.loadImageFile=t.loadFile}(Dt.API),function(t){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):Ya(()=>Promise.resolve().then(()=>FE),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):Ya(()=>import("./purify.es-31816194.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Cn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var a=document.createElement(o);for(var u in l.className&&(a.className=l.className),l.innerHTML&&l.dompurify&&(a.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)a.style[u]=l.style[u];return a},s=function o(l){var a=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),a);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(a){switch(r(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(a){return this.set({src:i("div",{innerHTML:o,dompurify:a})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function a(u,c){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(a(p,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,l(this.prop.container,a)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var a=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var m=u[p],b=m.src.find(function(_){return _.format==="truetype"});b&&a.addFont(b.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,a.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(a){if(a in s.template.prop)return function(){this.prop[a]=o[a]};switch(a){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[a]=o[a]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var a=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(a):a})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(a,u){return Math.floor(a*u/72*96)}return this.then(function(){(o=o||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,a,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),a!=null&&(this.progress.n=a),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,a,u){return this.setProgress(o?this.progress.val+o:null,l||null,a?this.progress.n+a:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var a=this;return this.thenCore(o,l,function(u,c){return a.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return a.updateProgress(null,u),h}).then(u,c).then(function(h){return a.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,a){a=a||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=a.call(u,o,l);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(a){l=l.thenCore(a)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Dt.getPageSize=function(o,l,a){if(Cn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,a=u.format||a}l=l||"mm",a=a||"a4",o=(""+(o||"P")).toLowerCase();var c,h=(""+a).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+l}var m,b=0,_=0;if(p.hasOwnProperty(h))b=p[h][1]/c,_=p[h][0]/c;else try{b=a[1],_=a[0]}catch{throw new Error("Invalid format: "+a)}if(o==="p"||o==="portrait")o="p",_>b&&(m=_,_=b,b=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>_&&(m=_,_=b,b=m)}return{width:_,height:b,unit:l,k:c,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(r_):null;var a=new s(l);return l.worker?a:a.from(o).doCallback()}}(Dt.API),Dt.API.addJS=function(t){return j4=t,this.internal.events.subscribe("postPutResources",function(){u0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(u0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),L4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+j4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){u0!==void 0&&L4!==void 0&&this.internal.out("/Names <</JavaScript "+u0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=r.exec(o);if(l!=null){var a=l[1];n.internal.newObjectDeferredBegin(a,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=n.internal.newObject();c.push(h);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var a=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Dt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,l){var a,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(a=function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,_={width:0,height:0,numcomponents:1},C=4;C<b;C+=2){if(C+=m,e.indexOf(h.charCodeAt(C+1))!==-1){p=256*h.charCodeAt(C+5)+h.charCodeAt(C+6),_={width:256*h.charCodeAt(C+7)+h.charCodeAt(C+8),height:p,numcomponents:h.charCodeAt(C+9)};break}m=256*h.charCodeAt(C+2)+h.charCodeAt(C+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}c={data:n,width:a.width,height:a.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(Dt.API);var Kd,d0,U4,k4,R4,qq=function(){var t,e,n;function r(s){var o,l,a,u,c,h,p,m,b,_,C,w,y,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),b=(function(){var F,M;for(M=[],F=0;F<4;++F)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*c/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((_=a-this.transparency.indexed.length)>0)for(y=0;0<=_?y<_:y>_;0<=_?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(C=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,C.slice(0,p)),this.text[m]=String.fromCharCode.apply(String,C.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),a=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(h,p,m,b){var _,C,w,y,E,F,M,k,N,S,O,H,j,T,D,W,oe,V,q,z,ue,ie=Math.ceil((u.width-h)/m),be=Math.ceil((u.height-p)/b),Q=u.width==ie&&u.height==be;for(T=o*ie,H=Q?l:new Uint8Array(T*be),F=s.length,j=0,C=0;j<be&&a<F;){switch(s[a++]){case 0:for(y=oe=0;oe<T;y=oe+=1)H[C++]=s[a++];break;case 1:for(y=V=0;V<T;y=V+=1)_=s[a++],E=y<o?0:H[C-o],H[C++]=(_+E)%256;break;case 2:for(y=q=0;q<T;y=q+=1)_=s[a++],w=(y-y%o)/o,D=j&&H[(j-1)*T+w*o+y%o],H[C++]=(D+_)%256;break;case 3:for(y=z=0;z<T;y=z+=1)_=s[a++],w=(y-y%o)/o,E=y<o?0:H[C-o],D=j&&H[(j-1)*T+w*o+y%o],H[C++]=(_+Math.floor((E+D)/2))%256;break;case 4:for(y=ue=0;ue<T;y=ue+=1)_=s[a++],w=(y-y%o)/o,E=y<o?0:H[C-o],j===0?D=W=0:(D=H[(j-1)*T+w*o+y%o],W=w&&H[(j-1)*T+(w-1)*o+y%o]),M=E+D-W,k=Math.abs(M-E),S=Math.abs(M-D),O=Math.abs(M-W),N=k<=S&&k<=O?E:S<=O?D:W,H[C++]=(_+N)%256;break;default:throw new Error("Invalid filter algorithm: "+s[a-1])}if(!Q){var J=((p+j*b)*u.width+h)*o,re=j*T;for(y=0;y<ie;y+=1){for(var ee=0;ee<o;ee+=1)l[J++]=H[re++];J+=(m-1)*o}}j++}}return s=Eq(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),l},r.prototype.decodePalette=function(){var s,o,l,a,u,c,h,p,m;for(l=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+l.length),a=0,s=0,o=h=0,p=l.length;h<p;o=h+=3)u[a++]=l[o],u[a++]=l[o+1],u[a++]=l[o+2],u[a++]=(m=c[s++])!=null?m:255;return u},r.prototype.copyToImageData=function(s,o){var l,a,u,c,h,p,m,b,_,C,w;if(a=this.colors,_=null,l=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),a=4,l=!0),b=(u=s.data||s).length,h=_||o,c=p=0,a===1)for(;c<b;)m=_?4*o[c/4]:p,C=h[m++],u[c++]=C,u[c++]=C,u[c++]=C,u[c++]=l?h[m++]:255,p=m;else for(;c<b;)m=_?4*o[c/4]:p,u[c++]=h[m++],u[c++]=h[m++],u[c++]=h[m++],u[c++]=l?h[m++]:255,p=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(qt)==="[object Window]"){try{e=qt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,l,a,u,c,h,p,m;if(this.animation){for(m=[],l=c=0,h=(p=this.animation.frames).length;c<h;l=++c)o=p[l],a=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(a,u),o.imageData=a,m.push(o.image=t(a));return m}},r.prototype.renderFrame=function(s,o){var l,a,u;return l=(a=this.animation.frames)[o],u=a[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var o,l,a,u,c,h,p=this;return l=0,h=this.animation,u=h.numFrames,a=h.frames,c=h.numPlays,(o=function(){var m,b;if(m=l++%u,b=a[m],p.renderFrame(s,m),u>1&&l/u<c)return p.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Jq(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var l=null,a=null;s&&(l=e,a=o,e+=3*o);var u=!0,c=[],h=0,p=null,m=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&_)&&(p=null),m=_>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,F=t[e++],M=F>>6&1,k=1<<(7&F)+1,N=l,S=a,O=!1;F>>7&&(O=!0,N=e,S=k,e+=3*k);var H=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}c.push({x:C,y:w,width:y,height:E,has_local_palette:O,palette_offset:N,palette_size:S,data_offset:H,data_length:e-H,transparent_index:p,interlaced:!!M,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return b},this.frameInfo=function(T){if(T<0||T>=c.length)throw new Error("Frame index out of range.");return c[T]},this.decodeAndBlitFrameBGRA=function(T,D){var W=this.frameInfo(T),oe=W.width*W.height,V=new Uint8Array(oe);O4(t,W.data_offset,V,oe);var q=W.palette_offset,z=W.transparent_index;z===null&&(z=256);var ue=W.width,ie=n-ue,be=ue,Q=4*(W.y*n+W.x),J=4*((W.y+W.height)*n+W.x),re=Q,ee=4*ie;W.interlaced===!0&&(ee+=4*n*7);for(var he=8,ve=0,fe=V.length;ve<fe;++ve){var ne=V[ve];if(be===0&&(be=ue,(re+=ee)>=J&&(ee=4*ie+4*n*(he-1),re=Q+(ue+ie)*(he<<1),he>>=1)),ne===z)re+=4;else{var te=t[q+3*ne],Ae=t[q+3*ne+1],xe=t[q+3*ne+2];D[re++]=xe,D[re++]=Ae,D[re++]=te,D[re++]=255}--be}},this.decodeAndBlitFrameRGBA=function(T,D){var W=this.frameInfo(T),oe=W.width*W.height,V=new Uint8Array(oe);O4(t,W.data_offset,V,oe);var q=W.palette_offset,z=W.transparent_index;z===null&&(z=256);var ue=W.width,ie=n-ue,be=ue,Q=4*(W.y*n+W.x),J=4*((W.y+W.height)*n+W.x),re=Q,ee=4*ie;W.interlaced===!0&&(ee+=4*n*7);for(var he=8,ve=0,fe=V.length;ve<fe;++ve){var ne=V[ve];if(be===0&&(be=ue,(re+=ee)>=J&&(ee=4*ie+4*n*(he-1),re=Q+(ue+ie)*(he<<1),he>>=1)),ne===z)re+=4;else{var te=t[q+3*ne],Ae=t[q+3*ne+1],xe=t[q+3*ne+2];D[re++]=te,D[re++]=Ae,D[re++]=xe,D[re++]=255}--be}}}function O4(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,l=o+1,a=i+1,u=(1<<a)-1,c=0,h=0,p=0,m=t[e++],b=new Int32Array(4096),_=null;;){for(;c<16&&m!==0;)h|=t[e++]<<c,c+=8,m===1?m=t[e++]:--m;if(c<a)break;var C=h&u;if(h>>=a,c-=a,C!==s){if(C===o)break;for(var w=C<l?C:_,y=0,E=w;E>s;)E=b[E]>>8,++y;var F=E;if(p+y+(w!==C?1:0)>r)return void Zn.log("Warning, gif stream longer than expected.");n[p++]=F;var M=p+=y;for(w!==C&&(n[p++]=F),E=w;y--;)E=b[E],n[--M]=255&E,E>>=8;_!==null&&l<4096&&(b[l++]=_<<8|F,l>=u+1&&a<12&&(++a,u=u<<1|1)),_=C}else l=o+1,u=(1<<(a=i+1))-1,_=null}return p!==r&&Zn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function j2(t){var e,n,r,i,s,o=Math.floor,l=new Array(64),a=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),b=new Array(64),_=[],C=0,w=7,y=new Array(64),E=new Array(64),F=new Array(64),M=new Array(256),k=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(Q,J){for(var re=0,ee=0,he=new Array,ve=1;ve<=16;ve++){for(var fe=1;fe<=Q[ve];fe++)he[J[ee]]=[],he[J[ee]][0]=re,he[J[ee]][1]=ve,ee++,re++;re*=2}return he}function q(Q){for(var J=Q[0],re=Q[1]-1;re>=0;)J&1<<re&&(C|=1<<w),re--,--w<0&&(C==255?(z(255),z(0)):z(C),w=7,C=0)}function z(Q){_.push(Q)}function ue(Q){z(Q>>8&255),z(255&Q)}function ie(Q,J,re,ee,he){for(var ve,fe=he[0],ne=he[240],te=function(Qe,Ve){var ze,Je,ft,Nt,It,Ut,Ft,Bt,Pt,Le,je=0;for(Pt=0;Pt<8;++Pt){ze=Qe[je],Je=Qe[je+1],ft=Qe[je+2],Nt=Qe[je+3],It=Qe[je+4],Ut=Qe[je+5],Ft=Qe[je+6];var nt=ze+(Bt=Qe[je+7]),it=ze-Bt,St=Je+Ft,pt=Je-Ft,Ht=ft+Ut,kn=ft-Ut,nn=Nt+It,Wr=Nt-It,pn=nt+nn,oi=nt-nn,Vt=St+Ht,At=St-Ht;Qe[je]=pn+Vt,Qe[je+4]=pn-Vt;var ot=.707106781*(At+oi);Qe[je+2]=oi+ot,Qe[je+6]=oi-ot;var vt=.382683433*((pn=Wr+kn)-(At=pt+it)),on=.5411961*pn+vt,An=1.306562965*At+vt,ai=.707106781*(Vt=kn+pt),br=it+ai,Tt=it-ai;Qe[je+5]=Tt+on,Qe[je+3]=Tt-on,Qe[je+1]=br+An,Qe[je+7]=br-An,je+=8}for(je=0,Pt=0;Pt<8;++Pt){ze=Qe[je],Je=Qe[je+8],ft=Qe[je+16],Nt=Qe[je+24],It=Qe[je+32],Ut=Qe[je+40],Ft=Qe[je+48];var Rn=ze+(Bt=Qe[je+56]),Bs=ze-Bt,_r=Je+Ft,mn=Je-Ft,ut=ft+Ut,yi=ft-Ut,ts=Nt+It,zs=Nt-It,ns=Rn+ts,qr=Rn-ts,ji=_r+ut,jr=_r-ut;Qe[je]=ns+ji,Qe[je+32]=ns-ji;var Jr=.707106781*(jr+qr);Qe[je+16]=qr+Jr,Qe[je+48]=qr-Jr;var Ur=.382683433*((ns=zs+yi)-(jr=mn+Bs)),Wo=.5411961*ns+Ur,_a=1.306562965*jr+Ur,qo=.707106781*(ji=yi+mn),go=Bs+qo,Ba=Bs-qo;Qe[je+40]=Ba+Wo,Qe[je+24]=Ba-Wo,Qe[je+8]=go+_a,Qe[je+56]=go-_a,je++}for(Pt=0;Pt<64;++Pt)Le=Qe[Pt]*Ve[Pt],m[Pt]=Le>0?Le+.5|0:Le-.5|0;return m}(Q,J),Ae=0;Ae<64;++Ae)b[N[Ae]]=te[Ae];var xe=b[0]-re;re=b[0],xe==0?q(ee[0]):(q(ee[p[ve=32767+xe]]),q(h[ve]));for(var ye=63;ye>0&&b[ye]==0;)ye--;if(ye==0)return q(fe),re;for(var Fe,Ce=1;Ce<=ye;){for(var me=Ce;b[Ce]==0&&Ce<=ye;)++Ce;var Ye=Ce-me;if(Ye>=16){Fe=Ye>>4;for(var We=1;We<=Fe;++We)q(ne);Ye&=15}ve=32767+b[Ce],q(he[(Ye<<4)+p[ve]]),q(h[ve]),Ce++}return ye!=63&&q(fe),re}function be(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(J){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var he=o((re[ee]*J+50)/100);he=Math.min(Math.max(he,1),255),l[N[ee]]=he}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var ne=o((ve[fe]*J+50)/100);ne=Math.min(Math.max(ne,1),255),a[N[fe]]=ne}for(var te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,xe=0;xe<8;xe++)for(var ye=0;ye<8;ye++)u[Ae]=1/(l[N[Ae]]*te[xe]*te[ye]*8),c[Ae]=1/(a[N[Ae]]*te[xe]*te[ye]*8),Ae++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,J){J&&be(J),_=new Array,C=0,w=7,ue(65496),ue(65504),ue(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),ue(1),ue(1),z(0),z(0),function(){ue(65499),ue(132),z(0);for(var Je=0;Je<64;Je++)z(l[Je]);z(1);for(var ft=0;ft<64;ft++)z(a[ft])}(),function(Je,ft){ue(65472),ue(17),z(8),ue(ft),ue(Je),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(Q.width,Q.height),function(){ue(65476),ue(418),z(0);for(var Je=0;Je<16;Je++)z(S[Je+1]);for(var ft=0;ft<=11;ft++)z(O[ft]);z(16);for(var Nt=0;Nt<16;Nt++)z(H[Nt+1]);for(var It=0;It<=161;It++)z(j[It]);z(1);for(var Ut=0;Ut<16;Ut++)z(T[Ut+1]);for(var Ft=0;Ft<=11;Ft++)z(D[Ft]);z(17);for(var Bt=0;Bt<16;Bt++)z(W[Bt+1]);for(var Pt=0;Pt<=161;Pt++)z(oe[Pt])}(),ue(65498),ue(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var re=0,ee=0,he=0;C=0,w=7,this.encode.displayName="_encode_";for(var ve,fe,ne,te,Ae,xe,ye,Fe,Ce,me=Q.data,Ye=Q.width,We=Q.height,Qe=4*Ye,Ve=0;Ve<We;){for(ve=0;ve<Qe;){for(Ae=Qe*Ve+ve,ye=-1,Fe=0,Ce=0;Ce<64;Ce++)xe=Ae+(Fe=Ce>>3)*Qe+(ye=4*(7&Ce)),Ve+Fe>=We&&(xe-=Qe*(Ve+1+Fe-We)),ve+ye>=Qe&&(xe-=ve+ye-Qe+4),fe=me[xe++],ne=me[xe++],te=me[xe++],y[Ce]=(k[fe]+k[ne+256>>0]+k[te+512>>0]>>16)-128,E[Ce]=(k[fe+768>>0]+k[ne+1024>>0]+k[te+1280>>0]>>16)-128,F[Ce]=(k[fe+1280>>0]+k[ne+1536>>0]+k[te+1792>>0]>>16)-128;re=ie(y,u,re,e,r),ee=ie(E,c,ee,n,i),he=ie(F,c,he,n,i),ve+=32}Ve+=8}if(w>=0){var ze=[];ze[1]=w+1,ze[0]=(1<<w+1)-1,q(ze)}return ue(65497),new Uint8Array(_)},t=t||50,function(){for(var Q=String.fromCharCode,J=0;J<256;J++)M[J]=Q(J)}(),e=V(S,O),n=V(T,D),r=V(H,j),i=V(W,oe),function(){for(var Q=1,J=2,re=1;re<=15;re++){for(var ee=Q;ee<J;ee++)p[32767+ee]=re,h[32767+ee]=[],h[32767+ee][1]=re,h[32767+ee][0]=ee;for(var he=-(J-1);he<=-Q;he++)p[32767+he]=re,h[32767+he]=[],h[32767+he][1]=re,h[32767+he][0]=J-1+he;Q<<=1,J<<=1}}(),function(){for(var Q=0;Q<256;Q++)k[Q]=19595*Q,k[Q+256>>0]=38470*Q,k[Q+512>>0]=7471*Q+32768,k[Q+768>>0]=-11059*Q,k[Q+1024>>0]=-21709*Q,k[Q+1280>>0]=32768*Q+8421375,k[Q+1536>>0]=-27439*Q,k[Q+1792>>0]=-5329*Q}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function za(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D4(t){function e(S){if(!S)throw Error("assert :P")}function n(S,O,H){for(var j=0;4>j;j++)if(S[O+j]!=H.charCodeAt(j))return!0;return!1}function r(S,O,H,j,T){for(var D=0;D<T;D++)S[O+D]=H[j+D]}function i(S,O,H,j){for(var T=0;T<j;T++)S[O+T]=H}function s(S){return new Int32Array(S)}function o(S,O){for(var H=[],j=0;j<S;j++)H.push(new O);return H}function l(S,O){var H=[];return function j(T,D,W){for(var oe=W[D],V=0;V<oe&&(T.push(W.length>D+1?[]:new O),!(W.length<D+1));V++)j(T[V],D+1,W)}(H,0,S),H}var a=function(){var S=this;function O(g,B){for(var U=1<<B-1>>>0;g&U;)U>>>=1;return U?(g&U-1)+U:g}function H(g,B,U,K,Z){e(!(K%U));do g[B+(K-=U)]=Z;while(0<K)}function j(g,B,U,K,Z){if(e(2328>=Z),512>=Z)var se=s(512);else if((se=s(Z))==null)return 0;return function(ae,de,pe,ge,Ee,Re){var Oe,Te,qe=de,He=1<<pe,Se=s(16),Ne=s(16);for(e(Ee!=0),e(ge!=null),e(ae!=null),e(0<pe),Te=0;Te<Ee;++Te){if(15<ge[Te])return 0;++Se[ge[Te]]}if(Se[0]==Ee)return 0;for(Ne[1]=0,Oe=1;15>Oe;++Oe){if(Se[Oe]>1<<Oe)return 0;Ne[Oe+1]=Ne[Oe]+Se[Oe]}for(Te=0;Te<Ee;++Te)Oe=ge[Te],0<ge[Te]&&(Re[Ne[Oe]++]=Te);if(Ne[15]==1)return(ge=new T).g=0,ge.value=Re[0],H(ae,qe,1,He,ge),He;var $e,tt=-1,Ge=He-1,xt=0,dt=1,Qt=1,ht=1<<pe;for(Te=0,Oe=1,Ee=2;Oe<=pe;++Oe,Ee<<=1){if(dt+=Qt<<=1,0>(Qt-=Se[Oe]))return 0;for(;0<Se[Oe];--Se[Oe])(ge=new T).g=Oe,ge.value=Re[Te++],H(ae,qe+xt,Ee,ht,ge),xt=O(xt,Oe)}for(Oe=pe+1,Ee=2;15>=Oe;++Oe,Ee<<=1){if(dt+=Qt<<=1,0>(Qt-=Se[Oe]))return 0;for(;0<Se[Oe];--Se[Oe]){if(ge=new T,(xt&Ge)!=tt){for(qe+=ht,$e=1<<(tt=Oe)-pe;15>tt&&!(0>=($e-=Se[tt]));)++tt,$e<<=1;He+=ht=1<<($e=tt-pe),ae[de+(tt=xt&Ge)].g=$e+pe,ae[de+tt].value=qe-de-tt}ge.g=Oe-pe,ge.value=Re[Te++],H(ae,qe+(xt>>pe),Ee,ht,ge),xt=O(xt,Oe)}}return dt!=2*Ne[15]-1?0:He}(g,B,U,K,Z,se)}function T(){this.value=this.g=0}function D(){this.value=this.g=0}function W(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Cr,D)}function oe(g,B,U,K){e(g!=null),e(B!=null),e(2147483648>K),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=B,g.pa=U,g.Jd=B,g.Yc=U+K,g.Zc=4<=K?U+K-4+1:U,ve(g)}function V(g,B){for(var U=0;0<B--;)U|=ne(g,128)<<B;return U}function q(g,B){var U=V(g,B);return fe(g)?-U:U}function z(g,B,U,K){var Z,se=0;for(e(g!=null),e(B!=null),e(4294967288>K),g.Sb=K,g.Ra=0,g.u=0,g.h=0,4<K&&(K=4),Z=0;Z<K;++Z)se+=B[U+Z]<<8*Z;g.Ra=se,g.bb=K,g.oa=B,g.pa=U}function ue(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Oa-8>>>0,++g.bb,g.u-=8;re(g)&&(g.h=1,g.u=0)}function ie(g,B){if(e(0<=B),!g.h&&B<=Fs){var U=J(g)&$A[B];return g.u+=B,ue(g),U}return g.h=1,g.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(g){return g.Ra>>>(g.u&Oa-1)>>>0}function re(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Oa}function ee(g,B){g.u=B,g.h=re(g)}function he(g){g.u>=wu&&(e(g.u>=wu),ue(g))}function ve(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function fe(g){return V(g,1)}function ne(g,B){var U=g.Ca;0>g.b&&ve(g);var K=g.b,Z=U*B>>>8,se=(g.I>>>K>Z)+0;for(se?(U-=Z,g.I-=Z+1<<K>>>0):U=Z+1,K=U,Z=0;256<=K;)Z+=8,K>>=8;return K=7^Z+_i[K],g.b-=K,g.Ca=(U<<K)-1,se}function te(g,B,U){g[B+0]=U>>24&255,g[B+1]=U>>16&255,g[B+2]=U>>8&255,g[B+3]=U>>0&255}function Ae(g,B){return g[B+0]<<0|g[B+1]<<8}function xe(g,B){return Ae(g,B)|g[B+2]<<16}function ye(g,B){return Ae(g,B)|Ae(g,B+2)<<16}function Fe(g,B){var U=1<<B;return e(g!=null),e(0<B),g.X=s(U),g.X==null?0:(g.Mb=32-B,g.Xa=B,1)}function Ce(g,B){e(g!=null),e(B!=null),e(g.Xa==B.Xa),r(B.X,0,g.X,0,1<<B.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function Ye(g,B,U,K){e(U!=null),e(K!=null);var Z=U[0],se=K[0];return Z==0&&(Z=(g*se+B/2)/B),se==0&&(se=(B*Z+g/2)/g),0>=Z||0>=se?0:(U[0]=Z,K[0]=se,1)}function We(g,B){return g+(1<<B)-1>>>B}function Qe(g,B){return((4278255360&g)+(4278255360&B)>>>0&4278255360)+((16711935&g)+(16711935&B)>>>0&16711935)>>>0}function Ve(g,B){S[B]=function(U,K,Z,se,ae,de,pe){var ge;for(ge=0;ge<ae;++ge){var Ee=S[g](de[pe+ge-1],Z,se+ge);de[pe+ge]=Qe(U[K+ge],Ee)}}}function ze(){this.ud=this.hd=this.jd=0}function Je(g,B){return((4278124286&(g^B))>>>1)+(g&B)>>>0}function ft(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Nt(g,B){return ft(g+(g-B+.5>>1))}function It(g,B,U){return Math.abs(B-U)-Math.abs(g-U)}function Ut(g,B,U,K,Z,se,ae){for(K=se[ae-1],U=0;U<Z;++U)se[ae+U]=K=Qe(g[B+U],K)}function Ft(g,B,U,K,Z){var se;for(se=0;se<U;++se){var ae=g[B+se],de=ae>>8&255,pe=16711935&(pe=(pe=16711935&ae)+((de<<16)+de));K[Z+se]=(4278255360&ae)+pe>>>0}}function Bt(g,B){B.jd=g>>0&255,B.hd=g>>8&255,B.ud=g>>16&255}function Pt(g,B,U,K,Z,se){var ae;for(ae=0;ae<K;++ae){var de=B[U+ae],pe=de>>>8,ge=de,Ee=255&(Ee=(Ee=de>>>16)+((g.jd<<24>>24)*(pe<<24>>24)>>>5));ge=255&(ge=(ge=ge+((g.hd<<24>>24)*(pe<<24>>24)>>>5))+((g.ud<<24>>24)*(Ee<<24>>24)>>>5)),Z[se+ae]=(4278255360&de)+(Ee<<16)+ge}}function Le(g,B,U,K,Z){S[B]=function(se,ae,de,pe,ge,Ee,Re,Oe,Te){for(pe=Re;pe<Oe;++pe)for(Re=0;Re<Te;++Re)ge[Ee++]=Z(de[K(se[ae++])])},S[g]=function(se,ae,de,pe,ge,Ee,Re){var Oe=8>>se.b,Te=se.Ea,qe=se.K[0],He=se.w;if(8>Oe)for(se=(1<<se.b)-1,He=(1<<Oe)-1;ae<de;++ae){var Se,Ne=0;for(Se=0;Se<Te;++Se)Se&se||(Ne=K(pe[ge++])),Ee[Re++]=Z(qe[Ne&He]),Ne>>=Oe}else S["VP8LMapColor"+U](pe,ge,qe,He,Ee,Re,ae,de,Te)}}function je(g,B,U,K,Z){for(U=B+U;B<U;){var se=g[B++];K[Z++]=se>>16&255,K[Z++]=se>>8&255,K[Z++]=se>>0&255}}function nt(g,B,U,K,Z){for(U=B+U;B<U;){var se=g[B++];K[Z++]=se>>16&255,K[Z++]=se>>8&255,K[Z++]=se>>0&255,K[Z++]=se>>24&255}}function it(g,B,U,K,Z){for(U=B+U;B<U;){var se=(ae=g[B++])>>16&240|ae>>12&15,ae=ae>>0&240|ae>>28&15;K[Z++]=se,K[Z++]=ae}}function St(g,B,U,K,Z){for(U=B+U;B<U;){var se=(ae=g[B++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;K[Z++]=se,K[Z++]=ae}}function pt(g,B,U,K,Z){for(U=B+U;B<U;){var se=g[B++];K[Z++]=se>>0&255,K[Z++]=se>>8&255,K[Z++]=se>>16&255}}function Ht(g,B,U,K,Z,se){if(se==0)for(U=B+U;B<U;)te(K,((se=g[B++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),Z+=32;else r(K,Z,g,B,U)}function kn(g,B){S[B][0]=S[g+"0"],S[B][1]=S[g+"1"],S[B][2]=S[g+"2"],S[B][3]=S[g+"3"],S[B][4]=S[g+"4"],S[B][5]=S[g+"5"],S[B][6]=S[g+"6"],S[B][7]=S[g+"7"],S[B][8]=S[g+"8"],S[B][9]=S[g+"9"],S[B][10]=S[g+"10"],S[B][11]=S[g+"11"],S[B][12]=S[g+"12"],S[B][13]=S[g+"13"],S[B][14]=S[g+"0"],S[B][15]=S[g+"0"]}function nn(g){return g==jd||g==Ud||g==kd||g==A}function Wr(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wr,this.f.kb=new pn,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function At(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ot(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function vt(g,B){var U=g.T,K=B.ba.f.RGBA,Z=K.eb,se=K.fb+g.ka*K.A,ae=Vi[B.ba.S],de=g.y,pe=g.O,ge=g.f,Ee=g.N,Re=g.ea,Oe=g.W,Te=B.cc,qe=B.dc,He=B.Mc,Se=B.Nc,Ne=g.ka,$e=g.ka+g.T,tt=g.U,Ge=tt+1>>1;for(Ne==0?ae(de,pe,null,null,ge,Ee,Re,Oe,ge,Ee,Re,Oe,Z,se,null,null,tt):(ae(B.ec,B.fc,de,pe,Te,qe,He,Se,ge,Ee,Re,Oe,Z,se-K.A,Z,se,tt),++U);Ne+2<$e;Ne+=2)Te=ge,qe=Ee,He=Re,Se=Oe,Ee+=g.Rc,Oe+=g.Rc,se+=2*K.A,ae(de,(pe+=2*g.fa)-g.fa,de,pe,Te,qe,He,Se,ge,Ee,Re,Oe,Z,se-K.A,Z,se,tt);return pe+=g.fa,g.j+$e<g.o?(r(B.ec,B.fc,de,pe,tt),r(B.cc,B.dc,ge,Ee,Ge),r(B.Mc,B.Nc,Re,Oe,Ge),U--):1&$e||ae(de,pe,null,null,ge,Ee,Re,Oe,ge,Ee,Re,Oe,Z,se+K.A,null,null,tt),U}function on(g,B,U){var K=g.F,Z=[g.J];if(K!=null){var se=g.U,ae=B.ba.S,de=ae==Cu||ae==kd;B=B.ba.f.RGBA;var pe=[0],ge=g.ka;pe[0]=g.T,g.Kb&&(ge==0?--pe[0]:(--ge,Z[0]-=g.width),g.j+g.ka+g.T==g.o&&(pe[0]=g.o-g.j-ge));var Ee=B.eb;ge=B.fb+ge*B.A,g=Dn(K,Z[0],g.width,se,pe,Ee,ge+(de?0:3),B.A),e(U==pe),g&&nn(ae)&&hi(Ee,ge,de,se,pe,B.A)}return 0}function An(g){var B=g.ma,U=B.ba.S,K=11>U,Z=U==_u||U==Bu||U==Cu||U==Ld||U==12||nn(U);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!ka(B.Oa,g,Z?11:12))return 0;if(Z&&nn(U)&&et(),g.da)alert("todo:use_scaling");else{if(K){if(B.Ib=ot,g.Kb){if(U=g.U+1>>1,B.memory=s(g.U+2*U),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+g.U,B.Mc=B.cc,B.Nc=B.dc+U,B.Ib=vt,et()}}else alert("todo:EmitYUV");Z&&(B.Jb=on,K&&Pe())}if(K&&!GE){for(g=0;256>g;++g)dD[g]=89858*(g-128)+Bg>>_g,pD[g]=-22014*(g-128)+Bg,fD[g]=-45773*(g-128),hD[g]=113618*(g-128)+Bg>>_g;for(g=Nf;g<Bw;++g)B=76283*(g-16)+Bg>>_g,mD[g-Nf]=Lt(B,255),gD[g-Nf]=Lt(B+8>>4,15);GE=1}return 1}function ai(g){var B=g.ma,U=g.U,K=g.T;return e(!(1&g.ka)),0>=U||0>=K?0:(U=B.Ib(g,B),B.Jb!=null&&B.Jb(g,B,U),B.Dc+=U,1)}function br(g){g.ma.memory=null}function Tt(g,B,U,K){return ie(g,8)!=47?0:(B[0]=ie(g,14)+1,U[0]=ie(g,14)+1,K[0]=ie(g,1),ie(g,3)!=0?0:!g.h)}function Rn(g,B){if(4>g)return g+1;var U=g-2>>1;return(2+(1&g)<<U)+ie(B,U)+1}function Bs(g,B){return 120<B?B-120:1<=(U=((U=_e[B-1])>>4)*g+(8-(15&U)))?U:1;var U}function _r(g,B,U){var K=J(U),Z=g[B+=255&K].g-8;return 0<Z&&(ee(U,U.u+8),K=J(U),B+=g[B].value,B+=K&(1<<Z)-1),ee(U,U.u+g[B].g),g[B].value}function mn(g,B,U){return U.g+=g.g,U.value+=g.value<<B>>>0,e(8>=U.g),g.g}function ut(g,B,U){var K=g.xc;return e((B=K==0?0:g.vc[g.md*(U>>K)+(B>>K)])<g.Wb),g.Ya[B]}function yi(g,B,U,K){var Z=g.ab,se=g.c*B,ae=g.C;B=ae+B;var de=U,pe=K;for(K=g.Ta,U=g.Ua;0<Z--;){var ge=g.gc[Z],Ee=ae,Re=B,Oe=de,Te=pe,qe=(pe=K,de=U,ge.Ea);switch(e(Ee<Re),e(Re<=ge.nc),ge.hc){case 2:Td(Oe,Te,(Re-Ee)*qe,pe,de);break;case 0:var He=Ee,Se=Re,Ne=pe,$e=de,tt=(ht=ge).Ea;He==0&&(Cf(Oe,Te,null,null,1,Ne,$e),Ut(Oe,Te+1,0,0,tt-1,Ne,$e+1),Te+=tt,$e+=tt,++He);for(var Ge=1<<ht.b,xt=Ge-1,dt=We(tt,ht.b),Qt=ht.K,ht=ht.w+(He>>ht.b)*dt;He<Se;){var Fn=Qt,Hn=ht,En=1;for(Ps(Oe,Te,Ne,$e-tt,1,Ne,$e);En<tt;){var vn=(En&~xt)+Ge;vn>tt&&(vn=tt),(0,Da[Fn[Hn++]>>8&15])(Oe,Te+ +En,Ne,$e+En-tt,vn-En,Ne,$e+En),En=vn}Te+=tt,$e+=tt,++He&xt||(ht+=dt)}Re!=ge.nc&&r(pe,de-qe,pe,de+(Re-Ee-1)*qe,qe);break;case 1:for(qe=Oe,Se=Te,tt=(Oe=ge.Ea)-($e=Oe&~(Ne=(Te=1<<ge.b)-1)),He=We(Oe,ge.b),Ge=ge.K,ge=ge.w+(Ee>>ge.b)*He;Ee<Re;){for(xt=Ge,dt=ge,Qt=new ze,ht=Se+$e,Fn=Se+Oe;Se<ht;)Bt(xt[dt++],Qt),Qa(Qt,qe,Se,Te,pe,de),Se+=Te,de+=Te;Se<Fn&&(Bt(xt[dt++],Qt),Qa(Qt,qe,Se,tt,pe,de),Se+=tt,de+=tt),++Ee&Ne||(ge+=He)}break;case 3:if(Oe==pe&&Te==de&&0<ge.b){for(Se=pe,Oe=qe=de+(Re-Ee)*qe-($e=(Re-Ee)*We(ge.Ea,ge.b)),Te=pe,Ne=de,He=[],$e=(tt=$e)-1;0<=$e;--$e)He[$e]=Te[Ne+$e];for($e=tt-1;0<=$e;--$e)Se[Oe+$e]=He[$e];ci(ge,Ee,Re,pe,qe,pe,de)}else ci(ge,Ee,Re,Oe,Te,pe,de)}de=K,pe=U}pe!=U&&r(K,U,de,pe,se)}function ts(g,B){var U=g.V,K=g.Ba+g.c*g.C,Z=B-g.C;if(e(B<=g.l.o),e(16>=Z),0<Z){var se=g.l,ae=g.Ta,de=g.Ua,pe=se.width;if(yi(g,Z,U,K),Z=de=[de],e((U=g.C)<(K=B)),e(se.v<se.va),K>se.o&&(K=se.o),U<se.j){var ge=se.j-U;U=se.j,Z[0]+=ge*pe}if(U>=K?U=0:(Z[0]+=4*se.v,se.ka=U-se.j,se.U=se.va-se.v,se.T=K-U,U=1),U){if(de=de[0],11>(U=g.ca).S){var Ee=U.f.RGBA,Re=(K=U.S,Z=se.U,se=se.T,ge=Ee.eb,Ee.A),Oe=se;for(Ee=Ee.fb+g.Ma*Ee.A;0<Oe--;){var Te=ae,qe=de,He=Z,Se=ge,Ne=Ee;switch(K){case Pd:ui(Te,qe,He,Se,Ne);break;case _u:di(Te,qe,He,Se,Ne);break;case jd:di(Te,qe,He,Se,Ne),hi(Se,Ne,0,He,1,0);break;case Ef:Ys(Te,qe,He,Se,Ne);break;case Bu:Ht(Te,qe,He,Se,Ne,1);break;case Ud:Ht(Te,qe,He,Se,Ne,1),hi(Se,Ne,0,He,1,0);break;case Cu:Ht(Te,qe,He,Se,Ne,0);break;case kd:Ht(Te,qe,He,Se,Ne,0),hi(Se,Ne,1,He,1,0);break;case Ld:Fo(Te,qe,He,Se,Ne);break;case A:Fo(Te,qe,He,Se,Ne),On(Se,Ne,He,1,0);break;case wg:ss(Te,qe,He,Se,Ne);break;default:e(0)}de+=pe,Ee+=Re}g.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=U.height)}}g.C=B,e(g.C<=g.i)}function zs(g){var B;if(0<g.ua)return 0;for(B=0;B<g.Wb;++B){var U=g.Ya[B].G,K=g.Ya[B].H;if(0<U[1][K[1]+0].g||0<U[2][K[2]+0].g||0<U[3][K[3]+0].g)return 0}return 1}function ns(g,B,U,K,Z,se){if(g.Z!=0){var ae=g.qd,de=g.rd;for(e(Mn[g.Z]!=null);B<U;++B)Mn[g.Z](ae,de,K,Z,K,Z,se),ae=K,de=Z,Z+=se;g.qd=ae,g.rd=de}}function qr(g,B){var U=g.l.ma,K=U.Z==0||U.Z==1?g.l.j:g.C;if(K=g.C<K?K:g.C,e(B<=g.l.o),B>K){var Z=g.l.width,se=U.ca,ae=U.tb+Z*K,de=g.V,pe=g.Ba+g.c*K,ge=g.gc;e(g.ab==1),e(ge[0].hc==3),Js(ge[0],K,B,de,pe,se,ae),ns(U,K,B,se,ae,Z)}g.C=g.Ma=B}function ji(g,B,U,K,Z,se,ae){var de=g.$/K,pe=g.$%K,ge=g.m,Ee=g.s,Re=U+g.$,Oe=Re;Z=U+K*Z;var Te=U+K*se,qe=280+Ee.ua,He=g.Pb?de:16777216,Se=0<Ee.ua?Ee.Wa:null,Ne=Ee.wc,$e=Re<Te?ut(Ee,pe,de):null;e(g.C<se),e(Te<=Z);var tt=!1;e:for(;;){for(;tt||Re<Te;){var Ge=0;if(de>=He){var xt=Re-U;e((He=g).Pb),He.wd=He.m,He.xd=xt,0<He.s.ua&&Ce(He.s.Wa,He.s.vb),He=de+Me}if(pe&Ne||($e=ut(Ee,pe,de)),e($e!=null),$e.Qb&&(B[Re]=$e.qb,tt=!0),!tt)if(he(ge),$e.jc){Ge=ge,xt=B;var dt=Re,Qt=$e.pd[J(Ge)&Cr-1];e($e.jc),256>Qt.g?(ee(Ge,Ge.u+Qt.g),xt[dt]=Qt.value,Ge=0):(ee(Ge,Ge.u+Qt.g-256),e(256<=Qt.value),Ge=Qt.value),Ge==0&&(tt=!0)}else Ge=_r($e.G[0],$e.H[0],ge);if(ge.h)break;if(tt||256>Ge){if(!tt)if($e.nd)B[Re]=($e.qb|Ge<<8)>>>0;else{if(he(ge),tt=_r($e.G[1],$e.H[1],ge),he(ge),xt=_r($e.G[2],$e.H[2],ge),dt=_r($e.G[3],$e.H[3],ge),ge.h)break;B[Re]=(dt<<24|tt<<16|Ge<<8|xt)>>>0}if(tt=!1,++Re,++pe>=K&&(pe=0,++de,ae!=null&&de<=se&&!(de%16)&&ae(g,de),Se!=null))for(;Oe<Re;)Ge=B[Oe++],Se.X[(506832829*Ge&4294967295)>>>Se.Mb]=Ge}else if(280>Ge){if(Ge=Rn(Ge-256,ge),xt=_r($e.G[4],$e.H[4],ge),he(ge),xt=Bs(K,xt=Rn(xt,ge)),ge.h)break;if(Re-U<xt||Z-Re<Ge)break e;for(dt=0;dt<Ge;++dt)B[Re+dt]=B[Re+dt-xt];for(Re+=Ge,pe+=Ge;pe>=K;)pe-=K,++de,ae!=null&&de<=se&&!(de%16)&&ae(g,de);if(e(Re<=Z),pe&Ne&&($e=ut(Ee,pe,de)),Se!=null)for(;Oe<Re;)Ge=B[Oe++],Se.X[(506832829*Ge&4294967295)>>>Se.Mb]=Ge}else{if(!(Ge<qe))break e;for(tt=Ge-280,e(Se!=null);Oe<Re;)Ge=B[Oe++],Se.X[(506832829*Ge&4294967295)>>>Se.Mb]=Ge;Ge=Re,e(!(tt>>>(xt=Se).Xa)),B[Ge]=xt.X[tt],tt=!0}tt||e(ge.h==re(ge))}if(g.Pb&&ge.h&&Re<Z)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ce(g.s.vb,g.s.Wa);else{if(ge.h)break e;ae!=null&&ae(g,de>se?se:de),g.a=0,g.$=Re-U}return 1}return g.a=3,0}function jr(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var B=g.Wa;B!=null&&(B.X=null),g.vb=null,e(g!=null)}function Jr(){var g=new La;return g==null?null:(g.a=0,g.xb=Sf,kn("Predictor","VP8LPredictors"),kn("Predictor","VP8LPredictors_C"),kn("PredictorAdd","VP8LPredictorsAdd"),kn("PredictorAdd","VP8LPredictorsAdd_C"),Td=Ft,Qa=Pt,ui=je,di=nt,Fo=it,ss=St,Ys=pt,S.VP8LMapColor32b=GA,S.VP8LMapColor8b=lA,g)}function Ur(g,B,U,K,Z){var se=1,ae=[g],de=[B],pe=K.m,ge=K.s,Ee=null,Re=0;e:for(;;){if(U)for(;se&&ie(pe,1);){var Oe=ae,Te=de,qe=K,He=1,Se=qe.m,Ne=qe.gc[qe.ab],$e=ie(Se,2);if(qe.Oc&1<<$e)se=0;else{switch(qe.Oc|=1<<$e,Ne.hc=$e,Ne.Ea=Oe[0],Ne.nc=Te[0],Ne.K=[null],++qe.ab,e(4>=qe.ab),$e){case 0:case 1:Ne.b=ie(Se,3)+2,He=Ur(We(Ne.Ea,Ne.b),We(Ne.nc,Ne.b),0,qe,Ne.K),Ne.K=Ne.K[0];break;case 3:var tt,Ge=ie(Se,8)+1,xt=16<Ge?0:4<Ge?1:2<Ge?2:3;if(Oe[0]=We(Ne.Ea,xt),Ne.b=xt,tt=He=Ur(Ge,1,0,qe,Ne.K)){var dt,Qt=Ge,ht=Ne,Fn=1<<(8>>ht.b),Hn=s(Fn);if(Hn==null)tt=0;else{var En=ht.K[0],vn=ht.w;for(Hn[0]=ht.K[0][0],dt=1;dt<1*Qt;++dt)Hn[dt]=Qe(En[vn+dt],Hn[dt-1]);for(;dt<4*Fn;++dt)Hn[dt]=0;ht.K[0]=null,ht.K[0]=Hn,tt=1}}He=tt;break;case 2:break;default:e(0)}se=He}}if(ae=ae[0],de=de[0],se&&ie(pe,1)&&!(se=1<=(Re=ie(pe,4))&&11>=Re)){K.a=3;break e}var Xn;if(Xn=se)t:{var Gn,sn,Yr,eo=K,Xr=ae,to=de,Vn=Re,Lo=U,jo=eo.m,Ci=eo.s,Ki=[null],Us=1,aa=0,Bl=Ue[Vn];n:for(;;){if(Lo&&ie(jo,1)){var Ei=ie(jo,3)+2,AA=We(Xr,Ei),Eu=We(to,Ei),Od=AA*Eu;if(!Ur(AA,Eu,0,eo,Ki))break n;for(Ki=Ki[0],Ci.xc=Ei,Gn=0;Gn<Od;++Gn){var ZA=Ki[Gn]>>8&65535;Ki[Gn]=ZA,ZA>=Us&&(Us=ZA+1)}}if(jo.h)break n;for(sn=0;5>sn;++sn){var Er=P[sn];!sn&&0<Vn&&(Er+=1<<Vn),aa<Er&&(aa=Er)}var Cw=o(Us*Bl,T),JE=Us,YE=o(JE,W);if(YE==null)var Eg=null;else e(65536>=JE),Eg=YE;var Tf=s(aa);if(Eg==null||Tf==null||Cw==null){eo.a=1;break n}var Sg=Cw;for(Gn=Yr=0;Gn<Us;++Gn){var Ha=Eg[Gn],Dd=Ha.G,Qd=Ha.H,XE=0,Ig=1,ZE=0;for(sn=0;5>sn;++sn){Er=P[sn],Dd[sn]=Sg,Qd[sn]=Yr,!sn&&0<Vn&&(Er+=1<<Vn);i:{var Ng,Ew=Er,Tg=eo,Ff=Tf,wD=Sg,xD=Yr,Sw=0,ec=Tg.m,bD=ie(ec,1);if(i(Ff,0,0,Ew),bD){var _D=ie(ec,1)+1,BD=ie(ec,1),e5=ie(ec,BD==0?1:8);Ff[e5]=1,_D==2&&(Ff[e5=ie(ec,8)]=1);var Fg=1}else{var t5=s(19),n5=ie(ec,4)+4;if(19<n5){Tg.a=3;var Pg=0;break i}for(Ng=0;Ng<n5;++Ng)t5[le[Ng]]=ie(ec,3);var Iw=void 0,Pf=void 0,r5=Tg,CD=t5,Lg=Ew,i5=Ff,Nw=0,tc=r5.m,s5=8,o5=o(128,T);r:for(;j(o5,0,7,CD,19);){if(ie(tc,1)){var ED=2+2*ie(tc,3);if((Iw=2+ie(tc,ED))>Lg)break r}else Iw=Lg;for(Pf=0;Pf<Lg&&Iw--;){he(tc);var a5=o5[0+(127&J(tc))];ee(tc,tc.u+a5.g);var Md=a5.value;if(16>Md)i5[Pf++]=Md,Md!=0&&(s5=Md);else{var SD=Md==16,l5=Md-16,ID=x[l5],A5=ie(tc,f[l5])+ID;if(Pf+A5>Lg)break r;for(var ND=SD?s5:0;0<A5--;)i5[Pf++]=ND}}Nw=1;break r}Nw||(r5.a=3),Fg=Nw}(Fg=Fg&&!ec.h)&&(Sw=j(wD,xD,8,Ff,Ew)),Fg&&Sw!=0?Pg=Sw:(Tg.a=3,Pg=0)}if(Pg==0)break n;if(Ig&&$[sn]==1&&(Ig=Sg[Yr].g==0),XE+=Sg[Yr].g,Yr+=Pg,3>=sn){var Lf,Tw=Tf[0];for(Lf=1;Lf<Er;++Lf)Tf[Lf]>Tw&&(Tw=Tf[Lf]);ZE+=Tw}}if(Ha.nd=Ig,Ha.Qb=0,Ig&&(Ha.qb=(Dd[3][Qd[3]+0].value<<24|Dd[1][Qd[1]+0].value<<16|Dd[2][Qd[2]+0].value)>>>0,XE==0&&256>Dd[0][Qd[0]+0].value&&(Ha.Qb=1,Ha.qb+=Dd[0][Qd[0]+0].value<<8)),Ha.jc=!Ha.Qb&&6>ZE,Ha.jc){var jg,cA=Ha;for(jg=0;jg<Cr;++jg){var nc=jg,rc=cA.pd[nc],Ug=cA.G[0][cA.H[0]+nc];256<=Ug.value?(rc.g=Ug.g+256,rc.value=Ug.value):(rc.g=0,rc.value=0,nc>>=mn(Ug,8,rc),nc>>=mn(cA.G[1][cA.H[1]+nc],16,rc),nc>>=mn(cA.G[2][cA.H[2]+nc],0,rc),mn(cA.G[3][cA.H[3]+nc],24,rc))}}}Ci.vc=Ki,Ci.Wb=Us,Ci.Ya=Eg,Ci.yc=Cw,Xn=1;break t}Xn=0}if(!(se=Xn)){K.a=3;break e}if(0<Re){if(ge.ua=1<<Re,!Fe(ge.Wa,Re)){K.a=1,se=0;break e}}else ge.ua=0;var Fw=K,c5=ae,TD=de,Pw=Fw.s,Lw=Pw.xc;if(Fw.c=c5,Fw.i=TD,Pw.md=We(c5,Lw),Pw.wc=Lw==0?-1:(1<<Lw)-1,U){K.xb=xw;break e}if((Ee=s(ae*de))==null){K.a=1,se=0;break e}se=(se=ji(K,Ee,0,ae,de,de,null))&&!pe.h;break e}return se?(Z!=null?Z[0]=Ee:(e(Ee==null),e(U)),K.$=0,U||jr(ge)):jr(ge),se}function Wo(g,B){var U=g.c*g.i,K=U+B+16*B;return e(g.c<=B),g.V=s(K),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+U+B,1)}function _a(g,B){var U=g.C,K=B-U,Z=g.V,se=g.Ba+g.c*U;for(e(B<=g.l.o);0<K;){var ae=16<K?16:K,de=g.l.ma,pe=g.l.width,ge=pe*ae,Ee=de.ca,Re=de.tb+pe*U,Oe=g.Ta,Te=g.Ua;yi(g,ae,Z,se),gr(Oe,Te,Ee,Re,ge),ns(de,U,U+ae,Ee,Re,pe),K-=ae,Z+=ae*g.c,U+=ae}e(U==B),g.C=g.Ma=B}function qo(){this.ub=this.yd=this.td=this.Rb=0}function go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ba(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Jo(){this.Yb=function(){var g=[];return function B(U,K,Z){for(var se=Z[K],ae=0;ae<se&&(U.push(Z.length>K+1?[]:0),!(Z.length<K+1));ae++)B(U[ae],K+1,Z)}(g,0,[3,11]),g}()}function yu(){this.jb=s(3),this.Wc=l([4,8],Jo),this.Xc=l([4,17],Jo)}function cl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ca(){this.ld=this.La=this.dd=this.tc=0}function ul(){this.Na=this.la=0}function Ea(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ui(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ca),this.Y=0,this.ya=Array(new Ui),this.aa=0,this.l=new Cs}function eA(){this.y=s(16),this.f=s(8),this.ea=s(8)}function tA(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new qo,this.Kc=new go,this.ed=new cl,this.Qa=new Ba,this.Ic=this.$c=this.Aa=0,this.D=new vo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,be),this.ia=0,this.pb=o(4,Ea),this.Pa=new yu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new eA),this.Hd=0,this.rb=Array(new ul),this.sb=0,this.wa=Array(new Ca),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ui),this.L=this.aa=0,this.gd=l([4,2],Ca),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cn(){var g=new tA;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,kt||(kt=Gs)),g}function $t(g,B,U){return g.a==0&&(g.a=B,g.sc=U,g.cb=0),0}function yo(g,B,U){return 3<=U&&g[B+0]==157&&g[B+1]==1&&g[B+2]==42}function $s(g,B){if(g==null)return 0;if(g.a=0,g.sc="OK",B==null)return $t(g,2,"null VP8Io passed to VP8GetHeaders()");var U=B.data,K=B.w,Z=B.ha;if(4>Z)return $t(g,7,"Truncated header.");var se=U[K+0]|U[K+1]<<8|U[K+2]<<16,ae=g.Od;if(ae.Rb=!(1&se),ae.td=se>>1&7,ae.yd=se>>4&1,ae.ub=se>>5,3<ae.td)return $t(g,3,"Incorrect keyframe parameters.");if(!ae.yd)return $t(g,4,"Frame not displayable.");K+=3,Z-=3;var de=g.Kc;if(ae.Rb){if(7>Z)return $t(g,7,"cannot parse picture header");if(!yo(U,K,Z))return $t(g,3,"Bad code word");de.c=16383&(U[K+4]<<8|U[K+3]),de.Td=U[K+4]>>6,de.i=16383&(U[K+6]<<8|U[K+5]),de.Ud=U[K+6]>>6,K+=7,Z-=7,g.za=de.c+15>>4,g.Ub=de.i+15>>4,B.width=de.c,B.height=de.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,i((se=g.Pa).jb,0,255,se.jb.length),e((se=g.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(ae.ub>Z)return $t(g,7,"bad partition length");oe(se=g.m,U,K,ae.ub),K+=ae.ub,Z-=ae.ub,ae.Rb&&(de.Ld=fe(se),de.Kd=fe(se)),de=g.Qa;var pe,ge=g.Pa;if(e(se!=null),e(de!=null),de.Cb=fe(se),de.Cb){if(de.Bb=fe(se),fe(se)){for(de.Fb=fe(se),pe=0;4>pe;++pe)de.Zb[pe]=fe(se)?q(se,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=fe(se)?q(se,6):0}if(de.Bb)for(pe=0;3>pe;++pe)ge.jb[pe]=fe(se)?V(se,8):255}else de.Bb=0;if(se.Ka)return $t(g,3,"cannot parse segment header");if((de=g.ed).zd=fe(se),de.Tb=V(se,6),de.wb=V(se,3),de.Pc=fe(se),de.Pc&&fe(se)){for(ge=0;4>ge;++ge)fe(se)&&(de.vd[ge]=q(se,6));for(ge=0;4>ge;++ge)fe(se)&&(de.od[ge]=q(se,6))}if(g.L=de.Tb==0?0:de.zd?1:2,se.Ka)return $t(g,3,"cannot parse filter header");var Ee=Z;if(Z=pe=K,K=pe+Ee,de=Ee,g.Xb=(1<<V(g.m,2))-1,Ee<3*(ge=g.Xb))U=7;else{for(pe+=3*ge,de-=3*ge,Ee=0;Ee<ge;++Ee){var Re=U[Z+0]|U[Z+1]<<8|U[Z+2]<<16;Re>de&&(Re=de),oe(g.Jc[+Ee],U,pe,Re),pe+=Re,de-=Re,Z+=3}oe(g.Jc[+ge],U,pe,de),U=pe<K?0:5}if(U!=0)return $t(g,U,"cannot parse partitions");for(U=V(pe=g.m,7),Z=fe(pe)?q(pe,4):0,K=fe(pe)?q(pe,4):0,de=fe(pe)?q(pe,4):0,ge=fe(pe)?q(pe,4):0,pe=fe(pe)?q(pe,4):0,Ee=g.Qa,Re=0;4>Re;++Re){if(Ee.Cb){var Oe=Ee.Zb[Re];Ee.Fb||(Oe+=U)}else{if(0<Re){g.pb[Re]=g.pb[0];continue}Oe=U}var Te=g.pb[Re];Te.Sc[0]=Ze[Lt(Oe+Z,127)],Te.Sc[1]=yt[Lt(Oe+0,127)],Te.Eb[0]=2*Ze[Lt(Oe+K,127)],Te.Eb[1]=101581*yt[Lt(Oe+de,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=Ze[Lt(Oe+ge,117)],Te.Qc[1]=yt[Lt(Oe+pe,127)],Te.lc=Oe+pe}if(!ae.Rb)return $t(g,4,"Not a key frame.");for(fe(se),ae=g.Pa,U=0;4>U;++U){for(Z=0;8>Z;++Z)for(K=0;3>K;++K)for(de=0;11>de;++de)ge=ne(se,XA[U][Z][K][de])?V(se,8):Zs[U][Z][K][de],ae.Wc[U][Z].Yb[K][de]=ge;for(Z=0;17>Z;++Z)ae.Xc[U][Z]=ae.Wc[U][ww[Z]]}return g.kc=fe(se),g.kc&&(g.Bd=V(se,8)),g.cb=1}function Gs(g,B,U,K,Z,se,ae){var de=B[Z].Yb[U];for(U=0;16>Z;++Z){if(!ne(g,de[U+0]))return Z;for(;!ne(g,de[U+1]);)if(de=B[++Z].Yb[0],U=0,Z==16)return 16;var pe=B[Z+1].Yb;if(ne(g,de[U+2])){var ge=g,Ee=0;if(ne(ge,(Oe=de)[(Re=U)+3]))if(ne(ge,Oe[Re+6])){for(de=0,Re=2*(Ee=ne(ge,Oe[Re+8]))+(Oe=ne(ge,Oe[Re+9+Ee])),Ee=0,Oe=an[Re];Oe[de];++de)Ee+=Ee+ne(ge,Oe[de]);Ee+=3+(8<<Re)}else ne(ge,Oe[Re+7])?(Ee=7+2*ne(ge,165),Ee+=ne(ge,145)):Ee=5+ne(ge,159);else Ee=ne(ge,Oe[Re+4])?3+ne(ge,Oe[Re+5]):2;de=pe[2]}else Ee=1,de=pe[1];pe=ae+Hi[Z],0>(ge=g).b&&ve(ge);var Re,Oe=ge.b,Te=(Re=ge.Ca>>1)-(ge.I>>Oe)>>31;--ge.b,ge.Ca+=Te,ge.Ca|=1,ge.I-=(Re+1&Te)<<Oe,se[pe]=((Ee^Te)-Te)*K[(0<Z)+0]}return 16}function Sa(g){var B=g.rb[g.sb-1];B.la=0,B.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Yt(g,B){if(g==null)return 0;if(B==null)return $t(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!$s(g,B))return 0;if(e(g.cb),B.ac==null||B.ac(B)){B.ob&&(g.L=0);var U=Cg[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=B.v-U>>4,g.zb=B.j-U>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=B.o+15+U>>4,g.Hb=B.va+15+U>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var K=g.ed;for(U=0;4>U;++U){var Z;if(g.Qa.Cb){var se=g.Qa.Lb[U];g.Qa.Fb||(se+=K.Tb)}else se=K.Tb;for(Z=0;1>=Z;++Z){var ae=g.gd[U][Z],de=se;if(K.Pc&&(de+=K.vd[0],Z&&(de+=K.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<K.wb&&(pe=4<K.wb?pe>>2:pe>>1)>9-K.wb&&(pe=9-K.wb),1>pe&&(pe=1),ae.dd=pe,ae.tc=2*de+pe,ae.ld=40<=de?2:15<=de?1:0}else ae.tc=0;ae.La=Z}}}U=0}else $t(g,6,"Frame setup failed"),U=g.a;if(U=U==0){if(U){g.$c=0,0<g.Aa||(g.Ic=yD);e:{U=g.Ic,K=4*(pe=g.za);var ge=32*pe,Ee=pe+1,Re=0<g.L?pe*(0<g.Aa?2:1):0,Oe=(g.Aa==2?2:1)*pe;if((ae=K+832+(Z=3*(16*U+Cg[g.L])/2*ge)+(se=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=ae)U=0;else{if(ae>g.Vb){if(g.Vb=0,g.Ec=s(ae),g.Fc=0,g.Ec==null){U=$t(g,1,"no memory during frame initialization.");break e}g.Vb=ae}ae=g.Ec,de=g.Fc,g.Ac=ae,g.Bc=de,de+=K,g.Gd=o(ge,eA),g.Hd=0,g.rb=o(Ee+1,ul),g.sb=1,g.wa=Re?o(Re,Ca):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=pe),e(!0),g.oc=ae,g.pc=de,de+=832,g.ya=o(Oe,Ui),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=pe),g.R=16*pe,g.B=8*pe,pe=(ge=Cg[g.L])*g.R,ge=ge/2*g.B,g.sa=ae,g.ta=de+pe,g.qa=g.sa,g.ra=g.ta+16*U*g.R+ge,g.Ha=g.qa,g.Ia=g.ra+8*U*g.B+ge,g.$c=0,de+=Z,g.mb=se?ae:null,g.nb=se?de:null,e(de+se<=g.Fc+g.Vb),Sa(g),i(g.Ac,g.Bc,0,K),U=1}}if(U){if(B.ka=0,B.y=g.sa,B.O=g.ta,B.f=g.qa,B.N=g.ra,B.ea=g.Ha,B.Vd=g.Ia,B.fa=g.R,B.Rc=g.B,B.F=null,B.J=0,!Fd){for(U=-255;255>=U;++U)Qn[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)ia[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)JA[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)sa[255+U]=0>U?0:255<U?255:U;Fd=1}gl=Ws,ta=xo,vl=ki,Mi=qn,Ls=hn,mr=rs,WA=So,xu=Io,bu=ml,Bi=ea,na=sA,yl=No,ra=xi,qA=oA,wl=iA,xl=Yn,Ma=wi,Xs=is,Po[0]=un,Po[1]=bo,Po[2]=Gt,Po[3]=Rr,Po[4]=nA,Po[5]=li,Po[6]=fl,Po[7]=Ta,Po[8]=Xo,Po[9]=Bo,_l[0]=hl,_l[1]=dl,_l[2]=Es,_l[3]=_o,_l[4]=Jn,_l[5]=Ss,_l[6]=Na,oa[0]=Oi,oa[1]=Ia,oa[2]=qs,oa[3]=tr,oa[4]=Co,oa[5]=rA,oa[6]=Nn,U=1}else U=0}U&&(U=function(Te,qe){for(Te.M=0;Te.M<Te.Va;++Te.M){var He,Se=Te.Jc[Te.M&Te.Xb],Ne=Te.m,$e=Te;for(He=0;He<$e.za;++He){var tt=Ne,Ge=$e,xt=Ge.Ac,dt=Ge.Bc+4*He,Qt=Ge.zc,ht=Ge.ya[Ge.aa+He];if(Ge.Qa.Bb?ht.$b=ne(tt,Ge.Pa.jb[0])?2+ne(tt,Ge.Pa.jb[2]):ne(tt,Ge.Pa.jb[1]):ht.$b=0,Ge.kc&&(ht.Ad=ne(tt,Ge.Bd)),ht.Za=!ne(tt,145)+0,ht.Za){var Fn=ht.Ob,Hn=0;for(Ge=0;4>Ge;++Ge){var En,vn=Qt[0+Ge];for(En=0;4>En;++En){vn=as[xt[dt+En]][vn];for(var Xn=Dr[ne(tt,vn[0])];0<Xn;)Xn=Dr[2*Xn+ne(tt,vn[Xn])];vn=-Xn,xt[dt+En]=vn}r(Fn,Hn,xt,dt,4),Hn+=4,Qt[0+Ge]=vn}}else vn=ne(tt,156)?ne(tt,128)?1:3:ne(tt,163)?2:0,ht.Ob[0]=vn,i(xt,dt,vn,4),i(Qt,0,vn,4);ht.Dd=ne(tt,142)?ne(tt,114)?ne(tt,183)?1:3:2:0}if($e.m.Ka)return $t(Te,7,"Premature end-of-partition0 encountered.");for(;Te.ja<Te.za;++Te.ja){if($e=Se,tt=(Ne=Te).rb[Ne.sb-1],xt=Ne.rb[Ne.sb+Ne.ja],He=Ne.ya[Ne.aa+Ne.ja],dt=Ne.kc?He.Ad:0)tt.la=xt.la=0,He.Za||(tt.Na=xt.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var Gn,sn;if(tt=xt,xt=$e,dt=Ne.Pa.Xc,Qt=Ne.ya[Ne.aa+Ne.ja],ht=Ne.pb[Qt.$b],Ge=Qt.ad,Fn=0,Hn=Ne.rb[Ne.sb-1],vn=En=0,i(Ge,Fn,0,384),Qt.Za)var Yr=0,eo=dt[3];else{Xn=s(16);var Xr=tt.Na+Hn.Na;if(Xr=kt(xt,dt[1],Xr,ht.Eb,0,Xn,0),tt.Na=Hn.Na=(0<Xr)+0,1<Xr)gl(Xn,0,Ge,Fn);else{var to=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)Ge[Fn+Xn]=to}Yr=1,eo=dt[0]}var Vn=15&tt.la,Lo=15&Hn.la;for(Xn=0;4>Xn;++Xn){var jo=1&Lo;for(to=sn=0;4>to;++to)Vn=Vn>>1|(jo=(Xr=kt(xt,eo,Xr=jo+(1&Vn),ht.Sc,Yr,Ge,Fn))>Yr)<<7,sn=sn<<2|(3<Xr?3:1<Xr?2:Ge[Fn+0]!=0),Fn+=16;Vn>>=4,Lo=Lo>>1|jo<<7,En=(En<<8|sn)>>>0}for(eo=Vn,Yr=Lo>>4,Gn=0;4>Gn;Gn+=2){for(sn=0,Vn=tt.la>>4+Gn,Lo=Hn.la>>4+Gn,Xn=0;2>Xn;++Xn){for(jo=1&Lo,to=0;2>to;++to)Xr=jo+(1&Vn),Vn=Vn>>1|(jo=0<(Xr=kt(xt,dt[2],Xr,ht.Qc,0,Ge,Fn)))<<3,sn=sn<<2|(3<Xr?3:1<Xr?2:Ge[Fn+0]!=0),Fn+=16;Vn>>=2,Lo=Lo>>1|jo<<5}vn|=sn<<4*Gn,eo|=Vn<<4<<Gn,Yr|=(240&Lo)<<Gn}tt.la=eo,Hn.la=Yr,Qt.Hc=En,Qt.Gc=vn,Qt.ia=43690&vn?0:ht.ia,dt=!(En|vn)}if(0<Ne.L&&(Ne.wa[Ne.Y+Ne.ja]=Ne.gd[He.$b][He.Za],Ne.wa[Ne.Y+Ne.ja].La|=!dt),$e.Ka)return $t(Te,7,"Premature end-of-file encountered.")}if(Sa(Te),Ne=qe,$e=1,He=(Se=Te).D,tt=0<Se.L&&Se.M>=Se.zb&&Se.M<=Se.Va,Se.Aa==0)e:{if(He.M=Se.M,He.uc=tt,Ai(Se,He),$e=1,He=(sn=Se.D).Nb,tt=(vn=Cg[Se.L])*Se.R,xt=vn/2*Se.B,Xn=16*He*Se.R,to=8*He*Se.B,dt=Se.sa,Qt=Se.ta-tt+Xn,ht=Se.qa,Ge=Se.ra-xt+to,Fn=Se.Ha,Hn=Se.Ia-xt+to,Lo=(Vn=sn.M)==0,En=Vn>=Se.Va-1,Se.Aa==2&&Ai(Se,sn),sn.uc)for(jo=(Xr=Se).D.M,e(Xr.D.uc),sn=Xr.yb;sn<Xr.Hb;++sn){Yr=sn,eo=jo;var Ci=(Ki=(Er=Xr).D).Nb;Gn=Er.R;var Ki=Ki.wa[Ki.Y+Yr],Us=Er.sa,aa=Er.ta+16*Ci*Gn+16*Yr,Bl=Ki.dd,Ei=Ki.tc;if(Ei!=0)if(e(3<=Ei),Er.L==1)0<Yr&&xl(Us,aa,Gn,Ei+4),Ki.La&&Xs(Us,aa,Gn,Ei),0<eo&&wl(Us,aa,Gn,Ei+4),Ki.La&&Ma(Us,aa,Gn,Ei);else{var AA=Er.B,Eu=Er.qa,Od=Er.ra+8*Ci*AA+8*Yr,ZA=Er.Ha,Er=Er.Ia+8*Ci*AA+8*Yr;Ci=Ki.ld,0<Yr&&(xu(Us,aa,Gn,Ei+4,Bl,Ci),Bi(Eu,Od,ZA,Er,AA,Ei+4,Bl,Ci)),Ki.La&&(yl(Us,aa,Gn,Ei,Bl,Ci),qA(Eu,Od,ZA,Er,AA,Ei,Bl,Ci)),0<eo&&(WA(Us,aa,Gn,Ei+4,Bl,Ci),bu(Eu,Od,ZA,Er,AA,Ei+4,Bl,Ci)),Ki.La&&(na(Us,aa,Gn,Ei,Bl,Ci),ra(Eu,Od,ZA,Er,AA,Ei,Bl,Ci))}}if(Se.ia&&alert("todo:DitherRow"),Ne.put!=null){if(sn=16*Vn,Vn=16*(Vn+1),Lo?(Ne.y=Se.sa,Ne.O=Se.ta+Xn,Ne.f=Se.qa,Ne.N=Se.ra+to,Ne.ea=Se.Ha,Ne.W=Se.Ia+to):(sn-=vn,Ne.y=dt,Ne.O=Qt,Ne.f=ht,Ne.N=Ge,Ne.ea=Fn,Ne.W=Hn),En||(Vn-=vn),Vn>Ne.o&&(Vn=Ne.o),Ne.F=null,Ne.J=null,Se.Fa!=null&&0<Se.Fa.length&&sn<Vn&&(Ne.J=Ts(Se,Ne,sn,Vn-sn),Ne.F=Se.mb,Ne.F==null&&Ne.F.length==0)){$e=$t(Se,3,"Could not decode alpha data.");break e}sn<Ne.j&&(vn=Ne.j-sn,sn=Ne.j,e(!(1&vn)),Ne.O+=Se.R*vn,Ne.N+=Se.B*(vn>>1),Ne.W+=Se.B*(vn>>1),Ne.F!=null&&(Ne.J+=Ne.width*vn)),sn<Vn&&(Ne.O+=Ne.v,Ne.N+=Ne.v>>1,Ne.W+=Ne.v>>1,Ne.F!=null&&(Ne.J+=Ne.v),Ne.ka=sn-Ne.j,Ne.U=Ne.va-Ne.v,Ne.T=Vn-sn,$e=Ne.put(Ne))}He+1!=Se.Ic||En||(r(Se.sa,Se.ta-tt,dt,Qt+16*Se.R,tt),r(Se.qa,Se.ra-xt,ht,Ge+8*Se.B,xt),r(Se.Ha,Se.Ia-xt,Fn,Hn+8*Se.B,xt))}if(!$e)return $t(Te,6,"Output aborted.")}return 1}(g,B)),B.bc!=null&&B.bc(B),U&=1}return U?(g.cb=0,U):0}function gn(g,B,U,K,Z){Z=g[B+U+32*K]+(Z>>3),g[B+U+32*K]=-256&Z?0>Z?0:255:Z}function wo(g,B,U,K,Z,se){gn(g,B,0,U,K+Z),gn(g,B,1,U,K+se),gn(g,B,2,U,K-se),gn(g,B,3,U,K-Z)}function kr(g){return(20091*g>>16)+g}function er(g,B,U,K){var Z,se=0,ae=s(16);for(Z=0;4>Z;++Z){var de=g[B+0]+g[B+8],pe=g[B+0]-g[B+8],ge=(35468*g[B+4]>>16)-kr(g[B+12]),Ee=kr(g[B+4])+(35468*g[B+12]>>16);ae[se+0]=de+Ee,ae[se+1]=pe+ge,ae[se+2]=pe-ge,ae[se+3]=de-Ee,se+=4,B++}for(Z=se=0;4>Z;++Z)de=(g=ae[se+0]+4)+ae[se+8],pe=g-ae[se+8],ge=(35468*ae[se+4]>>16)-kr(ae[se+12]),gn(U,K,0,0,de+(Ee=kr(ae[se+4])+(35468*ae[se+12]>>16))),gn(U,K,1,0,pe+ge),gn(U,K,2,0,pe-ge),gn(U,K,3,0,de-Ee),se++,K+=32}function rs(g,B,U,K){var Z=g[B+0]+4,se=35468*g[B+4]>>16,ae=kr(g[B+4]),de=35468*g[B+1]>>16;wo(U,K,0,Z+ae,g=kr(g[B+1]),de),wo(U,K,1,Z+se,g,de),wo(U,K,2,Z-se,g,de),wo(U,K,3,Z-ae,g,de)}function xo(g,B,U,K,Z){er(g,B,U,K),Z&&er(g,B+16,U,K+4)}function ki(g,B,U,K){ta(g,B+0,U,K,1),ta(g,B+32,U,K+128,1)}function qn(g,B,U,K){var Z;for(g=g[B+0]+4,Z=0;4>Z;++Z)for(B=0;4>B;++B)gn(U,K,B,Z,g)}function hn(g,B,U,K){g[B+0]&&Mi(g,B+0,U,K),g[B+16]&&Mi(g,B+16,U,K+4),g[B+32]&&Mi(g,B+32,U,K+128),g[B+48]&&Mi(g,B+48,U,K+128+4)}function Ws(g,B,U,K){var Z,se=s(16);for(Z=0;4>Z;++Z){var ae=g[B+0+Z]+g[B+12+Z],de=g[B+4+Z]+g[B+8+Z],pe=g[B+4+Z]-g[B+8+Z],ge=g[B+0+Z]-g[B+12+Z];se[0+Z]=ae+de,se[8+Z]=ae-de,se[4+Z]=ge+pe,se[12+Z]=ge-pe}for(Z=0;4>Z;++Z)ae=(g=se[0+4*Z]+3)+se[3+4*Z],de=se[1+4*Z]+se[2+4*Z],pe=se[1+4*Z]-se[2+4*Z],ge=g-se[3+4*Z],U[K+0]=ae+de>>3,U[K+16]=ge+pe>>3,U[K+32]=ae-de>>3,U[K+48]=ge-pe>>3,K+=64}function Ri(g,B,U){var K,Z=B-32,se=os,ae=255-g[Z-1];for(K=0;K<U;++K){var de,pe=se,ge=ae+g[B-1];for(de=0;de<U;++de)g[B+de]=pe[ge+g[Z+de]];B+=32}}function bo(g,B){Ri(g,B,4)}function Ia(g,B){Ri(g,B,8)}function dl(g,B){Ri(g,B,16)}function Es(g,B){var U;for(U=0;16>U;++U)r(g,B+32*U,g,B-32,16)}function _o(g,B){var U;for(U=16;0<U;--U)i(g,B,g[B-1],16),B+=32}function Yo(g,B,U){var K;for(K=0;16>K;++K)i(B,U+32*K,g,16)}function hl(g,B){var U,K=16;for(U=0;16>U;++U)K+=g[B-1+32*U]+g[B+U-32];Yo(K>>5,g,B)}function Jn(g,B){var U,K=8;for(U=0;16>U;++U)K+=g[B-1+32*U];Yo(K>>4,g,B)}function Ss(g,B){var U,K=8;for(U=0;16>U;++U)K+=g[B+U-32];Yo(K>>4,g,B)}function Na(g,B){Yo(128,g,B)}function Kt(g,B,U){return g+2*B+U+2>>2}function Gt(g,B){var U,K=B-32;for(K=new Uint8Array([Kt(g[K-1],g[K+0],g[K+1]),Kt(g[K+0],g[K+1],g[K+2]),Kt(g[K+1],g[K+2],g[K+3]),Kt(g[K+2],g[K+3],g[K+4])]),U=0;4>U;++U)r(g,B+32*U,K,0,K.length)}function Rr(g,B){var U=g[B-1],K=g[B-1+32],Z=g[B-1+64],se=g[B-1+96];te(g,B+0,16843009*Kt(g[B-1-32],U,K)),te(g,B+32,16843009*Kt(U,K,Z)),te(g,B+64,16843009*Kt(K,Z,se)),te(g,B+96,16843009*Kt(Z,se,se))}function un(g,B){var U,K=4;for(U=0;4>U;++U)K+=g[B+U-32]+g[B-1+32*U];for(K>>=3,U=0;4>U;++U)i(g,B+32*U,K,4)}function nA(g,B){var U=g[B-1+0],K=g[B-1+32],Z=g[B-1+64],se=g[B-1-32],ae=g[B+0-32],de=g[B+1-32],pe=g[B+2-32],ge=g[B+3-32];g[B+0+96]=Kt(K,Z,g[B-1+96]),g[B+1+96]=g[B+0+64]=Kt(U,K,Z),g[B+2+96]=g[B+1+64]=g[B+0+32]=Kt(se,U,K),g[B+3+96]=g[B+2+64]=g[B+1+32]=g[B+0+0]=Kt(ae,se,U),g[B+3+64]=g[B+2+32]=g[B+1+0]=Kt(de,ae,se),g[B+3+32]=g[B+2+0]=Kt(pe,de,ae),g[B+3+0]=Kt(ge,pe,de)}function fl(g,B){var U=g[B+1-32],K=g[B+2-32],Z=g[B+3-32],se=g[B+4-32],ae=g[B+5-32],de=g[B+6-32],pe=g[B+7-32];g[B+0+0]=Kt(g[B+0-32],U,K),g[B+1+0]=g[B+0+32]=Kt(U,K,Z),g[B+2+0]=g[B+1+32]=g[B+0+64]=Kt(K,Z,se),g[B+3+0]=g[B+2+32]=g[B+1+64]=g[B+0+96]=Kt(Z,se,ae),g[B+3+32]=g[B+2+64]=g[B+1+96]=Kt(se,ae,de),g[B+3+64]=g[B+2+96]=Kt(ae,de,pe),g[B+3+96]=Kt(de,pe,pe)}function li(g,B){var U=g[B-1+0],K=g[B-1+32],Z=g[B-1+64],se=g[B-1-32],ae=g[B+0-32],de=g[B+1-32],pe=g[B+2-32],ge=g[B+3-32];g[B+0+0]=g[B+1+64]=se+ae+1>>1,g[B+1+0]=g[B+2+64]=ae+de+1>>1,g[B+2+0]=g[B+3+64]=de+pe+1>>1,g[B+3+0]=pe+ge+1>>1,g[B+0+96]=Kt(Z,K,U),g[B+0+64]=Kt(K,U,se),g[B+0+32]=g[B+1+96]=Kt(U,se,ae),g[B+1+32]=g[B+2+96]=Kt(se,ae,de),g[B+2+32]=g[B+3+96]=Kt(ae,de,pe),g[B+3+32]=Kt(de,pe,ge)}function Ta(g,B){var U=g[B+0-32],K=g[B+1-32],Z=g[B+2-32],se=g[B+3-32],ae=g[B+4-32],de=g[B+5-32],pe=g[B+6-32],ge=g[B+7-32];g[B+0+0]=U+K+1>>1,g[B+1+0]=g[B+0+64]=K+Z+1>>1,g[B+2+0]=g[B+1+64]=Z+se+1>>1,g[B+3+0]=g[B+2+64]=se+ae+1>>1,g[B+0+32]=Kt(U,K,Z),g[B+1+32]=g[B+0+96]=Kt(K,Z,se),g[B+2+32]=g[B+1+96]=Kt(Z,se,ae),g[B+3+32]=g[B+2+96]=Kt(se,ae,de),g[B+3+64]=Kt(ae,de,pe),g[B+3+96]=Kt(de,pe,ge)}function Bo(g,B){var U=g[B-1+0],K=g[B-1+32],Z=g[B-1+64],se=g[B-1+96];g[B+0+0]=U+K+1>>1,g[B+2+0]=g[B+0+32]=K+Z+1>>1,g[B+2+32]=g[B+0+64]=Z+se+1>>1,g[B+1+0]=Kt(U,K,Z),g[B+3+0]=g[B+1+32]=Kt(K,Z,se),g[B+3+32]=g[B+1+64]=Kt(Z,se,se),g[B+3+64]=g[B+2+64]=g[B+0+96]=g[B+1+96]=g[B+2+96]=g[B+3+96]=se}function Xo(g,B){var U=g[B-1+0],K=g[B-1+32],Z=g[B-1+64],se=g[B-1+96],ae=g[B-1-32],de=g[B+0-32],pe=g[B+1-32],ge=g[B+2-32];g[B+0+0]=g[B+2+32]=U+ae+1>>1,g[B+0+32]=g[B+2+64]=K+U+1>>1,g[B+0+64]=g[B+2+96]=Z+K+1>>1,g[B+0+96]=se+Z+1>>1,g[B+3+0]=Kt(de,pe,ge),g[B+2+0]=Kt(ae,de,pe),g[B+1+0]=g[B+3+32]=Kt(U,ae,de),g[B+1+32]=g[B+3+64]=Kt(K,U,ae),g[B+1+64]=g[B+3+96]=Kt(Z,K,U),g[B+1+96]=Kt(se,Z,K)}function qs(g,B){var U;for(U=0;8>U;++U)r(g,B+32*U,g,B-32,8)}function tr(g,B){var U;for(U=0;8>U;++U)i(g,B,g[B-1],8),B+=32}function Or(g,B,U){var K;for(K=0;8>K;++K)i(B,U+32*K,g,8)}function Oi(g,B){var U,K=8;for(U=0;8>U;++U)K+=g[B+U-32]+g[B-1+32*U];Or(K>>4,g,B)}function rA(g,B){var U,K=4;for(U=0;8>U;++U)K+=g[B+U-32];Or(K>>3,g,B)}function Co(g,B){var U,K=4;for(U=0;8>U;++U)K+=g[B-1+32*U];Or(K>>3,g,B)}function Nn(g,B){Or(128,g,B)}function Zo(g,B,U){var K=g[B-U],Z=g[B+0],se=3*(Z-K)+YA[1020+g[B-2*U]-g[B+U]],ae=bl[112+(se+4>>3)];g[B-U]=os[255+K+bl[112+(se+3>>3)]],g[B+0]=os[255+Z-ae]}function zA(g,B,U,K){var Z=g[B+0],se=g[B+U];return js[255+g[B-2*U]-g[B-U]]>K||js[255+se-Z]>K}function pl(g,B,U,K){return 4*js[255+g[B-U]-g[B+0]]+js[255+g[B-2*U]-g[B+U]]<=K}function rn(g,B,U,K,Z){var se=g[B-3*U],ae=g[B-2*U],de=g[B-U],pe=g[B+0],ge=g[B+U],Ee=g[B+2*U],Re=g[B+3*U];return 4*js[255+de-pe]+js[255+ae-ge]>K?0:js[255+g[B-4*U]-se]<=Z&&js[255+se-ae]<=Z&&js[255+ae-de]<=Z&&js[255+Re-Ee]<=Z&&js[255+Ee-ge]<=Z&&js[255+ge-pe]<=Z}function iA(g,B,U,K){var Z=2*K+1;for(K=0;16>K;++K)pl(g,B+K,U,Z)&&Zo(g,B+K,U)}function Yn(g,B,U,K){var Z=2*K+1;for(K=0;16>K;++K)pl(g,B+K*U,1,Z)&&Zo(g,B+K*U,1)}function wi(g,B,U,K){var Z;for(Z=3;0<Z;--Z)iA(g,B+=4*U,U,K)}function is(g,B,U,K){var Z;for(Z=3;0<Z;--Z)Yn(g,B+=4,U,K)}function Eo(g,B,U,K,Z,se,ae,de){for(se=2*se+1;0<Z--;){if(rn(g,B,U,se,ae))if(zA(g,B,U,de))Zo(g,B,U);else{var pe=g,ge=B,Ee=U,Re=pe[ge-2*Ee],Oe=pe[ge-Ee],Te=pe[ge+0],qe=pe[ge+Ee],He=pe[ge+2*Ee],Se=27*($e=YA[1020+3*(Te-Oe)+YA[1020+Re-qe]])+63>>7,Ne=18*$e+63>>7,$e=9*$e+63>>7;pe[ge-3*Ee]=os[255+pe[ge-3*Ee]+$e],pe[ge-2*Ee]=os[255+Re+Ne],pe[ge-Ee]=os[255+Oe+Se],pe[ge+0]=os[255+Te-Se],pe[ge+Ee]=os[255+qe-Ne],pe[ge+2*Ee]=os[255+He-$e]}B+=K}}function Di(g,B,U,K,Z,se,ae,de){for(se=2*se+1;0<Z--;){if(rn(g,B,U,se,ae))if(zA(g,B,U,de))Zo(g,B,U);else{var pe=g,ge=B,Ee=U,Re=pe[ge-Ee],Oe=pe[ge+0],Te=pe[ge+Ee],qe=bl[112+((He=3*(Oe-Re))+4>>3)],He=bl[112+(He+3>>3)],Se=qe+1>>1;pe[ge-2*Ee]=os[255+pe[ge-2*Ee]+Se],pe[ge-Ee]=os[255+Re+He],pe[ge+0]=os[255+Oe-qe],pe[ge+Ee]=os[255+Te-Se]}B+=K}}function So(g,B,U,K,Z,se){Eo(g,B,U,1,16,K,Z,se)}function Io(g,B,U,K,Z,se){Eo(g,B,1,U,16,K,Z,se)}function sA(g,B,U,K,Z,se){var ae;for(ae=3;0<ae;--ae)Di(g,B+=4*U,U,1,16,K,Z,se)}function No(g,B,U,K,Z,se){var ae;for(ae=3;0<ae;--ae)Di(g,B+=4,1,U,16,K,Z,se)}function ml(g,B,U,K,Z,se,ae,de){Eo(g,B,Z,1,8,se,ae,de),Eo(U,K,Z,1,8,se,ae,de)}function ea(g,B,U,K,Z,se,ae,de){Eo(g,B,1,Z,8,se,ae,de),Eo(U,K,1,Z,8,se,ae,de)}function xi(g,B,U,K,Z,se,ae,de){Di(g,B+4*Z,Z,1,8,se,ae,de),Di(U,K+4*Z,Z,1,8,se,ae,de)}function oA(g,B,U,K,Z,se,ae,de){Di(g,B+4,1,Z,8,se,ae,de),Di(U,K+4,1,Z,8,se,ae,de)}function Is(){this.ba=new oi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new At,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pa(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new T}function La(){this.xb=this.a=0,this.l=new Cs,this.ca=new oi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pa,this.ab=0,this.gc=o(4,Fa),this.Oc=0}function ja(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ns(g,B,U,K,Z,se,ae){for(g=g==null?0:g[B+0],B=0;B<ae;++B)Z[se+B]=g+U[K+B]&255,g=Z[se+B]}function Ua(g,B,U,K,Z,se,ae){var de;if(g==null)Ns(null,null,U,K,Z,se,ae);else for(de=0;de<ae;++de)Z[se+de]=g[B+de]+U[K+de]&255}function To(g,B,U,K,Z,se,ae){if(g==null)Ns(null,null,U,K,Z,se,ae);else{var de,pe=g[B+0],ge=pe,Ee=pe;for(de=0;de<ae;++de)ge=Ee+(pe=g[B+de])-ge,Ee=U[K+de]+(-256&ge?0>ge?0:255:ge)&255,ge=pe,Z[se+de]=Ee}}function Ts(g,B,U,K){var Z=B.width,se=B.o;if(e(g!=null&&B!=null),0>U||0>=K||U+K>se)return null;if(!g.Cc){if(g.ga==null){var ae;if(g.ga=new ja,(ae=g.ga==null)||(ae=B.width*B.o,e(g.Gb.length==0),g.Gb=s(ae),g.Uc=0,g.Gb==null?ae=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,ae=1),ae=!ae),!ae){ae=g.ga;var de=g.Fa,pe=g.P,ge=g.qc,Ee=g.mb,Re=g.nb,Oe=pe+1,Te=ge-1,qe=ae.l;if(e(de!=null&&Ee!=null&&B!=null),Mn[0]=null,Mn[1]=Ns,Mn[2]=Ua,Mn[3]=To,ae.ca=Ee,ae.tb=Re,ae.c=B.width,ae.i=B.height,e(0<ae.c&&0<ae.i),1>=ge)B=0;else if(ae.$a=de[pe+0]>>0&3,ae.Z=de[pe+0]>>2&3,ae.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||pe)B=0;else if(qe.put=ai,qe.ac=An,qe.bc=br,qe.ma=ae,qe.width=B.width,qe.height=B.height,qe.Da=B.Da,qe.v=B.v,qe.va=B.va,qe.j=B.j,qe.o=B.o,ae.$a)e:{e(ae.$a==1),B=Jr();t:for(;;){if(B==null){B=0;break e}if(e(ae!=null),ae.mc=B,B.c=ae.c,B.i=ae.i,B.l=ae.l,B.l.ma=ae,B.l.width=ae.c,B.l.height=ae.i,B.a=0,z(B.m,de,Oe,Te),!Ur(ae.c,ae.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&zs(B.s)?(ae.ic=1,de=B.c*B.i,B.Ta=null,B.Ua=0,B.V=s(de),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(ae.ic=0,B=Wo(B,ae.c)),!B))break t;B=1;break e}ae.mc=null,B=0}else B=Te>=ae.c*ae.i;ae=!B}if(ae)return null;g.ga.Lc!=1?g.Ga=0:K=se-U}e(g.ga!=null),e(U+K<=se);e:{if(B=(de=g.ga).c,se=de.l.o,de.$a==0){if(Oe=g.rc,Te=g.Vc,qe=g.Fa,pe=g.P+1+U*B,ge=g.mb,Ee=g.nb+U*B,e(pe<=g.P+g.qc),de.Z!=0)for(e(Mn[de.Z]!=null),ae=0;ae<K;++ae)Mn[de.Z](Oe,Te,qe,pe,ge,Ee,B),Oe=ge,Te=Ee,Ee+=B,pe+=B;else for(ae=0;ae<K;++ae)r(ge,Ee,qe,pe,B),Oe=ge,Te=Ee,Ee+=B,pe+=B;g.rc=Oe,g.Vc=Te}else{if(e(de.mc!=null),B=U+K,e((ae=de.mc)!=null),e(B<=ae.i),ae.C>=B)B=1;else if(de.ic||Pe(),de.ic){de=ae.V,Oe=ae.Ba,Te=ae.c;var He=ae.i,Se=(qe=1,pe=ae.$/Te,ge=ae.$%Te,Ee=ae.m,Re=ae.s,ae.$),Ne=Te*He,$e=Te*B,tt=Re.wc,Ge=Se<$e?ut(Re,ge,pe):null;e(Se<=Ne),e(B<=He),e(zs(Re));t:for(;;){for(;!Ee.h&&Se<$e;){if(ge&tt||(Ge=ut(Re,ge,pe)),e(Ge!=null),he(Ee),256>(He=_r(Ge.G[0],Ge.H[0],Ee)))de[Oe+Se]=He,++Se,++ge>=Te&&(ge=0,++pe<=B&&!(pe%16)&&qr(ae,pe));else{if(!(280>He)){qe=0;break t}He=Rn(He-256,Ee);var xt,dt=_r(Ge.G[4],Ge.H[4],Ee);if(he(Ee),!(Se>=(dt=Bs(Te,dt=Rn(dt,Ee)))&&Ne-Se>=He)){qe=0;break t}for(xt=0;xt<He;++xt)de[Oe+Se+xt]=de[Oe+Se+xt-dt];for(Se+=He,ge+=He;ge>=Te;)ge-=Te,++pe<=B&&!(pe%16)&&qr(ae,pe);Se<$e&&ge&tt&&(Ge=ut(Re,ge,pe))}e(Ee.h==re(Ee))}qr(ae,pe>B?B:pe);break t}!qe||Ee.h&&Se<Ne?(qe=0,ae.a=Ee.h?5:3):ae.$=Se,B=qe}else B=ji(ae,ae.V,ae.Ba,ae.c,ae.i,B,_a);if(!B){K=0;break e}}U+K>=se&&(g.Cc=1),K=1}if(!K)return null;if(g.Cc&&((K=g.ga)!=null&&(K.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+U*Z}function I(g,B,U,K,Z,se){for(;0<Z--;){var ae,de=g,pe=B+(U?1:0),ge=g,Ee=B+(U?0:3);for(ae=0;ae<K;++ae){var Re=ge[Ee+4*ae];Re!=255&&(Re*=32897,de[pe+4*ae+0]=de[pe+4*ae+0]*Re>>23,de[pe+4*ae+1]=de[pe+4*ae+1]*Re>>23,de[pe+4*ae+2]=de[pe+4*ae+2]*Re>>23)}B+=se}}function X(g,B,U,K,Z){for(;0<K--;){var se;for(se=0;se<U;++se){var ae=g[B+2*se+0],de=15&(ge=g[B+2*se+1]),pe=4369*de,ge=(240&ge|ge>>4)*pe>>16;g[B+2*se+0]=(240&ae|ae>>4)*pe>>16&240|(15&ae|ae<<4)*pe>>16>>4&15,g[B+2*se+1]=240&ge|de}B+=Z}}function we(g,B,U,K,Z,se,ae,de){var pe,ge,Ee=255;for(ge=0;ge<Z;++ge){for(pe=0;pe<K;++pe){var Re=g[B+pe];se[ae+4*pe]=Re,Ee&=Re}B+=U,ae+=de}return Ee!=255}function Be(g,B,U,K,Z){var se;for(se=0;se<Z;++se)U[K+se]=g[B+se]>>8}function Pe(){hi=I,On=X,Dn=we,gr=Be}function De(g,B,U){S[g]=function(K,Z,se,ae,de,pe,ge,Ee,Re,Oe,Te,qe,He,Se,Ne,$e,tt){var Ge,xt=tt-1>>1,dt=de[pe+0]|ge[Ee+0]<<16,Qt=Re[Oe+0]|Te[qe+0]<<16;e(K!=null);var ht=3*dt+Qt+131074>>2;for(B(K[Z+0],255&ht,ht>>16,He,Se),se!=null&&(ht=3*Qt+dt+131074>>2,B(se[ae+0],255&ht,ht>>16,Ne,$e)),Ge=1;Ge<=xt;++Ge){var Fn=de[pe+Ge]|ge[Ee+Ge]<<16,Hn=Re[Oe+Ge]|Te[qe+Ge]<<16,En=dt+Fn+Qt+Hn+524296,vn=En+2*(Fn+Qt)>>3;ht=vn+dt>>1,dt=(En=En+2*(dt+Hn)>>3)+Fn>>1,B(K[Z+2*Ge-1],255&ht,ht>>16,He,Se+(2*Ge-1)*U),B(K[Z+2*Ge-0],255&dt,dt>>16,He,Se+(2*Ge-0)*U),se!=null&&(ht=En+Qt>>1,dt=vn+Hn>>1,B(se[ae+2*Ge-1],255&ht,ht>>16,Ne,$e+(2*Ge-1)*U),B(se[ae+2*Ge+0],255&dt,dt>>16,Ne,$e+(2*Ge+0)*U)),dt=Fn,Qt=Hn}1&tt||(ht=3*dt+Qt+131074>>2,B(K[Z+tt-1],255&ht,ht>>16,He,Se+(tt-1)*U),se!=null&&(ht=3*Qt+dt+131074>>2,B(se[ae+tt-1],255&ht,ht>>16,Ne,$e+(tt-1)*U)))}}function et(){Vi[Pd]=bw,Vi[_u]=xg,Vi[Ef]=_w,Vi[Bu]=Rd,Vi[Cu]=If,Vi[Ld]=bg,Vi[wg]=cD,Vi[jd]=xg,Vi[Ud]=Rd,Vi[kd]=If,Vi[A]=bg}function ct(g){return g&~uD?0>g?0:255:g>>$E}function mt(g,B){return ct((19077*g>>8)+(26149*B>>8)-14234)}function v(g,B,U){return ct((19077*g>>8)-(6419*B>>8)-(13320*U>>8)+8708)}function R(g,B){return ct((19077*g>>8)+(33050*B>>8)-17685)}function G(g,B,U,K,Z){K[Z+0]=mt(g,U),K[Z+1]=v(g,B,U),K[Z+2]=R(g,B)}function ce(g,B,U,K,Z){K[Z+0]=R(g,B),K[Z+1]=v(g,B,U),K[Z+2]=mt(g,U)}function Ie(g,B,U,K,Z){var se=v(g,B,U);B=se<<3&224|R(g,B)>>3,K[Z+0]=248&mt(g,U)|se>>5,K[Z+1]=B}function ke(g,B,U,K,Z){var se=240&R(g,B)|15;K[Z+0]=240&mt(g,U)|v(g,B,U)>>4,K[Z+1]=se}function st(g,B,U,K,Z){K[Z+0]=255,G(g,B,U,K,Z+1)}function Wt(g,B,U,K,Z){ce(g,B,U,K,Z),K[Z+3]=255}function Tn(g,B,U,K,Z){G(g,B,U,K,Z),K[Z+3]=255}function Lt(g,B){return 0>g?0:g>B?B:g}function bn(g,B,U){S[g]=function(K,Z,se,ae,de,pe,ge,Ee,Re){for(var Oe=Ee+(-2&Re)*U;Ee!=Oe;)B(K[Z+0],se[ae+0],de[pe+0],ge,Ee),B(K[Z+1],se[ae+0],de[pe+0],ge,Ee+U),Z+=2,++ae,++pe,Ee+=2*U;1&Re&&B(K[Z+0],se[ae+0],de[pe+0],ge,Ee)}}function pr(g,B,U){return U==0?g==0?B==0?6:5:B==0?4:0:U}function Br(g,B,U,K,Z){switch(g>>>30){case 3:ta(B,U,K,Z,0);break;case 2:mr(B,U,K,Z);break;case 1:Mi(B,U,K,Z)}}function Ai(g,B){var U,K,Z=B.M,se=B.Nb,ae=g.oc,de=g.pc+40,pe=g.oc,ge=g.pc+584,Ee=g.oc,Re=g.pc+600;for(U=0;16>U;++U)ae[de+32*U-1]=129;for(U=0;8>U;++U)pe[ge+32*U-1]=129,Ee[Re+32*U-1]=129;for(0<Z?ae[de-1-32]=pe[ge-1-32]=Ee[Re-1-32]=129:(i(ae,de-32-1,127,21),i(pe,ge-32-1,127,9),i(Ee,Re-32-1,127,9)),K=0;K<g.za;++K){var Oe=B.ya[B.aa+K];if(0<K){for(U=-1;16>U;++U)r(ae,de+32*U-4,ae,de+32*U+12,4);for(U=-1;8>U;++U)r(pe,ge+32*U-4,pe,ge+32*U+4,4),r(Ee,Re+32*U-4,Ee,Re+32*U+4,4)}var Te=g.Gd,qe=g.Hd+K,He=Oe.ad,Se=Oe.Hc;if(0<Z&&(r(ae,de-32,Te[qe].y,0,16),r(pe,ge-32,Te[qe].f,0,8),r(Ee,Re-32,Te[qe].ea,0,8)),Oe.Za){var Ne=ae,$e=de-32+16;for(0<Z&&(K>=g.za-1?i(Ne,$e,Te[qe].y[15],4):r(Ne,$e,Te[qe+1].y,0,4)),U=0;4>U;U++)Ne[$e+128+U]=Ne[$e+256+U]=Ne[$e+384+U]=Ne[$e+0+U];for(U=0;16>U;++U,Se<<=2)Ne=ae,$e=de+WE[U],Po[Oe.Ob[U]](Ne,$e),Br(Se,He,16*+U,Ne,$e)}else if(Ne=pr(K,Z,Oe.Ob[0]),_l[Ne](ae,de),Se!=0)for(U=0;16>U;++U,Se<<=2)Br(Se,He,16*+U,ae,de+WE[U]);for(U=Oe.Gc,Ne=pr(K,Z,Oe.Dd),oa[Ne](pe,ge),oa[Ne](Ee,Re),Se=He,Ne=pe,$e=ge,255&(Oe=U>>0)&&(170&Oe?vl(Se,256,Ne,$e):Ls(Se,256,Ne,$e)),Oe=Ee,Se=Re,255&(U>>=8)&&(170&U?vl(He,320,Oe,Se):Ls(He,320,Oe,Se)),Z<g.Ub-1&&(r(Te[qe].y,0,ae,de+480,16),r(Te[qe].f,0,pe,ge+224,8),r(Te[qe].ea,0,Ee,Re+224,8)),U=8*se*g.B,Te=g.sa,qe=g.ta+16*K+16*se*g.R,He=g.qa,Oe=g.ra+8*K+U,Se=g.Ha,Ne=g.Ia+8*K+U,U=0;16>U;++U)r(Te,qe+U*g.R,ae,de+32*U,16);for(U=0;8>U;++U)r(He,Oe+U*g.B,pe,ge+32*U,8),r(Se,Ne+U*g.B,Ee,Re+32*U,8)}}function bi(g,B,U,K,Z,se,ae,de,pe){var ge=[0],Ee=[0],Re=0,Oe=pe!=null?pe.kd:0,Te=pe??new Qi;if(g==null||12>U)return 7;Te.data=g,Te.w=B,Te.ha=U,B=[B],U=[U],Te.gb=[Te.gb];e:{var qe=B,He=U,Se=Te.gb;if(e(g!=null),e(He!=null),e(Se!=null),Se[0]=0,12<=He[0]&&!n(g,qe[0],"RIFF")){if(n(g,qe[0]+8,"WEBP")){Se=3;break e}var Ne=ye(g,qe[0]+4);if(12>Ne||4294967286<Ne){Se=3;break e}if(Oe&&Ne>He[0]-8){Se=7;break e}Se[0]=Ne,qe[0]+=12,He[0]-=12}Se=0}if(Se!=0)return Se;for(Ne=0<Te.gb[0],U=U[0];;){e:{var $e=g;He=B,Se=U;var tt=ge,Ge=Ee,xt=qe=[0];if((ht=Re=[Re])[0]=0,8>Se[0])Se=7;else{if(!n($e,He[0],"VP8X")){if(ye($e,He[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var dt=ye($e,He[0]+8),Qt=1+xe($e,He[0]+12);if(2147483648<=Qt*($e=1+xe($e,He[0]+15))){Se=3;break e}xt!=null&&(xt[0]=dt),tt!=null&&(tt[0]=Qt),Ge!=null&&(Ge[0]=$e),He[0]+=18,Se[0]-=18,ht[0]=1}Se=0}}if(Re=Re[0],qe=qe[0],Se!=0)return Se;if(He=!!(2&qe),!Ne&&Re)return 3;if(se!=null&&(se[0]=!!(16&qe)),ae!=null&&(ae[0]=He),de!=null&&(de[0]=0),ae=ge[0],qe=Ee[0],Re&&He&&pe==null){Se=0;break}if(4>U){Se=7;break}if(Ne&&Re||!Ne&&!Re&&!n(g,B[0],"ALPH")){U=[U],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{dt=g,Se=B,Ne=U;var ht=Te.gb;tt=Te.na,Ge=Te.P,xt=Te.Sa,Qt=22,e(dt!=null),e(Ne!=null),$e=Se[0];var Fn=Ne[0];for(e(tt!=null),e(xt!=null),tt[0]=null,Ge[0]=null,xt[0]=0;;){if(Se[0]=$e,Ne[0]=Fn,8>Fn){Se=7;break e}var Hn=ye(dt,$e+4);if(4294967286<Hn){Se=3;break e}var En=8+Hn+1&-2;if(Qt+=En,0<ht&&Qt>ht){Se=3;break e}if(!n(dt,$e,"VP8 ")||!n(dt,$e,"VP8L")){Se=0;break e}if(Fn[0]<En){Se=7;break e}n(dt,$e,"ALPH")||(tt[0]=dt,Ge[0]=$e+8,xt[0]=Hn),$e+=En,Fn-=En}}if(U=U[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Se!=0)break}U=[U],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(ht=g,Se=B,Ne=U,tt=Te.gb[0],Ge=Te.Ja,xt=Te.xa,dt=Se[0],$e=!n(ht,dt,"VP8 "),Qt=!n(ht,dt,"VP8L"),e(ht!=null),e(Ne!=null),e(Ge!=null),e(xt!=null),8>Ne[0])Se=7;else{if($e||Qt){if(ht=ye(ht,dt+4),12<=tt&&ht>tt-12){Se=3;break e}if(Oe&&ht>Ne[0]-8){Se=7;break e}Ge[0]=ht,Se[0]+=8,Ne[0]-=8,xt[0]=Qt}else xt[0]=5<=Ne[0]&&ht[dt+0]==47&&!(ht[dt+4]>>5),Ge[0]=Ne[0];Se=0}if(U=U[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],B=B[0],Se!=0)break;if(4294967286<Te.Ja)return 3;if(de==null||He||(de[0]=Te.xa?2:1),ae=[ae],qe=[qe],Te.xa){if(5>U){Se=7;break}de=ae,Oe=qe,He=se,g==null||5>U?g=0:5<=U&&g[B+0]==47&&!(g[B+4]>>5)?(Ne=[0],ht=[0],tt=[0],z(Ge=new Q,g,B,U),Tt(Ge,Ne,ht,tt)?(de!=null&&(de[0]=Ne[0]),Oe!=null&&(Oe[0]=ht[0]),He!=null&&(He[0]=tt[0]),g=1):g=0):g=0}else{if(10>U){Se=7;break}de=qe,g==null||10>U||!yo(g,B+3,U-3)?g=0:(Oe=g[B+0]|g[B+1]<<8|g[B+2]<<16,He=16383&(g[B+7]<<8|g[B+6]),g=16383&(g[B+9]<<8|g[B+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Te.Ja||!He||!g?g=0:(ae&&(ae[0]=He),de&&(de[0]=g),g=1))}if(!g||(ae=ae[0],qe=qe[0],Re&&(ge[0]!=ae||Ee[0]!=qe)))return 3;pe!=null&&(pe[0]=Te,pe.offset=B-pe.w,e(4294967286>B-pe.w),e(pe.offset==pe.ha-U));break}return Se==0||Se==7&&Re&&pe==null?(se!=null&&(se[0]|=Te.na!=null&&0<Te.na.length),K!=null&&(K[0]=ae),Z!=null&&(Z[0]=qe),0):Se}function ka(g,B,U){var K=B.width,Z=B.height,se=0,ae=0,de=K,pe=Z;if(B.Da=g!=null&&0<g.Da,B.Da&&(de=g.cd,pe=g.bd,se=g.v,ae=g.j,11>U||(se&=-2,ae&=-2),0>se||0>ae||0>=de||0>=pe||se+de>K||ae+pe>Z))return 0;if(B.v=se,B.j=ae,B.va=se+de,B.o=ae+pe,B.U=de,B.T=pe,B.da=g!=null&&0<g.da,B.da){if(!Ye(de,pe,U=[g.ib],se=[g.hb]))return 0;B.ib=U[0],B.hb=se[0]}return B.ob=g!=null&&g.ob,B.Kb=g==null||!g.Sd,B.da&&(B.ob=B.ib<3*K/4&&B.hb<3*Z/4,B.Kb=0),1}function Ra(g){if(g==null)return 2;if(11>g.S){var B=g.f.RGBA;B.fb+=(g.height-1)*B.A,B.A=-B.A}else B=g.f.kb,g=g.height,B.O+=(g-1)*B.fa,B.fa=-B.fa,B.N+=(g-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(g-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(g-1)*B.lb,B.lb=-B.lb);return 0}function aA(g,B,U,K){if(K==null||0>=g||0>=B)return 2;if(U!=null){if(U.Da){var Z=U.cd,se=U.bd,ae=-2&U.v,de=-2&U.j;if(0>ae||0>de||0>=Z||0>=se||ae+Z>g||de+se>B)return 2;g=Z,B=se}if(U.da){if(!Ye(g,B,Z=[U.ib],se=[U.hb]))return 2;g=Z[0],B=se[0]}}K.width=g,K.height=B;e:{var pe=K.width,ge=K.height;if(g=K.S,0>=pe||0>=ge||!(g>=Pd&&13>g))g=2;else{if(0>=K.Rd&&K.sd==null){ae=se=Z=B=0;var Ee=(de=pe*qE[g])*ge;if(11>g||(se=(ge+1)/2*(B=(pe+1)/2),g==12&&(ae=(Z=pe)*ge)),(ge=s(Ee+2*se+ae))==null){g=1;break e}K.sd=ge,11>g?((pe=K.f.RGBA).eb=ge,pe.fb=0,pe.A=de,pe.size=Ee):((pe=K.f.kb).y=ge,pe.O=0,pe.fa=de,pe.Fd=Ee,pe.f=ge,pe.N=0+Ee,pe.Ab=B,pe.Cd=se,pe.ea=ge,pe.W=0+Ee+se,pe.Db=B,pe.Ed=se,g==12&&(pe.F=ge,pe.J=0+Ee+2*se),pe.Tc=ae,pe.lb=Z)}if(B=1,Z=K.S,se=K.width,ae=K.height,Z>=Pd&&13>Z)if(11>Z)g=K.f.RGBA,B&=(de=Math.abs(g.A))*(ae-1)+se<=g.size,B&=de>=se*qE[Z],B&=g.eb!=null;else{g=K.f.kb,de=(se+1)/2,Ee=(ae+1)/2,pe=Math.abs(g.fa),ge=Math.abs(g.Ab);var Re=Math.abs(g.Db),Oe=Math.abs(g.lb),Te=Oe*(ae-1)+se;B&=pe*(ae-1)+se<=g.Fd,B&=ge*(Ee-1)+de<=g.Cd,B=(B&=Re*(Ee-1)+de<=g.Ed)&pe>=se&ge>=de&Re>=de,B&=g.y!=null,B&=g.f!=null,B&=g.ea!=null,Z==12&&(B&=Oe>=se,B&=Te<=g.Tc,B&=g.F!=null)}else B=0;g=B?0:2}}return g!=0||U!=null&&U.fd&&(g=Ra(K)),g}var Cr=64,$A=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fs=24,Oa=32,wu=8,_i=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(g){return g},S.Predictor2=function(g,B,U){return B[U+0]},S.Predictor3=function(g,B,U){return B[U+1]},S.Predictor4=function(g,B,U){return B[U-1]},S.Predictor5=function(g,B,U){return Je(Je(g,B[U+1]),B[U+0])},S.Predictor6=function(g,B,U){return Je(g,B[U-1])},S.Predictor7=function(g,B,U){return Je(g,B[U+0])},S.Predictor8=function(g,B,U){return Je(B[U-1],B[U+0])},S.Predictor9=function(g,B,U){return Je(B[U+0],B[U+1])},S.Predictor10=function(g,B,U){return Je(Je(g,B[U-1]),Je(B[U+0],B[U+1]))},S.Predictor11=function(g,B,U){var K=B[U+0];return 0>=It(K>>24&255,g>>24&255,(B=B[U-1])>>24&255)+It(K>>16&255,g>>16&255,B>>16&255)+It(K>>8&255,g>>8&255,B>>8&255)+It(255&K,255&g,255&B)?K:g},S.Predictor12=function(g,B,U){var K=B[U+0];return(ft((g>>24&255)+(K>>24&255)-((B=B[U-1])>>24&255))<<24|ft((g>>16&255)+(K>>16&255)-(B>>16&255))<<16|ft((g>>8&255)+(K>>8&255)-(B>>8&255))<<8|ft((255&g)+(255&K)-(255&B)))>>>0},S.Predictor13=function(g,B,U){var K=B[U-1];return(Nt((g=Je(g,B[U+0]))>>24&255,K>>24&255)<<24|Nt(g>>16&255,K>>16&255)<<16|Nt(g>>8&255,K>>8&255)<<8|Nt(g>>0&255,K>>0&255))>>>0};var Cf=S.PredictorAdd0;S.PredictorAdd1=Ut,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Ps=S.PredictorAdd2;Le("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Le("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Td,ci=S.ColorIndexInverseTransform,GA=S.MapARGB,Js=S.VP8LColorIndexInverseTransformAlpha,lA=S.MapAlpha,Da=S.VP8LPredictorsAdd=[];Da.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Qa,ui,di,Fo,ss,Ys,gl,ta,mr,vl,Mi,Ls,WA,xu,bu,Bi,na,yl,ra,qA,wl,xl,Ma,Xs,hi,On,Dn,gr,Qn=s(511),ia=s(2041),JA=s(225),sa=s(767),Fd=0,YA=ia,bl=JA,os=sa,js=Qn,Pd=0,_u=1,Ef=2,Bu=3,Cu=4,Ld=5,wg=6,jd=7,Ud=8,kd=9,A=10,f=[2,3,7],x=[3,3,11],P=[280,256,256,256,40],$=[0,1,1,1,0],le=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ue=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Me=8,Ze=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kt=null,an=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],as=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],XA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ww=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_l=[],Po=[],oa=[],xw=1,Sf=2,Mn=[],Vi=[];De("UpsampleRgbLinePair",G,3),De("UpsampleBgrLinePair",ce,3),De("UpsampleRgbaLinePair",Tn,4),De("UpsampleBgraLinePair",Wt,4),De("UpsampleArgbLinePair",st,4),De("UpsampleRgba4444LinePair",ke,2),De("UpsampleRgb565LinePair",Ie,2);var bw=S.UpsampleRgbLinePair,_w=S.UpsampleBgrLinePair,xg=S.UpsampleRgbaLinePair,Rd=S.UpsampleBgraLinePair,If=S.UpsampleArgbLinePair,bg=S.UpsampleRgba4444LinePair,cD=S.UpsampleRgb565LinePair,_g=16,Bg=1<<_g-1,Nf=-227,Bw=482,$E=6,uD=(256<<$E)-1,GE=0,dD=s(256),hD=s(256),fD=s(256),pD=s(256),mD=s(Bw-Nf),gD=s(Bw-Nf);bn("YuvToRgbRow",G,3),bn("YuvToBgrRow",ce,3),bn("YuvToRgbaRow",Tn,4),bn("YuvToBgraRow",Wt,4),bn("YuvToArgbRow",st,4),bn("YuvToRgba4444Row",ke,2),bn("YuvToRgb565Row",Ie,2);var WE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cg=[0,2,8],vD=[8,7,6,4,4,2,2,2,1,1,1,1],yD=1;this.WebPDecodeRGBA=function(g,B,U,K,Z){var se=_u,ae=new Is,de=new oi;ae.ba=de,de.S=se,de.width=[de.width],de.height=[de.height];var pe=de.width,ge=de.height,Ee=new Vt;if(Ee==null||g==null)var Re=2;else e(Ee!=null),Re=bi(g,B,U,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(Re!=0?pe=0:(pe!=null&&(pe[0]=Ee.width[0]),ge!=null&&(ge[0]=Ee.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],K!=null&&(K[0]=de.width),Z!=null&&(Z[0]=de.height);e:{if(K=new Cs,(Z=new Qi).data=g,Z.w=B,Z.ha=U,Z.kd=1,B=[0],e(Z!=null),((g=bi(Z.data,Z.w,Z.ha,null,null,null,B,null,Z))==0||g==7)&&B[0]&&(g=4),(B=g)==0){if(e(ae!=null),K.data=Z.data,K.w=Z.w+Z.offset,K.ha=Z.ha-Z.offset,K.put=ai,K.ac=An,K.bc=br,K.ma=ae,Z.xa){if((g=Jr())==null){ae=1;break e}if(function(Oe,Te){var qe=[0],He=[0],Se=[0];t:for(;;){if(Oe==null)return 0;if(Te==null)return Oe.a=2,0;if(Oe.l=Te,Oe.a=0,z(Oe.m,Te.data,Te.w,Te.ha),!Tt(Oe.m,qe,He,Se)){Oe.a=3;break t}if(Oe.xb=Sf,Te.width=qe[0],Te.height=He[0],!Ur(qe[0],He[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0}(g,K)){if(K=(B=aA(K.width,K.height,ae.Oa,ae.ba))==0){t:{K=g;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((U=K.l)!=null),e((Z=U.ma)!=null),K.xb!=0){if(K.ca=Z.ba,K.tb=Z.tb,e(K.ca!=null),!ka(Z.Oa,U,Bu)){K.a=2;break n}if(!Wo(K,U.width)||U.da)break n;if((U.da||nn(K.ca.S))&&Pe(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Pe()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!Fe(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!ji(K,K.V,K.Ba,K.c,K.i,U.o,ts))break n;Z.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(B=g.a)}else B=g.a}else{if((g=new cn)==null){ae=1;break e}if(g.Fa=Z.na,g.P=Z.P,g.qc=Z.Sa,$s(g,K)){if((B=aA(K.width,K.height,ae.Oa,ae.ba))==0){if(g.Aa=0,U=ae.Oa,e((Z=g)!=null),U!=null){if(0<(pe=0>(pe=U.Md)?0:100<pe?255:255*pe/100)){for(ge=Ee=0;4>ge;++ge)12>(Re=Z.pb[ge]).lc&&(Re.ia=pe*vD[0>Re.lc?0:Re.lc]>>3),Ee|=Re.ia;Ee&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=U.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}Yt(g,K)||(B=g.a)}}else B=g.a}B==0&&ae.Oa!=null&&ae.Oa.fd&&(B=Ra(ae.ba))}ae=B}se=ae!=0?null:11>se?de.f.RGBA.eb:de.f.kb.y}else se=null;return se};var qE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(S,O){for(var H="",j=0;j<4;j++)H+=String.fromCharCode(S[O++]);return H}function c(S,O){return(S[O+0]<<0|S[O+1]<<8|S[O+2]<<16)>>>0}function h(S,O){return(S[O+0]<<0|S[O+1]<<8|S[O+2]<<16|S[O+3]<<24)>>>0}new a;var p=[0],m=[0],b=[],_=new a,C=t,w=function(S,O){var H={},j=0,T=!1,D=0,W=0;if(H.frames=[],!function(J,re,ee,he){for(var ve=0;ve<he;ve++)if(J[re+ve]!=ee.charCodeAt(ve))return!0;return!1}(S,O,"RIFF",4)){for(h(S,O+=4),O+=8;O<S.length;){var oe=u(S,O),V=h(S,O+=4);O+=4;var q=V+(1&V);switch(oe){case"VP8 ":case"VP8L":H.frames[j]===void 0&&(H.frames[j]={}),(ie=H.frames[j]).src_off=T?W:O-8,ie.src_size=D+V+8,j++,T&&(T=!1,D=0,W=0);break;case"VP8X":(ie=H.header={}).feature_flags=S[O];var z=O+4;ie.canvas_width=1+c(S,z),z+=3,ie.canvas_height=1+c(S,z),z+=3;break;case"ALPH":T=!0,D=q+8,W=O-8;break;case"ANIM":(ie=H.header).bgcolor=h(S,O),z=O+4,ie.loop_count=(be=S)[(Q=z)+0]<<0|be[Q+1]<<8,z+=2;break;case"ANMF":var ue,ie;(ie=H.frames[j]={}).offset_x=2*c(S,O),O+=3,ie.offset_y=2*c(S,O),O+=3,ie.width=1+c(S,O),O+=3,ie.height=1+c(S,O),O+=3,ie.duration=c(S,O),O+=3,ue=S[O++],ie.dispose=1&ue,ie.blend=ue>>1&1}oe!="ANMF"&&(O+=q)}var be,Q;return H}}(C,0);w.response=C,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,E=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],m=[y.canvas_width];for(var F=0;F<E.length&&E[F].blend!=0;F++);}var M=E[0],k=_.WebPDecodeRGBA(C,M.src_off,M.src_size,m,p);M.rgba=k,M.imgwidth=m[0],M.imgheight=p[0];for(var N=0;N<m[0]*p[0]*4;N++)b[N]=k[N];return this.width=m,this.height=p,this.data=b,this}(function(t){var e=function(){return typeof Yb=="function"},n=function(p,m,b,_){var C=4,w=o;switch(_){case t.image_compression.FAST:C=1,w=s;break;case t.image_compression.MEDIUM:C=6,w=l;break;case t.image_compression.SLOW:C=9,w=a}p=r(p,m,b,w);var y=Yb(p,{level:C});return t.__addimage__.arrayBufferToBinaryString(y)},r=function(p,m,b,_){for(var C,w,y,E=p.length/m,F=new Uint8Array(p.length+E),M=c(),k=0;k<E;k+=1){if(y=k*m,C=p.subarray(y,y+m),_)F.set(_(C,b,w),y+k);else{for(var N,S=M.length,O=[];N<S;N+=1)O[N]=M[N](C,b,w);var H=h(O.concat());F.set(O[H],y+k)}w=C}return F},i=function(p){var m=Array.apply([],p);return m.unshift(0),m},s=function(p,m){var b,_=[],C=p.length;_[0]=1;for(var w=0;w<C;w+=1)b=p[w-m]||0,_[w+1]=p[w]-b+256&255;return _},o=function(p,m,b){var _,C=[],w=p.length;C[0]=2;for(var y=0;y<w;y+=1)_=b&&b[y]||0,C[y+1]=p[y]-_+256&255;return C},l=function(p,m,b){var _,C,w=[],y=p.length;w[0]=3;for(var E=0;E<y;E+=1)_=p[E-m]||0,C=b&&b[E]||0,w[E+1]=p[E]+256-(_+C>>>1)&255;return w},a=function(p,m,b){var _,C,w,y,E=[],F=p.length;E[0]=4;for(var M=0;M<F;M+=1)_=p[M-m]||0,C=b&&b[M]||0,w=b&&b[M-m]||0,y=u(_,C,w),E[M+1]=p[M]-y+256&255;return E},u=function(p,m,b){if(p===m&&m===b)return p;var _=Math.abs(m-b),C=Math.abs(p-b),w=Math.abs(p+m-b-b);return _<=C&&_<=w?p:C<=w?m:b},c=function(){return[i,s,o,l,a]},h=function(p){var m=p.map(function(b){return b.reduce(function(_,C){return _+Math.abs(C)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(p,m,b,_){var C,w,y,E,F,M,k,N,S,O,H,j,T,D,W,oe=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new qq(p)).imgData,w=y.bits,C=y.colorSpace,F=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){S=(N=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,H=new Uint8Array(S*y.colors),O=new Uint8Array(S);var q,z=y.pixelBitlength-y.bits;for(D=0,W=0;D<S;D++){for(T=N[D],q=0;q<z;)H[W++]=T>>>q&255,q+=y.bits;O[D]=T>>>q&255}}if(y.bits===16){S=(N=new Uint32Array(y.decodePixels().buffer)).length,H=new Uint8Array(S*(32/y.pixelBitlength)*y.colors),O=new Uint8Array(S*(32/y.pixelBitlength)),j=y.colors>1,D=0,W=0;for(var ue=0;D<S;)T=N[D++],H[W++]=T>>>0&255,j&&(H[W++]=T>>>16&255,T=N[D++],H[W++]=T>>>0&255),O[ue++]=T>>>16&255;w=8}_!==t.image_compression.NONE&&e()?(p=n(H,y.width*y.colors,y.colors,_),k=n(O,y.width,1,_)):(p=H,k=O,oe=void 0)}if(y.colorType===3&&(C=this.color_spaces.INDEXED,M=y.palette,y.transparency.indexed)){var ie=y.transparency.indexed,be=0;for(D=0,S=ie.length;D<S;++D)be+=ie[D];if((be/=255)===S-1&&ie.indexOf(0)!==-1)E=[ie.indexOf(0)];else if(be!==S){for(N=y.decodePixels(),O=new Uint8Array(N.length),D=0,S=N.length;D<S;D++)O[D]=ie[N[D]];k=n(O,y.width,1)}}var Q=function(J){var re;switch(J){case t.image_compression.FAST:re=11;break;case t.image_compression.MEDIUM:re=13;break;case t.image_compression.SLOW:re=14;break;default:re=12}return re}(_);return oe===this.decode.FLATE_DECODE&&(V="/Predictor "+Q+" "),V+="/Colors "+F+" /BitsPerComponent "+w+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:b,data:p,index:m,filter:oe,decodeParameters:V,transparency:E,palette:M,sMask:k,predictor:Q,width:y.width,height:y.height,bitsPerComponent:w,colorSpace:C}}}})(Dt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new Jq(e),o=s.width,l=s.height,a=[];s.decodeAndBlitFrameRGBA(0,a);var u={data:a,width:o,height:l},c=new j2(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(Dt.API),za.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},za.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Zn.log("bit decode error:"+n)}},za.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var a=this.palette[s>>7-l&1];this.data[o+4*l]=a.blue,this.data[o+4*l+1]=a.green,this.data[o+4*l+2]=a.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},za.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=s>>4,a=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[a],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},za.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},za.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,a=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=a,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},za.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,a=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=a,this.data[c+2]=l,this.data[c+3]=255}this.pos+=t}},za.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},za.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},za.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new za(e,!1),o=s.width,l=s.height,a={data:s.getData(),width:o,height:l},u=new j2(100).encode(a,100);return t.processJPEG.call(this,u,n,r,i)}}(Dt.API),D4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new D4(e),o=s.width,l=s.height,a={data:s.getData(),width:o,height:l},u=new j2(100).encode(a,100);return t.processJPEG.call(this,u,n,r,i)}}(Dt.API),Dt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,a=0,u=0;u<i;u+=4){var c=r[u],h=r[u+1],p=r[u+2],m=r[u+3];s[l++]=c,s[l++]=h,s[l++]=p,o[a++]=m}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Dt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kd=Dt.API,d0=Kd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,a=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,m=t.length,b=0,_=l[0]||a,C=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=h&&Cn(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/c:0,C.push((l[r]||_)/a+p)),b=r;return C},U4=Kd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Kd.processArabic&&(t=Kd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:d0.apply(this,arguments).reduce(function(s,o){return s+o},0)},k4=function(t,e,n,r){for(var i=[],s=0,o=t.length,l=0;s!==o&&l+e[s]<n;)l+=e[s],s++;i.push(t.slice(0,s));var a=s;for(l=0;s!==o;)l+e[s]>r&&(i.push(t.slice(a,s)),l=0,a=s),l+=e[s],s++;return a!==s&&i.push(t.slice(a,s)),i},R4=function(t,e,n){n||(n={});var r,i,s,o,l,a,u,c=[],h=[c],p=n.textIndent||0,m=0,b=0,_=t.split(" "),C=d0.apply(this,[" ",n])[0];if(a=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var w=Array(a).join(" "),y=[];_.map(function(F){(F=F.split(/\s*\n/)).length>1?y=y.concat(F.map(function(M,k){return(k&&M.length?`
`:"")+M})):y.push(F[0])}),_=y,a=U4.apply(this,[w,n])}for(s=0,o=_.length;s<o;s++){var E=0;if(r=_[s],a&&r[0]==`
`&&(r=r.substr(1),E=1),p+m+(b=(i=d0.apply(this,[r,n])).reduce(function(F,M){return F+M},0))>e||E){if(b>e){for(l=k4.apply(this,[r,i,e-(p+m),e]),c.push(l.shift()),c=[l.pop()];l.length;)h.push([l.shift()]);b=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(F,M){return F+M},0)}else c=[r];h.push(c),p=b+a,m=C}else c.push(r),p+=m+b,m=C}return u=a?function(F,M){return(M?w:"")+F.join(" ")}:function(F){return F.join(" ")},h.map(u)},Kd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,a,u=[];for(l=0,a=r.length;l<a;l++)u=u.concat(R4.apply(this,[r[l],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var p,m,b,_,C=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=s(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof p=="number")p<0?(b=s(p).slice(3),_="-"):(b=s(p).slice(2),_=""),b=_+b.slice(0,-1)+r[b.slice(-1)];else{if(Cn(p)!=="object")throw new Error("Don't know what to do with value type "+Cn(p)+".");b=o(p)}C.push(m+b)}return C.push("}"),C.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,b,_,C={},w=1,y=C,E=[],F="",M="",k=h.length-1,N=1;N<k;N+=1)(_=h[N])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(_):_=="{"?(E.push([y,b]),y={},b=void 0):_=="}"?((m=E.pop())[0][m[1]]=y,b=void 0,y=m[0]):_=="-"?w=-1:b===void 0?n.hasOwnProperty(_)?(F+=n[_],b=parseInt(F,16)*w,w=1,F=""):F+=_:n.hasOwnProperty(_)?(M+=n[_],y[b]=parseInt(M,16)*w,w=1,b=void 0,M=""):M+=_;return C},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},c={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(Dt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(zp(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Dt),function(t){function e(){return(qt.canvg?Promise.resolve(qt.canvg):Ya(()=>import("./index.es-c8df89f1.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Dt.API.addSvgAsImage=function(n,r,i,s,o,l,a,u){if(isNaN(r)||isNaN(i))throw Zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=o;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(b){return b.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),r,i,s,o,a,u)})}}(),Dt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Dt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),a=[],u=0,c=0,h=0;function p(b,_){var C,w=!1;for(C=0;C<b.length;C+=1)b[C]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=l.length;for(h=0;h<m;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(Cn(t)==="object"){for(i in t)if(s=t[i],p(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")a.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&a.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+a.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,_=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?_.push("/"+b+" /"+n[b].value):_.push("/"+b+" "+n[b].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+i.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Dt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var l,a=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,p=s.length;h<p;++h){if(l=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(h),a.indexOf(l)==-1&&(a.push(l),a.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return c.join("");l=l.toString(16),c.push(u[4-l.length],l)}return c.join("")},r=function(s){var o,l,a,u,c,h,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],h=0,p=(l=Object.keys(s).sort(function(m,b){return m-b})).length;h<p;h++)o=l[h],a.length>=100&&(c+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),a.push("<"+o+"><"+u+">"));return a.length&&(c+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,a=o.out,u=o.newObject,c=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",b=0;b<p.length;b++)m+=String.fromCharCode(p[b]);var _=u();c({data:m,addLength1:!0,objectId:_}),a("endobj");var C=u();c({data:r(l.metadata.toUnicode),addLength1:!0,objectId:C}),a("endobj");var w=u();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+hh(l.fontName)),a("/FontFile2 "+_+" 0 R"),a("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),a("/Flags "+l.metadata.flags),a("/StemV "+l.metadata.stemV),a("/ItalicAngle "+l.metadata.italicAngle),a("/Ascent "+l.metadata.ascender),a("/Descent "+l.metadata.decender),a("/CapHeight "+l.metadata.capHeight),a(">>"),a("endobj");var y=u();a("<<"),a("/Type /Font"),a("/BaseFont /"+hh(l.fontName)),a("/FontDescriptor "+w+" 0 R"),a("/W "+t.API.PDFObject.convert(h)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+l.encoding+")"),a(">>"),a(">>"),a("endobj"),l.objectNumber=u(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+C+" 0 R"),a("/BaseFont /"+hh(l.fontName)),a("/Encoding /"+l.encoding),a("/DescendantFonts ["+y+" 0 R]"),a(">>"),a("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,a=o.out,u=o.newObject,c=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var b=u();c({data:p,addLength1:!0,objectId:b}),a("endobj");var _=u();c({data:r(l.metadata.toUnicode),addLength1:!0,objectId:_}),a("endobj");var C=u();a("<<"),a("/Descent "+l.metadata.decender),a("/CapHeight "+l.metadata.capHeight),a("/StemV "+l.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+b+" 0 R"),a("/Flags 96"),a("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),a("/FontName /"+hh(l.fontName)),a("/ItalicAngle "+l.metadata.italicAngle),a("/Ascent "+l.metadata.ascender),a(">>"),a("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+hh(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),a("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",a=s.x,u=s.y,c=s.options||{},h=s.mutex||{},p=h.pdfEscape,m=h.activeFontKey,b=h.fonts,_=m,C="",w=0,y="",E=b[_].encoding;if(b[_].encoding!=="Identity-H")return{text:l,x:a,y:u,options:c,mutex:h};for(y=l,_=m,Array.isArray(l)&&(y=l[0]),w=0;w<y.length;w+=1)b[_].metadata.hasOwnProperty("cmap")&&(o=b[_].metadata.cmap.unicode.codeMap[y[w].charCodeAt(0)]),o||y[w].charCodeAt(0)<256&&b[_].metadata.hasOwnProperty("Unicode")?C+=y[w]:C+="";var F="";return parseInt(_.slice(1))<14||E==="WinAnsiEncoding"?F=p(C,_).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(F=n(C,b[_])),h.isHex=!0,{text:F,x:a,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],a={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},a,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},a,{text:o[u]})).text);s.text=l}else s.text=i(Object.assign({},a,{text:o})).text}])}(Dt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Dt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,l,a,u,c,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,E=0;this.__bidiEngine__={};var F=function(j){var T=j.charCodeAt(),D=T>>8,W=_[D];return W!==void 0?h[256*W+(255&T)]:D===252||D===253?"AL":w.test(D)?"L":D===8?"R":"N"},M=function(j){for(var T,D=0;D<j.length;D++){if((T=F(j.charAt(D)))==="L")return!1;if(T==="R")return!0}return!1},k=function(j,T,D,W){var oe,V,q,z,ue=T[W];switch(ue){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(ue="AN");break;case"AL":y=!0,ue="R";break;case"WS":ue="N";break;case"CS":W<1||W+1>=T.length||(oe=D[W-1])!=="EN"&&oe!=="AN"||(V=T[W+1])!=="EN"&&V!=="AN"?ue="N":y&&(V="AN"),ue=V===oe?V:"N";break;case"ES":ue=(oe=W>0?D[W-1]:"B")==="EN"&&W+1<T.length&&T[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&D[W-1]==="EN"){ue="EN";break}if(y){ue="N";break}for(q=W+1,z=T.length;q<z&&T[q]==="ET";)q++;ue=q<z&&T[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=T.length,q=W+1;q<z&&T[q]==="NSM";)q++;if(q<z){var ie=j[W],be=ie>=1425&&ie<=2303||ie===64286;if(oe=T[q],be&&(oe==="R"||oe==="AL")){ue="R";break}}}ue=W<1||(oe=T[W-1])==="B"?"N":D[W-1];break;case"B":y=!1,i=!0,ue=E;break;case"S":s=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":ue="N"}return ue},N=function(j,T,D){var W=j.split("");return D&&S(W,D,{hiLevel:E}),W.reverse(),T&&T.reverse(),W.join("")},S=function(j,T,D){var W,oe,V,q,z,ue=-1,ie=j.length,be=0,Q=[],J=E?m:p,re=[];for(y=!1,i=!1,s=!1,oe=0;oe<ie;oe++)re[oe]=F(j[oe]);for(V=0;V<ie;V++){if(z=be,Q[V]=k(j,re,Q,V),W=240&(be=J[z][b[Q[V]]]),be&=15,T[V]=q=J[be][5],W>0)if(W===16){for(oe=ue;oe<V;oe++)T[oe]=1;ue=-1}else ue=-1;if(J[be][6])ue===-1&&(ue=V);else if(ue>-1){for(oe=ue;oe<V;oe++)T[oe]=q;ue=-1}re[V]==="B"&&(T[V]=0),D.hiLevel|=q}s&&function(ee,he,ve){for(var fe=0;fe<ve;fe++)if(ee[fe]==="S"){he[fe]=E;for(var ne=fe-1;ne>=0&&ee[ne]==="WS";ne--)he[ne]=E}}(re,T,ie)},O=function(j,T,D,W,oe){if(!(oe.hiLevel<j)){if(j===1&&E===1&&!i)return T.reverse(),void(D&&D.reverse());for(var V,q,z,ue,ie=T.length,be=0;be<ie;){if(W[be]>=j){for(z=be+1;z<ie&&W[z]>=j;)z++;for(ue=be,q=z-1;ue<q;ue++,q--)V=T[ue],T[ue]=T[q],T[q]=V,D&&(V=D[ue],D[ue]=D[q],D[q]=V);be=z}be++}}},H=function(j,T,D){var W=j.split(""),oe={hiLevel:E};return D||(D=[]),S(W,D,oe),function(V,q,z){if(z.hiLevel!==0&&c)for(var ue,ie=0;ie<V.length;ie++)q[ie]===1&&(ue=C.indexOf(V[ie]))>=0&&(V[ie]=C[ue+1])}(W,D,oe),O(2,W,T,D,oe),O(1,W,T,D,oe),W.join("")};return this.__bidiEngine__.doBidiReorder=function(j,T,D){if(function(oe,V){if(V)for(var q=0;q<oe.length;q++)V[q]=q;l===void 0&&(l=M(oe)),u===void 0&&(u=M(oe))}(j,T),o||!a||u)if(o&&a&&l^u)E=l?1:0,j=N(j,T,D);else if(!o&&a&&u)E=l?1:0,j=H(j,T,D),j=N(j,T);else if(!o||l||a||u){if(o&&!a&&l^u)j=N(j,T),l?(E=0,j=H(j,T,D)):(E=1,j=H(j,T,D),j=N(j,T));else if(o&&l&&!a&&u)E=1,j=H(j,T,D),j=N(j,T);else if(!o&&!a&&l^u){var W=c;l?(E=1,j=H(j,T,D),E=0,c=!1,j=H(j,T,D),c=W):(E=0,j=H(j,T,D),j=N(j,T),E=1,c=!1,j=H(j,T,D),c=W,j=N(j,T))}}else E=0,j=H(j,T,D);else E=l?1:0,j=H(j,T,D);return j},this.__bidiEngine__.setOptions=function(j){j&&(o=j.isInputVisual,a=j.isOutputVisual,l=j.isInputRtl,u=j.isOutputRtl,c=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new au(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new uJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Yq(this.contents),this.head=new Zq(this),this.name=new iJ(this),this.cmap=new Nk(this),this.toUnicode={},this.hhea=new eJ(this),this.maxp=new sJ(this),this.hmtx=new oJ(this),this.post=new nJ(this),this.os2=new tJ(this),this.loca=new cJ(this),this.glyf=new aJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,a,u;for(u=[],o=0,l=(a=this.bbox).length;o<l;o++)e=a[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ll,au=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,l,a;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^a)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*l+a},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Yq=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,l,a,u,c,h,p,m,b,_;for(_ in m=Object.keys(n).length,a=Math.log(2),h=16*Math.floor(Math.log(m)/a),o=Math.floor(h/a),c=16*m-h,(i=new au).writeInt(this.scalarType),i.writeShort(m),i.writeShort(h),i.writeShort(o),i.writeShort(c),s=16*m,u=i.pos+s,l=null,b=[],n)for(p=n[_],i.writeString(_),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),b=b.concat(p),_==="head"&&(l=u),u+=p.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=Tk.call(n);n.length%4;)n.push(0);for(s=new au(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Xq={}.hasOwnProperty,Yl=function(t,e){for(var n in e)Xq.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ll=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Zq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new au).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Q4=function(){function t(e,n){var r,i,s,o,l,a,u,c,h,p,m,b,_,C,w,y,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,s=function(){var F,M;for(M=[],a=F=0;0<=p?F<p:F>p;a=0<=p?++F:--F)M.push(e.readUInt16());return M}(),e.pos+=2,_=function(){var F,M;for(M=[],a=F=0;0<=p?F<p:F>p;a=0<=p?++F:--F)M.push(e.readUInt16());return M}(),u=function(){var F,M;for(M=[],a=F=0;0<=p?F<p:F>p;a=0<=p?++F:--F)M.push(e.readUInt16());return M}(),c=function(){var F,M;for(M=[],a=F=0;0<=p?F<p:F>p;a=0<=p?++F:--F)M.push(e.readUInt16());return M}(),i=(this.length-e.pos+this.offset)/2,l=function(){var F,M;for(M=[],a=F=0;0<=i?F<i:F>i;a=0<=i?++F:--F)M.push(e.readUInt16());return M}(),a=w=0,E=s.length;w<E;a=++w)for(C=s[a],r=y=b=_[a];b<=C?y<=C:y>=C;r=b<=C?++y:--y)c[a]===0?o=r+u[a]:(o=l[c[a]/2+(r-b)-(p-a)]||0)!==0&&(o+=u[a]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,l,a,u,c,h,p,m,b,_,C,w,y,E,F,M,k,N,S,O,H,j,T,D,W,oe,V,q,z,ue,ie,be,Q,J,re,ee,he,ve,fe,ne,te,Ae,xe;switch(W=new au,o=Object.keys(e).sort(function(ye,Fe){return ye-Fe}),n){case"macroman":for(_=0,C=function(){var ye=[];for(b=0;b<256;++b)ye.push(0);return ye}(),y={0:0},s={},oe=0,ue=o.length;oe<ue;oe++)y[ne=e[i=o[oe]]]==null&&(y[ne]=++_),s[i]={old:e[i],new:y[e[i]]},C[i]=y[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(C),{charMap:s,subtable:W.data,maxGlyphID:_+1};case"unicode":for(T=[],h=[],E=0,y={},r={},w=u=null,V=0,ie=o.length;V<ie;V++)y[M=e[i=o[V]]]==null&&(y[M]=++E),r[i]={old:M,new:y[M]},l=y[M]-i,w!=null&&l===u||(w&&h.push(w),T.push(i),u=l),w=i;for(w&&h.push(w),h.push(65535),T.push(65535),H=2*(O=T.length),S=2*Math.pow(Math.log(O)/Math.LN2,2),p=Math.log(S/2)/Math.LN2,N=2*O-S,a=[],k=[],m=[],b=q=0,be=T.length;q<be;b=++q){if(j=T[b],c=h[b],j===65535){a.push(0),k.push(0);break}if(j-(D=r[j].new)>=32768)for(a.push(0),k.push(2*(m.length+O-b)),i=z=j;j<=c?z<=c:z>=c;i=j<=c?++z:--z)m.push(r[i].new);else a.push(D-j),k.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*O+2*m.length),W.writeUInt16(0),W.writeUInt16(H),W.writeUInt16(S),W.writeUInt16(p),W.writeUInt16(N),ve=0,Q=h.length;ve<Q;ve++)i=h[ve],W.writeUInt16(i);for(W.writeUInt16(0),fe=0,J=T.length;fe<J;fe++)i=T[fe],W.writeUInt16(i);for(te=0,re=a.length;te<re;te++)l=a[te],W.writeUInt16(l);for(Ae=0,ee=k.length;Ae<ee;Ae++)F=k[Ae],W.writeUInt16(F);for(xe=0,he=m.length;xe<he;xe++)_=m[xe],W.writeUInt16(_);return{charMap:r,subtable:W.data,maxGlyphID:E+1}}},t}(),Nk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Q4(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Q4.encode(n,r),(s=new au).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),eJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),tJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),nJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,a,u;for(u=[],o=l=0,a=this.file.maxp.numGlyphs;0<=a?l<a:l>a;o=0<=a?++l:--l)u.push(n.readUInt32());return u}).call(this)}},e}(),rJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},iJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,l,a,u,c,h,p,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),a=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+a+n.readShort()});for(u={},o=h=0,p=i.length;h<p;o=++h)s=i[o],n.pos=s.offset,c=n.readString(s.length),l=new rJ(c,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),sJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),oJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,l,a,u;for(n.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)h.push(n.readInt16());return h}(),this.widths=(function(){var c,h,p,m;for(m=[],c=0,h=(p=this.metrics).length;c<h;c++)o=p[c],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],u=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Tk=[].slice,aJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,l,a,u,c,h,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(a=new au(r.read(s))).readShort(),c=a.readShort(),p=a.readShort(),u=a.readShort(),h=a.readShort(),this.cache[n]=l===-1?new AJ(a,c,p,u,h):new lJ(a,l,c,p,u,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,l,a,u;for(l=[],o=[],a=0,u=r.length;a<u;a++)s=n[r[a]],o.push(l.length),s&&(l=l.concat(s.encode(i)));return o.push(l.length),{table:l,offsets:o}},e}(),lJ=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),AJ=function(){function t(e,n,r,i,s){var o,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new au(Tk.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),cJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Yl(e,ll),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<i.length;++l)if(i[l]=s,o<r.length&&r[o]==l){++o,i[l]=s;var a=this.offsets[l],u=this.offsets[l+1]-a;u>0&&(s+=u)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},e}(),uJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,l,a;for(i={},o=0,l=e.length;o<l;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in a=this.glyphsFor(n))r=a[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,l,a,u,c,h,p,m,b,_,C,w;for(i in r=Nk.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},w=r.charMap)m[(a=w[i]).old]=a.new;for(b in p=r.maxGlyphID,o)b in m||(m[b]=p++);return c=function(y){var E,F;for(E in F={},y)F[y[E]]=E;return F}(m),h=Object.keys(c).sort(function(y,E){return y-E}),_=function(){var y,E,F;for(F=[],y=0,E=h.length;y<E;y++)l=h[y],F.push(c[l]);return F}(),s=this.font.glyf.encode(o,_,m),u=this.font.loca.encode(s.offsets,_),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t}();Dt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var l,a,u;for(u=[],l=0,a=n.length;l<a;l++)r=n[l],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const i_=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Vq,AcroFormAppearance:Et,AcroFormButton:pi,AcroFormCheckBox:Wp,AcroFormChoiceField:rd,AcroFormComboBox:sd,AcroFormEditBox:$p,AcroFormListBox:id,AcroFormPasswordField:qp,AcroFormPushButton:Gp,AcroFormRadioButton:od,AcroFormTextField:Gc,GState:Qm,ShadingPattern:Bc,TilingPattern:qu,default:Dt,jsPDF:Dt},Symbol.toStringTag,{value:"Module"}));function Fk(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,a=i.getLineHeightFactor?i.getLineHeightFactor():s,u=l*a,c=/\r\n|\r|\n/g,h="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(c):t,p=h.length||1),n+=l*(2-s),r.valign==="middle"?n-=p/2*u:r.valign==="bottom"&&(n-=p*u),r.halign==="center"||r.halign==="right"){var m=l;if(r.halign==="center"&&(m*=.5),h&&p>=1){for(var b=0;b<h.length;b++)i.text(h[b],e-i.getStringUnitWidth(h[b])*m,n),n+=u;return i}e-=i.getStringUnitWidth(t)*m}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var M4={},Kh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:M4=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,a=o.fontName;if(e.font&&(a=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[a];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(a,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return M4||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),s_=function(t,e){return s_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},s_(t,e)};function Pk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");s_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Lk=function(t){Pk(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function dJ(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hJ(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function _y(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function jk(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=Uk(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function Uk(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function W1(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function kk(t,e){var n=W1(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function fJ(t,e,n,r,i){var s={},o=1.3333333333333333,l=U2(e,function(E){return i.getComputedStyle(E).backgroundColor});l!=null&&(s.fillColor=l);var a=U2(e,function(E){return i.getComputedStyle(E).color});a!=null&&(s.textColor=a);var u=mJ(r,n);u&&(s.cellPadding=u);var c="borderTopColor",h=o*n,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var m=(parseFloat(p)||0)/h;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var b=U2(e,function(E){return i.getComputedStyle(E)[c]});b!=null&&(s.lineColor=b);var _=["left","right","center","justify"];_.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),_=["middle","bottom","top"],_.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var C=parseInt(r.fontSize||"");isNaN(C)||(s.fontSize=C/o);var w=pJ(r);w&&(s.fontStyle=w);var y=(r.fontFamily||"").toLowerCase();return t.indexOf(y)!==-1&&(s.font=y),s}function pJ(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function U2(t,e){var n=Rk(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Rk(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:Rk(t.parentElement,e):n}function mJ(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(l){return parseInt(l||"0")/r}),o=W1(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function Ok(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var a=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],h=[],p=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:c,body:h,foot:p};for(var m=0;m<l.rows.length;m++){var b=l.rows[m],_=(o=(s=b==null?void 0:b.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),C=gJ(a,u,n,b,r,i);C&&(_==="thead"?c.push(C):_==="tfoot"?p.push(C):h.push(C))}return{head:c,body:h,foot:p}}function gJ(t,e,n,r,i,s){for(var o=new Lk(r),l=0;l<r.cells.length;l++){var a=r.cells[l],u=n.getComputedStyle(a);if(i||u.display!=="none"){var c=void 0;s&&(c=fJ(t,a,e,u,n)),o.push({rowSpan:a.rowSpan,colSpan:a.colSpan,styles:c,_element:a,content:vJ(a)})}}var h=n.getComputedStyle(r);if(o.length>0&&(i||h.display!=="none"))return o}function vJ(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function yJ(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function bA(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=l[a])}return s}function AE(t,e){var n=new Kh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();yJ(i,r,e);var s=bA({},i,r,e),o;typeof window<"u"&&(o=window);var l=wJ(i,r,e),a=xJ(i,r,e),u=bJ(n,s),c=BJ(n,s,o);return{id:e.tableId,content:c,hooks:a,styles:l,settings:u}}function wJ(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(a){if(a==="columnStyles"){var u=t[a],c=e[a],h=n[a];r.columnStyles=bA({},u,c,h)}else{var p=[t,e,n],m=p.map(function(b){return b[a]||{}});r[a]=bA({},m[0],m[1],m[2])}},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];i(l)}return r}function xJ(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var l=o[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function bJ(t,e){var n,r,i,s,o,l,a,u,c,h,p,m,b=W1(e.margin,40/t.scaleFactor()),_=(n=_J(t,e.startY))!==null&&n!==void 0?n:b.top,C;e.showFoot===!0?C="everyPage":e.showFoot===!1?C="never":C=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var y=(s=e.useCss)!==null&&s!==void 0?s:!1,E=e.theme||(y?"plain":"striped"),F=!!e.horizontalPageBreak,M=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:y,theme:E,startY:_,margin:b,pageBreak:(a=e.pageBreak)!==null&&a!==void 0?a:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:w,showFoot:C,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:F,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function _J(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function BJ(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var l=Ok(t,e.html,n,o,e.useCss)||{};r=l.head||r,i=l.body||r,s=l.foot||r}else console.error("Cannot parse html in non browser environment")}var a=e.columns||CJ(r,i,s);return{columns:a,head:r,body:i,foot:s}}function CJ(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(r)?l=r[parseInt(s)]:l=r[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var a=0;a<o;a++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(a>0?"_".concat(a):"");var c={dataKey:u};i.push(c)}}),i}var By=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Dk=function(t){Pk(e,t);function e(n,r,i,s,o,l){var a=t.call(this,n,r,l)||this;return a.cell=i,a.row=s,a.column=o,a.section=s.section,a}return e}(By),Qk=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var l=0,a=n;l<a.length;l++){var u=a[l],c=new Dk(e,this,r,i,s,o),h=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new By(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new By(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),cE=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Lk&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var l=n.getLineHeight(o.styles.fontSize),a=o.padding("vertical"),u=a+l;return u>i?u:i},0)},t}(),uE=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=W1(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Mk=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function EJ(t,e){SJ(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=o_(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=o_(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),NJ(e),TJ(e,t),IJ(e)}function SJ(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=kk(t,e);e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var a=l[o],u=s.cells[a.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,a,null);var h=u.padding("horizontal");u.contentWidth=_y(u.text,u.styles,t)+h;var p=_y(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/n;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var a=l[o],u=s.cells[a.index];if(u&&u.colSpan===1)a.wrappedWidth=Math.max(a.wrappedWidth,u.wrappedWidth),a.minWidth=Math.max(a.minWidth,u.minWidth),a.minReadableWidth=Math.max(a.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[a.dataKey]||e.styles.columnStyles[a.index]||{},h=c.cellWidth||c.minCellWidth;h&&typeof h=="number"&&(a.minWidth=h,a.wrappedWidth=h)}u&&(u.colSpan>1&&!a.minWidth&&(a.minWidth=u.minWidth),u.colSpan>1&&!a.wrappedWidth&&(a.wrappedWidth=u.minWidth))}})}function o_(t,e,n){for(var r=e,i=t.reduce(function(m,b){return m+b.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],l=o.wrappedWidth/i,a=r*l,u=o.width+a,c=n(o),h=u<c?c:u;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(m){return e<0?m.width>n(m):!0});p.length&&(e=o_(p,e,n))}return e}function IJ(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,l=t.columns;o<l.length;o++){var a=l[o],u=e[a.index];if(n>1)n--,delete s.cells[a.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[a.index],u.left--,u.left<=1&&delete e[a.index];else{var c=s.cells[a.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var h=r.length-i,p=c.rowSpan>h?h:c.rowSpan;e[a.index]={cell:c,left:p,row:s}}}}}function NJ(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,l=0;l<t.columns.length;l++){var a=t.columns[l];if(o-=1,o>1&&t.columns[l+1])s+=a.width,delete r.cells[a.index];else if(i){var u=i;delete r.cells[a.index],i=null,u.width=a.width+s}else{var u=r.cells[a.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=a.width;continue}u.width=a.width+s}}}function TJ(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,l=t.columns;o<l.length;o++){var a=l[o],u=s.cells[a.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=H4(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=H4(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,c);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<p*u.rowSpan?n={height:p,count:u.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>s.height&&(s.height=p)}}n.count--}}function H4(t,e,n,r,i){return t.map(function(s){return FJ(s,e,n,r,i)})}function FJ(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=_y(t,n,r))return t;for(;e<_y(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function dE(t,e){var n=new Kh(t),r=PJ(e,n.scaleFactor()),i=new Qk(e,r);return EJ(n,i),n.applyStyles(n.userStyles),i}function PJ(t,e){var n=t.content,r=jJ(n.columns);if(n.head.length===0){var i=V4(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=V4(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:k2("head",n.head,r,o,s,e),body:k2("body",n.body,r,o,s,e),foot:k2("foot",n.foot,r,o,s,e)}}function k2(t,e,n,r,i,s){var o={},l=e.map(function(a,u){for(var c=0,h={},p=0,m=0,b=0,_=n;b<_.length;b++){var C=_[b];if(o[C.index]==null||o[C.index].left===0)if(m===0){var w=void 0;Array.isArray(a)?w=a[C.index-p-c]:w=a[C.dataKey];var y={};typeof w=="object"&&!Array.isArray(w)&&(y=(w==null?void 0:w.styles)||{});var E=UJ(t,C,u,i,r,s,y),F=new uE(w,E,t);h[C.dataKey]=F,h[C.index]=F,m=F.colSpan-1,o[C.index]={left:F.rowSpan-1,times:m}}else m--,p++;else o[C.index].left--,m=o[C.index].times,c++}return new cE(a,u,t,h)});return l}function V4(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=LJ(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function LJ(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function jJ(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Mk(i,e,n)})}function UJ(t,e,n,r,i,s,o){var l=hJ(r),a;t==="head"?a=i.headStyles:t==="body"?a=i.bodyStyles:t==="foot"&&(a=i.footStyles);var u=bA({},l.table,l[t],i.styles,a),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?c:{},p=t==="body"&&n%2===0?bA({},l.alternateRow,i.alternateRowStyles):{},m=dJ(s),b=bA({},m,u,p,h);return bA(b,o)}function kJ(t,e,n){var r;n===void 0&&(n={});var i=kk(t,e),s=new Map,o=[],l=[],a=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?a=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(a=[e.settings.horizontalPageBreakRepeat]),a.forEach(function(p){var m=e.columns.find(function(b){return b.dataKey===p||b.index===p});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),l.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(s.has(c)){c++;continue}var h=e.columns[c].wrappedWidth;if(u||i>=h)u=!1,o.push(c),l.push(e.columns[c]),i-=h;else break;c++}return{colIndexes:o,columns:l,lastIndex:c-1}}function RJ(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=kJ(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function hE(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+o;if(n.pageBreak==="avoid"){var a=e.body,u=a.reduce(function(p,m){return p+m.height},0);l+=u}var c=new Kh(t);(n.pageBreak==="always"||n.startY!=null&&l>c.pageSize().height)&&(Vk(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var h=bA({},s);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?OJ(c,e,h,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(p){return OA(c,e,p,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(p,m){var b=m===e.body.length-1;Cy(c,e,p,b,h,s,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(p){return OA(c,e,p,s,e.columns)})),jk(c,e,h,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function OJ(t,e,n,r){var i=RJ(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Jp(t,e,n,r,u.columns,!0):K4(t,e,r,u.columns),DJ(t,e,n,r,u.columns),R2(t,e,r,u.columns)});else for(var o=-1,l=i[0],a=function(){var u=o;if(l){t.applyStyles(t.userStyles);var c=l.columns;o>=0?Jp(t,e,n,r,c,!0):K4(t,e,r,c),u=z4(t,e,o+1,r,c),R2(t,e,r,c)}var h=u-o;i.slice(1).forEach(function(p){t.applyStyles(t.userStyles),Jp(t,e,n,r,p.columns,!0),z4(t,e,o+1,r,p.columns,h),R2(t,e,r,p.columns)}),o=u};o<e.body.length-1;)a()}function K4(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return OA(t,e,s,n,r)})}function DJ(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var l=o===e.body.length-1;Cy(t,e,s,l,n,r,i)})}function z4(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),l=-1;return e.body.slice(n,o).forEach(function(a,u){var c=n+u===e.body.length-1,h=Hk(t,e,c,r);a.canEntireRowFit(h,i)&&(OA(t,e,a,r,i),l=n+u)}),l}function R2(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return OA(t,e,s,n,r)})}function QJ(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function MJ(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,l=n.columns;o<l.length;o++){var a=l[o],u=t.cells[a.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new uE(u.raw,u.styles,u.section);c=bA(c,u),c.text=[];var h=QJ(u,e,r);u.text.length>h&&(c.text=u.text.splice(h,u.text.length));var p=r.scaleFactor(),m=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,m),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(p,m),c.contentHeight>s&&(s=c.contentHeight),i[a.index]=c}}var b=new cE(t.raw,-1,t.section,i,!0);b.height=s;for(var _=0,C=n.columns;_<C.length;_++){var a=C[_],c=b.cells[a.index];c&&(c.height=b.height);var u=t.cells[a.index];u&&(u.height=t.height)}return b}function HJ(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,l=i-o;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var a=e.getMinimumRowHeight(r.columns,t),u=a<n;if(a>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>l;return h?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function Cy(t,e,n,r,i,s,o){var l=Hk(t,e,r,s);if(n.canEntireRowFit(l,o))OA(t,e,n,s,o);else if(HJ(t,n,l,e)){var a=MJ(n,l,e,t);OA(t,e,n,s,o),Jp(t,e,i,s,o),Cy(t,e,a,r,i,s,o)}else Jp(t,e,i,s,o),Cy(t,e,n,r,i,s,o)}function OA(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var l=o[s],a=n.cells[l.index];if(!a){r.x+=l.width;continue}t.applyStyles(a.styles),a.x=r.x,a.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,a,n,l,r);if(u===!1){r.x+=l.width;continue}VJ(t,a,r);var c=a.getTextPos();Fk(a.text,c.x,c.y,{halign:a.styles.halign,valign:a.styles.valign,maxWidth:Math.ceil(a.width-a.padding("left")-a.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,a,n,l,r),r.x+=l.width}r.y+=n.height}function VJ(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=Uk(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),KJ(t,e,n,r.lineWidth))}function KJ(t,e,n,r){var i,s,o,l;r.top&&(i=n.x,s=n.y,o=n.x+e.width,l=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),a(r.top,i,s,o,l)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,l=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),a(r.bottom,i,s,o,l)),r.left&&(i=n.x,s=n.y,o=n.x,l=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),a(r.left,i,s,o,l)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,l=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),a(r.right,i,s,o,l));function a(u,c,h,p,m){t.getDocument().setLineWidth(u),t.getDocument().line(c,h,p,m,"S")}}function Hk(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Jp(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return OA(t,e,l,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;jk(t,e,n,r),Vk(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return OA(t,e,l,r,i)}),t.applyStyles(t.userStyles))}function Vk(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Kk(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=AE(this,r),s=dE(this,i);return hE(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){Fk(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Kh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Kh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Kh(this),s=Ok(i,e,window,n,!1),o=s.head,l=s.body,a=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:a,rows:l,data:l}}}var O2;function a_(t,e){var n=AE(t,e),r=dE(t,n);hE(t,r)}function zJ(t,e){var n=AE(t,e);return dE(t,n)}function $J(t,e){hE(t,e)}try{if(typeof window<"u"&&window){var $4=window,G4=$4.jsPDF||((O2=$4.jspdf)===null||O2===void 0?void 0:O2.jsPDF);G4&&Kk(G4)}}catch(t){console.error("Could not apply autoTable plugin",t)}const GJ=Object.freeze(Object.defineProperty({__proto__:null,Cell:uE,CellHookData:Dk,Column:Mk,HookData:By,Row:cE,Table:Qk,__createTable:zJ,__drawTable:$J,applyPlugin:Kk,autoTable:a_,default:a_},Symbol.toStringTag,{value:"Module"}));function WJ(){const[t,e]=Y.useState([]),[n,r]=Y.useState([]),[i,s]=Y.useState([]),[o,l]=Y.useState("");Y.useEffect(()=>{const h=localStorage.getItem("company")??"",p=JSON.parse(localStorage.getItem(`driverList_${h}`)||localStorage.getItem("driverList")||"[]");r(p);const m=JSON.parse(localStorage.getItem(`projectList_${h}`)||localStorage.getItem("projectList")||"[]");s(m)},[]),Y.useEffect(()=>{const h=new Date().getFullYear(),p=String(new Date().getMonth()+1).padStart(2,"0"),m=`confirmedShift_${h}_${p}`,b=JSON.parse(localStorage.getItem(m)||"{}"),_=[];Object.entries(b).forEach(([C,w])=>{Object.entries(w).forEach(([y,E])=>{(Array.isArray(E)?E:[E]).forEach(F=>{_.push({date:y,driverId:String(C),project:F.project})})})}),e(_)},[n]);const a=h=>{var b;const p=t.filter(_=>_.driverId===h);let m=0;for(const _ of p){const C=Number(((b=i.find(w=>w.name===_.project))==null?void 0:b.unitPrice)??0)||0;m+=C}return m},u=h=>{var C;const p=new Dt,m=t.filter(w=>w.driverId===h.id),b=a(h.id);p.setFontSize(14),p.text("支払明細書",105,20,{align:"center"}),p.setFontSize(11),p.text(`氏名：${h.name}`,20,40),p.text(`住所：${h.address||"未登録"}`,20,48),p.text(`電話番号：${h.phone||"未登録"}`,20,56),h.type==="委託"&&h.invoiceNumber&&p.text(`インボイス番号：${h.invoiceNumber}`,20,64),a_(p,{head:[["日付","案件名","単価"]],body:m.map(w=>{var E;const y=Number(((E=i.find(F=>F.name===w.project))==null?void 0:E.unitPrice)??0)||0;return[w.date,w.project,`${y.toLocaleString()}円`]}),startY:80});const _=((C=p.lastAutoTable)==null?void 0:C.finalY)??80;p.text(`合計金額：${b.toLocaleString()}円（税込）`,20,_+10),p.save(`${h.name}_支払明細書.pdf`)},c=Y.useMemo(()=>o?n.filter(h=>String(h.id)===String(o)):n,[n,o]);return d.jsxs("div",{className:"p-4",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"支払明細書出力"}),d.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-700",children:"ドライバー:"}),d.jsxs("select",{className:"border rounded px-2 py-1",value:o,onChange:h=>l(h.target.value),children:[d.jsx("option",{value:"",children:"— 選択してください —"}),n.map(h=>d.jsx("option",{value:String(h.id),children:h.name},String(h.id)))]})]}),d.jsxs("table",{className:"table-auto w-full border",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-200",children:[d.jsx("th",{className:"border px-2 py-1",children:"ドライバー"}),d.jsx("th",{className:"border px-2 py-1",children:"件数"}),d.jsx("th",{className:"border px-2 py-1",children:"合計金額"}),d.jsx("th",{className:"border px-2 py-1",children:"操作"})]})}),d.jsxs("tbody",{children:[c.map(h=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-2 py-1",children:h.name}),d.jsx("td",{className:"border px-2 py-1",children:t.filter(p=>p.driverId===String(h.id)).length}),d.jsxs("td",{className:"border px-2 py-1",children:[a(String(h.id)).toLocaleString(),"円"]}),d.jsx("td",{className:"border px-2 py-1",children:d.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>u(h),children:"PDF出力"})})]},String(h.id))),c.length===0&&d.jsx("tr",{children:d.jsx("td",{className:"border px-2 py-4 text-center text-sm",colSpan:4,children:"ドライバーを選択してください"})})]})]})]})}const qJ=(t,e)=>(Array.isArray(t)?t:[]).filter(n=>{if(!n)return!1;const r=n.name??n.fullName??n.displayName??n.driverName??"";return e.has(String(r))||"unitPrice"in n||"startTime"in n||"endTime"in n||"color"in n||"textColor"in n?!1:!!((n.id??n.uid??n.loginId??n.driverId??"")&&r)}).map(n=>({id:n.id??n.uid??n.loginId??n.driverId??"",name:n.name??n.fullName??n.displayName??n.driverName??""})),JJ=(t,e)=>{const n=[],r=new Date(t,e-1,1);for(;r.getMonth()===e-1;){const i=new Date(r),s=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),l=String(i.getDate()).padStart(2,"0");n.push({date:i,day:i.getDay(),dateStr:`${s}-${o}-${l}`}),r.setDate(r.getDate()+1)}return n};var DT,QT,MT,HT;const YJ=((QT=(DT=typeof process<"u"?process:void 0)==null?void 0:DT.env)==null?void 0:QT.NEXT_PUBLIC_API_BASE)||((HT=(MT=typeof import.meta<"u"?import.meta:void 0)==null?void 0:MT.env)==null?void 0:HT.VITE_API_BASE_URL)||"",XJ=(t,e)=>{if(!t)return e;const n=t.replace(/\/+$/,""),r=e.replace(/^\/+/,"");return`${n}/${r}`};async function Za(t,e){const n=XJ(YJ,t),r={Accept:"application/json",...(e==null?void 0:e.headers)||{}},i=await fetch(n,{credentials:"include",...e,headers:r});if(!i.ok){const o=await i.text().catch(()=>""),l=new Error(`HTTP ${i.status} at ${n}
${o.slice(0,200)}`);throw l.status=i.status,l}const s=i.headers.get("content-type")||"";if(!s.includes("application/json")){const o=await i.text().catch(()=>""),l=new Error(`Expected JSON but got "${s||"unknown"}" from ${n}
${o.slice(0,200)}`);throw l.status=415,l}return i.json()}async function Ul(){var t,e;try{const{getAuth:n}=await Ya(()=>import("./index.esm-fc044e20.js"),[],import.meta.url),r=await((e=(t=n().currentUser)==null?void 0:t.getIdToken)==null?void 0:e.call(t));return r?{Authorization:`Bearer ${r}`}:{}}catch{return{}}}const ZJ={list:async t=>Za(`/api/drivers?company=${encodeURIComponent(t)}`,{headers:await Ul()})},Su={get:async(t,e,n)=>Za(`/api/shifts?company=${encodeURIComponent(t)}&year=${e}&month=${n}`,{headers:await Ul()}),put:async t=>Za("/api/shifts",{method:"PUT",headers:{"Content-Type":"application/json",...await Ul()},body:JSON.stringify(t)}),setConfirmed:async(t,e,n,r)=>Za("/api/shifts/confirm",{method:"POST",headers:{"Content-Type":"application/json",...await Ul()},body:JSON.stringify({company:t,year:e,month:n,value:r})}),setResultConfirmed:async(t,e,n,r)=>Za("/api/shifts/result-confirm",{method:"POST",headers:{"Content-Type":"application/json",...await Ul()},body:JSON.stringify({company:t,year:e,month:n,value:r})})},Gf={getAbbr:async t=>Za(`/api/settings/abbr?company=${encodeURIComponent(t)}`,{headers:await Ul()}),putAbbr:async(t,e)=>Za("/api/settings/abbr",{method:"PUT",headers:{"Content-Type":"application/json",...await Ul()},body:JSON.stringify({company:t,abbr:e})}),getRequired:async(t,e,n)=>Za(`/api/settings/required?company=${encodeURIComponent(t)}&year=${e}&month=${n}`,{headers:await Ul()}),putRequired:async(t,e,n,r)=>Za("/api/settings/required",{method:"PUT",headers:{"Content-Type":"application/json",...await Ul()},body:JSON.stringify({company:t,year:e,month:n,required:r})}),putProjectStyles:async(t,e)=>Za("/api/settings/project-styles",{method:"PUT",headers:{"Content-Type":"application/json",...await Ul()},body:JSON.stringify({company:t,styles:e})})},eY=({value:t,onChange:e,disabled:n})=>d.jsxs("select",{className:`ml-1 border rounded px-1 py-0.5 text-xs bg-white text-slate-900
               focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500`,value:t??"normal",onChange:r=>e(r.target.value),disabled:n,children:[d.jsx("option",{value:"normal",children:"ー"}),d.jsx("option",{value:"late",children:"遅刻"}),d.jsx("option",{value:"early",children:"早退"}),d.jsx("option",{value:"absent",children:"欠勤"})]}),tY=()=>{const t=new Date,[e,n]=Y.useState(t.getFullYear()),[r,i]=Y.useState(t.getMonth()+1),[s,o]=Y.useState(!1),[l,a]=Y.useState(""),u=Y.useCallback(te=>`${te}_${l}_${e}_${r}`,[l,e,r]),[c,h]=Y.useState([]),p=Y.useMemo(()=>new Set(c.map(te=>String(te.name))),[c]),m=Y.useMemo(()=>Object.fromEntries(c.map(te=>[te.name,Number(te.unitPrice)||0])),[c]),[b,_]=Y.useState([]),[C,w]=Y.useState({}),[y,E]=Y.useState({}),[F,M]=Y.useState({}),[k,N]=Y.useState(!1),[S,O]=Y.useState(!1),[H,j]=Y.useState(!1),[T,D]=Y.useState(!1),[W,oe]=Y.useState(!0),V=Y.useMemo(()=>JJ(e,r),[e,r]);Y.useEffect(()=>{try{const te=JSON.parse(localStorage.getItem("currentUser")||"{}"),Ae=localStorage.getItem("company")||"",xe=(te==null?void 0:te.company)||"";a(Ae||xe||"")}catch{a("")}},[]),Y.useEffect(()=>{l||(async()=>{var te,Ae,xe;try{const{getAuth:ye}=await Ya(()=>import("./index.esm-fc044e20.js"),[],import.meta.url),Fe=await((Ae=(te=ye().currentUser)==null?void 0:te.getIdTokenResult)==null?void 0:Ae.call(te)),Ce=(xe=Fe==null?void 0:Fe.claims)==null?void 0:xe.company;if(Ce){a(String(Ce)),localStorage.setItem("company",String(Ce));return}}catch{}try{const ye=await Za("/api/me");ye!=null&&ye.company&&(a(String(ye.company)),localStorage.setItem("company",String(ye.company)))}catch{}})()},[l]),Y.useEffect(()=>{if(!l){_([]);return}let te=!1;const Ae=async()=>{try{const ye=await ZJ.list(l);te||_(qJ(ye,p))}catch(ye){console.warn("drivers fetch failed",(ye==null?void 0:ye.status)||ye),te||_([])}};Ae();const xe=()=>Ae();return window.addEventListener("drivers:changed",xe),()=>{te=!0,window.removeEventListener("drivers:changed",xe)}},[l,p]),Y.useEffect(()=>{const te=localStorage.getItem("projectList");if(te){const xe=JSON.parse(te).map(ye=>({...ye,color:ye.color||"#cccccc"}));h(xe),localStorage.setItem("projectList",JSON.stringify(xe))}else h([])},[]),Y.useEffect(()=>{if(!l)return;let te=!1;return(async()=>{oe(!0);try{const Ae=await Su.get(l,e,r);if(te)return;w((Ae==null?void 0:Ae.shifts)??{}),j(!!(Ae!=null&&Ae.confirmed)),D(!!(Ae!=null&&Ae.resultConfirmed))}catch{const xe=u("shifts"),ye=localStorage.getItem(xe);ye&&w(JSON.parse(ye)),j(localStorage.getItem(u("confirmedShift"))==="true"),D(localStorage.getItem(u("confirmedResult"))==="true")}finally{te||(oe(!1),o(!0))}})(),()=>{te=!0}},[l,e,r,u]),Y.useEffect(()=>{if(!l)return;let te=!1;return(async()=>{try{const Ae=await Gf.getAbbr(l);te||E(Ae||{})}catch{const Ae=localStorage.getItem("projectAbbreviations");!te&&Ae&&E(JSON.parse(Ae))}})(),()=>{te=!0}},[l]),Y.useEffect(()=>{if(!l)return;let te=!1;return(async()=>{try{const Ae=await Gf.getRequired(l,e,r);te||M(Ae||{})}catch{const Ae=localStorage.getItem(u("requiredPersonnel"));!te&&Ae&&M(JSON.parse(Ae))}})(),()=>{te=!0}},[l,e,r,u]),Y.useEffect(()=>{if(!(!s||!l))try{localStorage.setItem(u("shifts"),JSON.stringify(C))}catch(te){console.error("自動保存失敗",te)}},[C,l,e,r,s,u]);const q=(te,Ae)=>b.reduce((xe,ye)=>{var Ce,me;const Fe=Array.isArray((Ce=C[ye.id])==null?void 0:Ce[te])?C[ye.id][te]:(me=C[ye.id])!=null&&me[te]?[C[ye.id][te]]:[];return xe+Fe.filter(Ye=>Ye.project===Ae).length},0),z=te=>V.reduce((Ae,xe)=>{var Ce,me;const Fe=(Array.isArray((Ce=C[te])==null?void 0:Ce[xe.dateStr])?C[te][xe.dateStr]:(me=C[te])!=null&&me[xe.dateStr]?[C[te][xe.dateStr]]:[]).reduce((Ye,We)=>{if(We.status==="absent")return Ye;const Qe=c.find(Nt=>Nt.name===We.project);if(!Qe||!Qe.startTime||!Qe.endTime)return Ye;const[Ve,ze]=Qe.startTime.split(":").map(Number),[Je,ft]=Qe.endTime.split(":").map(Number);return Ye+Math.max(Je*60+ft-(Ve*60+ze),0)},0);return Ae+Fe},0),ue=te=>V.some(Ae=>{const xe=`${te.name}_${Ae.dateStr}`;return(F[xe]||0)>0?!0:q(Ae.dateStr,te.name)>0}),ie=Y.useMemo(()=>c.filter(ue),[c,V,F,b,C]);function be(te,Ae,xe,ye){w(Fe=>{var We,Qe;const Ce=Array.isArray((We=Fe==null?void 0:Fe[te])==null?void 0:We[Ae])?[...Fe[te][Ae]]:(Qe=Fe==null?void 0:Fe[te])!=null&&Qe[Ae]?[Fe[te][Ae]]:[],me=xe?[...Ce,{project:xe,unitPrice:m[xe]??0}]:ye!=null?Ce.filter((Ve,ze)=>ze!==ye):Ce.slice(0,-1),Ye={...Fe,[te]:{...Fe[te],[Ae]:me}};return(async()=>{try{await Su.put({company:l,year:e,month:r,shifts:Ye})}catch(Ve){console.warn("shifts save failed; kept local cache",(Ve==null?void 0:Ve.status)||Ve),localStorage.setItem(u("shifts"),JSON.stringify(Ye))}})(),Ye})}const Q=({driverId:te,dateStr:Ae})=>{var Ce,me;const xe=Array.isArray((Ce=C[te])==null?void 0:Ce[Ae])?C[te][Ae]:(me=C[te])!=null&&me[Ae]?[C[te][Ae]]:[],[ye,Fe]=Y.useState(!1);return H?d.jsx("div",{className:"flex flex-col gap-0.5",children:xe.map((Ye,We)=>{const Qe=c.find(Je=>Je.name===Ye.project);if(!Qe)return null;const Ve=Ye.status==="absent"?"#9ca3af":Qe.color,ze=y[Qe.name]||Qe.name;return d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"badge-cell rounded-md",style:{backgroundColor:Ve,color:Qe.textColor},children:ze}),T?d.jsx("span",{className:"badge-cell-status-big bg-gray-300",title:Ye.status,children:{late:"遅",early:"早",absent:"欠",normal:""}[Ye.status??"normal"]}):d.jsx(eY,{value:Ye.status,disabled:!1,onChange:Je=>{w(ft=>{const Nt=[...xe];Nt[We]={...Nt[We],status:Je};const It={...ft,[te]:{...ft[te],[Ae]:Nt}};return(async()=>{try{await Su.put({company:l,year:e,month:r,shifts:It})}catch{localStorage.setItem(u("shifts"),JSON.stringify(It))}})(),It})}})]},We)})}):d.jsxs("div",{className:"flex flex-col gap-0.5",children:[xe.map((Ye,We)=>{const Qe=c.find(Ve=>Ve.name===Ye.project);return Qe?d.jsx("div",{className:"h-6 w-24 rounded-md text-xs font-bold flex justify-center items-center cursor-pointer",style:{backgroundColor:Qe.color,color:Qe.textColor},title:"クリックで削除",onClick:()=>be(te,Ae,null,We),children:y[Qe.name]||Qe.name},We):null}),ye?d.jsxs("select",{autoFocus:!0,onBlur:()=>Fe(!1),className:"border text-xs rounded-md py-0.5 w-24",onChange:Ye=>{Ye.target.value&&be(te,Ae,Ye.target.value),Fe(!1)},children:[d.jsx("option",{value:"",children:"案件選択"}),c.map(Ye=>d.jsx("option",{value:Ye.name,children:y[Ye.name]||Ye.name},Ye.id??Ye.name))]}):d.jsx("button",{type:"button",className:"h-6 w-24 border border-dashed text-xs text-gray-500 rounded",onClick:()=>Fe(!0),children:"＋ 追加"})]})},J=async()=>{try{await Gf.putAbbr(l,y);const te=c.map(Ae=>({name:Ae.name,color:Ae.color||"#cccccc",textColor:Ae.textColor||"#000000"}));try{await Gf.putProjectStyles(l,te)}catch{}localStorage.setItem("projectAbbreviations",JSON.stringify(y)),localStorage.setItem("projectList",JSON.stringify(c)),N(!1)}catch{alert("略称の保存に失敗しました。ネットワークをご確認ください。")}},re=async()=>{var ye;try{await Su.setConfirmed(l,e,r,!0),j(!0)}catch{localStorage.setItem(u("confirmedShift"),"true"),j(!0)}const[{default:te}]=await Promise.all([Ya(()=>Promise.resolve().then(()=>i_),void 0,import.meta.url)]),{default:Ae}=await Ya(()=>Promise.resolve().then(()=>GJ),void 0,import.meta.url),xe=`${e}-${String(r).padStart(2,"0")}`;for(const Fe of b){const Ce=Object.values((C==null?void 0:C[Fe.id])||{}).reduce((Ve,ze)=>ze?Ve.concat(Array.isArray(ze)?ze:[ze]):Ve,[]);if(Ce.length===0)continue;const me=Ce.reduce((Ve,ze)=>Ve+((ze==null?void 0:ze.unitPrice)??0),0),Ye=new te;Ye.setFontSize(14),Ye.text("発注書",105,20,{align:"center"}),Ye.setFontSize(11),Ye.text(`対象月：${xe}`,20,34),Ye.text(`氏名　：${Fe.name}`,20,42),Ye.text(`住所　：${Fe.address??"未登録"}`,20,50),Ye.text(`電話　：${Fe.phone??"未登録"}`,20,58),Ae(Ye,{head:[["案件名","単価(円/日)"]],body:Ce.map(Ve=>[Ve.project,Ve.unitPrice.toLocaleString()]),startY:70,styles:{fontSize:10}});const We=((ye=Ye.lastAutoTable)==null?void 0:ye.finalY)??70;Ye.text(`合計金額：${me.toLocaleString()} 円（税込）`,20,We+10);const Qe=`PO_${e}${String(r).padStart(2,"0")}_${Fe.id}.pdf`;Ye.save(Qe)}},ee=async()=>{if(window.confirm("本当に未確定に戻しますか？再度編集が可能になります。")){try{await Su.setConfirmed(l,e,r,!1),await Su.setResultConfirmed(l,e,r,!1)}catch{localStorage.removeItem(u("confirmedShift")),localStorage.removeItem(u("confirmedResult"))}j(!1),D(!1)}},he=async()=>{const te=document.querySelector("table");if(!te)return;te.classList.add("pdf-export");const[{default:Ae},{default:xe}]=await Promise.all([Ya(()=>Promise.resolve().then(()=>FE),void 0,import.meta.url),Ya(()=>Promise.resolve().then(()=>i_),void 0,import.meta.url)]),ye=await Ae(te,{scale:3,scrollX:0,scrollY:0,windowWidth:te.scrollWidth,windowHeight:te.scrollHeight});te.classList.remove("pdf-export");const Fe=ye.toDataURL("image/png"),Ce=new xe({orientation:"landscape",unit:"mm",format:"a4"}),me=Ce.internal.pageSize.getWidth(),Ye=Ce.internal.pageSize.getHeight(),We=ye.height/ye.width,Qe=me*We;if(Qe<=Ye)Ce.addImage(Fe,"PNG",0,0,me,Qe);else{let Ve=0;const ze=ye.width*(Ye/me);for(;Ve<ye.height;){const Je=Math.min(ze,ye.height-Ve),ft=document.createElement("canvas");ft.width=ye.width,ft.height=Je,ft.getContext("2d").drawImage(ye,0,Ve,ye.width,Je,0,0,ye.width,Je),Ce.addImage(ft.toDataURL("image/png"),"PNG",0,0,me,Ye),Ve+=Je,Ve<ye.height&&Ce.addPage()}}Ce.save(`${e}年${r}月_シフト表.pdf`)},ve=async()=>{if(window.confirm("実績を確定しますか？ 確定後は編集できません。"))try{await Su.setResultConfirmed(l,e,r,!0),D(!0),localStorage.setItem(u("confirmedResult"),"true");const{createPS:te}=await Ya(()=>import("./pdfUtils-2fdd91b8.js"),[],import.meta.url);for(const Ae of b){const xe=z(Ae.id)/60,ye=await te(Ae.name,e,r,xe),Fe=document.createElement("a");Fe.href=ye,Fe.download=`PS_${e}${String(r).padStart(2,"0")}_${Ae.id}.pdf`,Fe.click()}}catch{alert("実績確定に失敗しました。ネットワークをご確認ください。")}},fe=[t.getFullYear()-1,t.getFullYear(),t.getFullYear()+1],ne=Array.from({length:12},(te,Ae)=>Ae+1);return W?d.jsx("div",{className:"p-6",children:"読み込み中..."}):d.jsxs("div",{className:"p-4",children:[d.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center",children:[d.jsx("span",{role:"img","aria-label":"shift",className:"text-blue-600 text-3xl mr-2",children:"📅"}),"シフト登録",d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"-Shift Register-"})]}),d.jsxs("div",{className:"flex items-center mb-4 gap-2",children:[d.jsx("select",{value:e,onChange:te=>n(+te.target.value),className:"border px-2 py-1 rounded bg-white text-black",children:fe.map(te=>d.jsxs("option",{value:te,children:[te,"年"]},te))}),d.jsx("select",{value:r,onChange:te=>i(+te.target.value),className:"border px-2 py-1 rounded bg-white text-black",children:ne.map(te=>d.jsxs("option",{value:te,children:[te,"月"]},te))}),d.jsx("button",{onClick:()=>N(!0),className:"ml-2 px-3 py-1 bg-gray-600 text-white rounded hover:bg-blue-200 transition",children:"案件カスタム設定"}),d.jsx("button",{className:"ml-4 px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700",onClick:()=>O(!0),children:"案件別人員設定"}),d.jsx("button",{className:"ml-2 px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600",onClick:()=>{localStorage.setItem(u("shifts"),JSON.stringify(C)),alert("一時保存しました")},children:"一時保存"}),H?d.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[d.jsx("span",{className:"text-green-700 font-semibold",children:"✅ シフトは確定済みです"}),T?d.jsx("span",{className:"text-indigo-700 font-semibold",children:"✅ 実績確定済み"}):d.jsx("button",{onClick:ve,className:"px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"実績確定"}),d.jsx("button",{onClick:he,className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"PDF出力"}),d.jsx("button",{onClick:ee,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"未確定に戻す"})]}):d.jsx("button",{onClick:re,className:"ml-2 px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",children:"シフト確定"})]}),k&&d.jsxs("div",{className:"border p-4 bg-white shadow-lg rounded mb-4",children:[d.jsx("h3",{className:"font-bold mb-2",children:"案件の略称設定"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[d.jsx("th",{className:"border px-2 py-1 text-left",children:"案件名"}),d.jsx("th",{className:"border px-2 py-1 text-left",children:"略称入力"}),d.jsx("th",{className:"border px-2 py-1 text-center",children:"色選択"}),d.jsx("th",{className:"border px-2 py-1 text-center",children:"文字色選択"})]})}),d.jsx("tbody",{children:c.map(te=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:te.name}),d.jsx("td",{className:"border px-2 py-1",children:d.jsx("input",{type:"text",className:"w-full border rounded px-2 py-1",value:y[te.name]||"",onChange:Ae=>E({...y,[te.name]:Ae.target.value}),placeholder:"例）A社"})}),d.jsx("td",{className:"border px-2 py-1 text-center",children:d.jsx("input",{type:"color",value:te.color||"#cccccc",onChange:Ae=>{const xe=c.map(ye=>ye.name===te.name?{...ye,color:Ae.target.value}:ye);h(xe),localStorage.setItem("projectList",JSON.stringify(xe))},title:"セル背景色"})}),d.jsx("td",{className:"border px-2 py-1 text-center",children:d.jsxs("select",{value:te.textColor||"#000000",onChange:Ae=>{const xe=c.map(ye=>ye.name===te.name?{...ye,textColor:Ae.target.value}:ye);h(xe),localStorage.setItem("projectList",JSON.stringify(xe))},className:"border rounded px-1 py-0.5",children:[d.jsx("option",{value:"#000000",children:"黒文字"}),d.jsx("option",{value:"#ffffff",children:"白文字"})]})})]},te.id??te.name))})]})}),d.jsx("button",{className:"mt-2 px-4 py-1 bg-blue-500 text-white rounded",onClick:J,children:"保存"})]}),S&&d.jsxs("div",{className:"border p-4 bg-white shadow-lg rounded mb-4",children:[d.jsx("h3",{className:"font-bold mb-2",children:"案件ごとの必要人数設定（日付別）"}),c.map(te=>d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[d.jsx("strong",{className:"w-32",children:te.name}),d.jsx("input",{type:"number",min:0,placeholder:"この月の全日に反映",className:"border px-2 py-1 w-32",onChange:Ae=>{const xe=parseInt(Ae.target.value,10)||0,ye={...F};V.forEach(Fe=>{const Ce=`${te.name}_${Fe.dateStr}`;ye[Ce]=xe}),M(ye)}}),d.jsx("span",{className:"text-sm text-gray-500",children:"※上記は一括入力欄"})]}),d.jsx("div",{className:"grid grid-cols-5 gap-2 text-sm",children:V.map(Ae=>{const xe=`${te.name}_${Ae.dateStr}`;return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"w-20",children:[Ae.dateStr.split("-")[2],"日"]}),d.jsx("input",{type:"number",min:0,value:F[xe]||"",className:"border px-2 py-1 w-16",onChange:ye=>M(Fe=>({...Fe,[xe]:parseInt(ye.target.value,10)||0}))})]},xe)})})]},te.id??te.name)),d.jsx("button",{className:"mt-4 px-4 py-1 bg-yellow-500 text-white rounded",onClick:async()=>{try{await Gf.putRequired(l,e,r,F),localStorage.setItem(u("requiredPersonnel"),JSON.stringify(F)),O(!1)}catch{alert("必要人数の保存に失敗しました。")}},children:"保存"})]}),d.jsxs("table",{className:"w-full border border-collapse shadow text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-blue-100 text-gray-800 sticky top-0 z-30",children:[d.jsx("th",{className:"border px-1 py-1",children:"氏名"}),V.map(te=>d.jsxs("th",{className:`border px-1 py-1 text-center ${te.day===0?"bg-red-100":te.day===6?"bg-blue-50":"bg-white"}`,children:[te.dateStr.split("-")[2],d.jsx("br",{}),["日","月","火","水","木","金","土"][te.day]]},te.dateStr)),d.jsx("th",{className:"sticky top-0 z-10 bg-blue-100 border px-1 py-1",children:"合計時間"})]})}),d.jsxs("tbody",{children:[ie.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("tr",{className:"bg-amber-50 text-amber-900 text-xs",children:[d.jsx("td",{className:"border px-2 py-1 font-semibold",children:"案件（過不足）"}),V.map(te=>d.jsx("td",{className:"border px-1 py-1 text-center",children:"差分"},`lbl-${te.dateStr}`)),d.jsx("td",{className:"border px-1 py-1",children:"-"})]}),ie.map(te=>d.jsxs("tr",{className:"bg-yellow-50 text-xs text-center sticky top-[48px] z-20",children:[d.jsx("td",{className:"border px-1 py-1 font-semibold text-gray-700 whitespace-nowrap",children:y[te.name]||te.name}),V.map(Ae=>{const xe=`${te.name}_${Ae.dateStr}`,ye=F[xe]||0,Ce=q(Ae.dateStr,te.name)-ye,me=Ce===0?"text-black":Ce>0?"text-blue-600":"text-red-600";return d.jsx("td",{className:`border px-1 py-1 text-xs ${me}`,children:Ce===0?"0":Ce>0?`+${Ce}`:`${Ce}`},`${xe}-short`)}),d.jsx("th",{className:"sticky top-[42px] z-10 bg-yellow-50 border px-1 py-1",children:"-"})]},`shortage-${te.name}`)),d.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[d.jsx("td",{className:"border px-2 py-1 font-semibold",children:"氏名"}),V.map(te=>d.jsx("td",{className:"border px-1 py-1"},`sep-${te.dateStr}`)),d.jsx("td",{className:"border px-1 py-1 font-semibold",children:"合計時間"})]})]}),b.length===0?d.jsx("tr",{children:d.jsx("td",{className:"border px-2 py-4 text-center text-gray-600",colSpan:V.length+2,children:"現在この会社のドライバーは登録されていません。ドライバー管理から追加してください。"})}):b.map((te,Ae)=>d.jsxs("tr",{className:Ae%2===0?"bg-white":"bg-purple-100",children:[d.jsx("td",{className:"border px-1 py-1 text-center whitespace-nowrap",children:te.name}),V.map(xe=>d.jsx("td",{className:"border px-1 py-1",children:d.jsx("div",{className:"flex items-center gap-1",children:d.jsx(Q,{driverId:te.id,dateStr:xe.dateStr})})},xe.dateStr)),d.jsxs("td",{className:"border px-1 py-1 text-right",children:[(z(te.id)/60).toFixed(1),"h"]})]},te.id))]})]})]})};var VT;const nY=typeof process<"u"&&((VT=process.env)!=null&&VT.NEXT_PUBLIC_API_BASE_URL)?String({}.NEXT_PUBLIC_API_BASE_URL).replace(/\/$/,""):"",D2=t=>`${nY}${t.startsWith("/")?t:`/${t}`}`,W4=t=>t?new Date(t).getTime():0,rY=t=>{if(!t)return"-";const e=new Date(t);return Number.isNaN(e.getTime())?"-":new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short",timeZone:"Asia/Tokyo"}).format(e)},iY=t=>{switch(t){case"warning":return"text-red-500 font-semibold";case"report":return"text-blue-500 font-semibold";case"shift":return"text-yellow-500 font-semibold";default:return"text-gray-600"}},Q2=t=>t.replace(/\s+/g,"").replace(/　/g,""),q4=(t,e)=>{try{return t?JSON.parse(t):e}catch{return e}},sY=t=>{const e=q4(localStorage.getItem("driverList"),[]),n=q4(localStorage.getItem("vehicleList"),[]),r=Q2(t);for(const i of e)if(i!=null&&i.name&&r.includes(Q2(String(i.name))))return i.name;for(const i of n)if(i!=null&&i.number&&r.includes(Q2(String(i.number))))return i.number;return"対象不明"},oY=()=>{const[t,e]=Y.useState([]),[n,r]=Y.useState(!0),[i,s]=Y.useState(null),o=t.filter(c=>!c.read).length,l=async c=>{try{r(!0),s(null);const h=await fetch(D2("/api/notifications"),{credentials:"include",signal:c==null?void 0:c.signal,headers:{Accept:"application/json"}});if(h.status===404){e([]);return}if(!h.ok)throw new Error(`HTTP ${h.status}`);const p=await h.json();p.sort((m,b)=>W4(b.createdAt)-W4(m.createdAt)),e(p)}catch(h){(h==null?void 0:h.name)!=="AbortError"&&(console.error(h),s((h==null?void 0:h.message)||"通知の取得に失敗しました"))}finally{r(!1)}};Y.useEffect(()=>{const c=new AbortController;l(c);const h=setInterval(()=>l(),15e3);return()=>{c.abort(),clearInterval(h)}},[]);const a=async c=>{try{if(!(await fetch(D2(`/api/notifications/${c}/read`),{method:"POST",credentials:"include",headers:{Accept:"application/json"}})).ok)throw new Error;await l()}catch{alert("既読に失敗しました")}},u=async c=>{try{if(!(await fetch(D2(`/api/notifications/${c}`),{method:"DELETE",credentials:"include",headers:{Accept:"application/json"}})).ok)throw new Error;await l()}catch{alert("削除に失敗しました")}};return d.jsxs("div",{className:"p-6",children:[d.jsxs("h1",{className:"text-2xl font-bold mb-4 flex items-center gap-3",children:["📢 通知一覧 ",d.jsx("span",{className:"text-base text-gray-600",children:"-Notification List-"}),d.jsxs("span",{className:"ml-2 inline-flex items-center justify-center rounded-full bg-red-600 text-white text-xs px-2 py-0.5",children:["未読 ",o]}),d.jsx("button",{onClick:()=>l(),className:"ml-auto text-sm px-3 py-1 rounded bg-gray-200 hover:bg-gray-300",children:"再読込"})]}),n&&d.jsx("div",{className:"mb-3 text-gray-600",children:"読み込み中..."}),i&&d.jsx("div",{className:"mb-3 text-red-600",children:i}),d.jsxs("table",{className:"w-full table-fixed border border-gray-300 shadow rounded-lg overflow-hidden text-right",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-blue-200 text-gray-800 text-sm font-semibold border border-gray-300",children:[d.jsx("th",{className:"px-3 py-2 border w-[12%] text-center",children:"通知種別"}),d.jsx("th",{className:"px-3 py-2 border w-[20%] text-center",children:"対象"}),d.jsx("th",{className:"px-3 py-2 border w-[35%] text-center",children:"内容"}),d.jsx("th",{className:"px-3 py-2 border w-[18%] text-center",children:"日付"}),d.jsx("th",{className:"px-3 py-2 border w-[15%] text-center",children:"操作"})]})}),d.jsx("tbody",{children:!n&&t.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"通知はありません。"})}):t.map(c=>d.jsxs("tr",{className:`${c.read?"bg-gray-100":"bg-yellow-50 font-bold"} hover:bg-gray-200`,children:[d.jsx("td",{className:"border px-3 py-2 text-center",children:c.category}),d.jsx("td",{className:"border px-3 py-2 text-right font-medium text-gray-800",children:c.target&&c.target!=="対象不明"?c.target:sY(c.message)}),d.jsx("td",{className:`border px-3 py-2 text-right ${iY(c.type)}`,children:c.message}),d.jsx("td",{className:"border px-3 py-2 text-sm text-gray-600 text-right",children:rY(c.createdAt)}),d.jsxs("td",{className:"border px-3 py-2 space-x-2 text-right",children:[!c.read&&d.jsx("button",{className:"text-blue-600 underline text-sm",onClick:()=>a(c.id),children:"既読にする"}),d.jsx("button",{className:"text-red-600 underline text-sm",onClick:()=>u(c.id),children:"削除"})]})]},c.id))})]})]})};var aY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zn=(t,e)=>{const n=Y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...a},u)=>Y.createElement("svg",{ref:u,...aY,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${lY(t)}`,...a},[...e.map(([c,h])=>Y.createElement(c,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},zk=zn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Nh=zn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),M2=zn("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),AY=zn("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),cY=zn("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]),Yp=zn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),uY=zn("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),dY=zn("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),hY=zn("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),fY=zn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),pY=zn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),mY=zn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),fE=zn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),gY=zn("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),hp=zn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),$k=zn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),vY=zn("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Gk=zn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yY=zn("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),wY=zn("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),xY=zn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),bY=zn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),_Y=zn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wk=zn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),pE=zn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),qk=zn("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),l_=zn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),BY=zn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),mE=zn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Jk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mh,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",l="minute",a="hour",u="day",c="week",h="month",p="quarter",m="year",b="date",_="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var oe=["th","st","nd","rd"],V=W%100;return"["+W+(oe[(V-20)%10]||oe[V]||oe[0])+"]"}},E=function(W,oe,V){var q=String(W);return!q||q.length>=oe?W:""+Array(oe+1-q.length).join(V)+W},F={s:E,z:function(W){var oe=-W.utcOffset(),V=Math.abs(oe),q=Math.floor(V/60),z=V%60;return(oe<=0?"+":"-")+E(q,2,"0")+":"+E(z,2,"0")},m:function W(oe,V){if(oe.date()<V.date())return-W(V,oe);var q=12*(V.year()-oe.year())+(V.month()-oe.month()),z=oe.clone().add(q,h),ue=V-z<0,ie=oe.clone().add(q+(ue?-1:1),h);return+(-(q+(V-z)/(ue?z-ie:ie-z))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:h,y:m,w:c,d:u,D:b,h:a,m:l,s:o,ms:s,Q:p}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},M="en",k={};k[M]=y;var N="$isDayjsObject",S=function(W){return W instanceof T||!(!W||!W[N])},O=function W(oe,V,q){var z;if(!oe)return M;if(typeof oe=="string"){var ue=oe.toLowerCase();k[ue]&&(z=ue),V&&(k[ue]=V,z=ue);var ie=oe.split("-");if(!z&&ie.length>1)return W(ie[0])}else{var be=oe.name;k[be]=oe,z=be}return!q&&z&&(M=z),z||!q&&M},H=function(W,oe){if(S(W))return W.clone();var V=typeof oe=="object"?oe:{};return V.date=W,V.args=arguments,new T(V)},j=F;j.l=O,j.i=S,j.w=function(W,oe){return H(W,{locale:oe.$L,utc:oe.$u,x:oe.$x,$offset:oe.$offset})};var T=function(){function W(V){this.$L=O(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[N]=!0}var oe=W.prototype;return oe.parse=function(V){this.$d=function(q){var z=q.date,ue=q.utc;if(z===null)return new Date(NaN);if(j.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var ie=z.match(C);if(ie){var be=ie[2]-1||0,Q=(ie[7]||"0").substring(0,3);return ue?new Date(Date.UTC(ie[1],be,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,Q)):new Date(ie[1],be,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,Q)}}return new Date(z)}(V),this.init()},oe.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},oe.$utils=function(){return j},oe.isValid=function(){return this.$d.toString()!==_},oe.isSame=function(V,q){var z=H(V);return this.startOf(q)<=z&&z<=this.endOf(q)},oe.isAfter=function(V,q){return H(V)<this.startOf(q)},oe.isBefore=function(V,q){return this.endOf(q)<H(V)},oe.$g=function(V,q,z){return j.u(V)?this[q]:this.set(z,V)},oe.unix=function(){return Math.floor(this.valueOf()/1e3)},oe.valueOf=function(){return this.$d.getTime()},oe.startOf=function(V,q){var z=this,ue=!!j.u(q)||q,ie=j.p(V),be=function(ne,te){var Ae=j.w(z.$u?Date.UTC(z.$y,te,ne):new Date(z.$y,te,ne),z);return ue?Ae:Ae.endOf(u)},Q=function(ne,te){return j.w(z.toDate()[ne].apply(z.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(te)),z)},J=this.$W,re=this.$M,ee=this.$D,he="set"+(this.$u?"UTC":"");switch(ie){case m:return ue?be(1,0):be(31,11);case h:return ue?be(1,re):be(0,re+1);case c:var ve=this.$locale().weekStart||0,fe=(J<ve?J+7:J)-ve;return be(ue?ee-fe:ee+(6-fe),re);case u:case b:return Q(he+"Hours",0);case a:return Q(he+"Minutes",1);case l:return Q(he+"Seconds",2);case o:return Q(he+"Milliseconds",3);default:return this.clone()}},oe.endOf=function(V){return this.startOf(V,!1)},oe.$set=function(V,q){var z,ue=j.p(V),ie="set"+(this.$u?"UTC":""),be=(z={},z[u]=ie+"Date",z[b]=ie+"Date",z[h]=ie+"Month",z[m]=ie+"FullYear",z[a]=ie+"Hours",z[l]=ie+"Minutes",z[o]=ie+"Seconds",z[s]=ie+"Milliseconds",z)[ue],Q=ue===u?this.$D+(q-this.$W):q;if(ue===h||ue===m){var J=this.clone().set(b,1);J.$d[be](Q),J.init(),this.$d=J.set(b,Math.min(this.$D,J.daysInMonth())).$d}else be&&this.$d[be](Q);return this.init(),this},oe.set=function(V,q){return this.clone().$set(V,q)},oe.get=function(V){return this[j.p(V)]()},oe.add=function(V,q){var z,ue=this;V=Number(V);var ie=j.p(q),be=function(re){var ee=H(ue);return j.w(ee.date(ee.date()+Math.round(re*V)),ue)};if(ie===h)return this.set(h,this.$M+V);if(ie===m)return this.set(m,this.$y+V);if(ie===u)return be(1);if(ie===c)return be(7);var Q=(z={},z[l]=r,z[a]=i,z[o]=n,z)[ie]||1,J=this.$d.getTime()+V*Q;return j.w(J,this)},oe.subtract=function(V,q){return this.add(-1*V,q)},oe.format=function(V){var q=this,z=this.$locale();if(!this.isValid())return z.invalidDate||_;var ue=V||"YYYY-MM-DDTHH:mm:ssZ",ie=j.z(this),be=this.$H,Q=this.$m,J=this.$M,re=z.weekdays,ee=z.months,he=z.meridiem,ve=function(te,Ae,xe,ye){return te&&(te[Ae]||te(q,ue))||xe[Ae].slice(0,ye)},fe=function(te){return j.s(be%12||12,te,"0")},ne=he||function(te,Ae,xe){var ye=te<12?"AM":"PM";return xe?ye.toLowerCase():ye};return ue.replace(w,function(te,Ae){return Ae||function(xe){switch(xe){case"YY":return String(q.$y).slice(-2);case"YYYY":return j.s(q.$y,4,"0");case"M":return J+1;case"MM":return j.s(J+1,2,"0");case"MMM":return ve(z.monthsShort,J,ee,3);case"MMMM":return ve(ee,J);case"D":return q.$D;case"DD":return j.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return ve(z.weekdaysMin,q.$W,re,2);case"ddd":return ve(z.weekdaysShort,q.$W,re,3);case"dddd":return re[q.$W];case"H":return String(be);case"HH":return j.s(be,2,"0");case"h":return fe(1);case"hh":return fe(2);case"a":return ne(be,Q,!0);case"A":return ne(be,Q,!1);case"m":return String(Q);case"mm":return j.s(Q,2,"0");case"s":return String(q.$s);case"ss":return j.s(q.$s,2,"0");case"SSS":return j.s(q.$ms,3,"0");case"Z":return ie}return null}(te)||ie.replace(":","")})},oe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},oe.diff=function(V,q,z){var ue,ie=this,be=j.p(q),Q=H(V),J=(Q.utcOffset()-this.utcOffset())*r,re=this-Q,ee=function(){return j.m(ie,Q)};switch(be){case m:ue=ee()/12;break;case h:ue=ee();break;case p:ue=ee()/3;break;case c:ue=(re-J)/6048e5;break;case u:ue=(re-J)/864e5;break;case a:ue=re/i;break;case l:ue=re/r;break;case o:ue=re/n;break;default:ue=re}return z?ue:j.a(ue)},oe.daysInMonth=function(){return this.endOf(h).$D},oe.$locale=function(){return k[this.$L]},oe.locale=function(V,q){if(!V)return this.$L;var z=this.clone(),ue=O(V,q,!0);return ue&&(z.$L=ue),z},oe.clone=function(){return j.w(this.$d,this)},oe.toDate=function(){return new Date(this.valueOf())},oe.toJSON=function(){return this.isValid()?this.toISOString():null},oe.toISOString=function(){return this.$d.toISOString()},oe.toString=function(){return this.$d.toUTCString()},W}(),D=T.prototype;return H.prototype=D,[["$ms",s],["$s",o],["$m",l],["$H",a],["$W",u],["$M",h],["$y",m],["$D",b]].forEach(function(W){D[W[1]]=function(oe){return this.$g(oe,W[0],W[1])}}),H.extend=function(W,oe){return W.$i||(W(oe,T,H),W.$i=!0),H},H.locale=O,H.isDayjs=S,H.unix=function(W){return H(1e3*W)},H.en=k[M],H.Ls=k,H.p={},H})})(Jk);var CY=Jk.exports;const EY=$y(CY);var KT,zT,$T,GT;const h0=((zT=(KT=typeof process<"u"?process:void 0)==null?void 0:KT.env)==null?void 0:zT.NEXT_PUBLIC_ENABLE_XCOMPANY)==="true"||((GT=($T=typeof import.meta<"u"?import.meta:void 0)==null?void 0:$T.env)==null?void 0:GT.VITE_ENABLE_XCOMPANY)==="true"||!1,Yk=()=>{var fe;const[t,e]=Y.useState(""),[n,r]=Y.useState(""),[i,s]=Y.useState(""),[o,l]=Y.useState([]),[a,u]=Y.useState([]),[c,h]=Y.useState([]),[p,m]=Y.useState(null),[b,_]=Y.useState(""),[C,w]=Y.useState(null),[y,E]=Y.useState(null),[F,M]=Y.useState(!1),[k,N]=Y.useState([]),[S,O]=Y.useState(""),[H,j]=Y.useState(-1),[T,D]=Y.useState({}),W=Y.useRef(null);Y.useEffect(()=>{const ne=ig(wd,async te=>{if(!te)return;e(te.uid);const Ae=nr(ln,"users",te.uid),xe=await Vp(Ae),ye=xe.exists()?xe.data():void 0,Fe=(ye==null?void 0:ye.company)||localStorage.getItem("company")||"default";if(s(Fe),r((ye==null?void 0:ye.name)||te.displayName||te.email||"Me"),!xe.exists())await Xa(Ae,{name:te.displayName||te.email||"ユーザー",email:te.email||null,role:"member",company:Fe,active:!0,createdAt:$i()}).catch(()=>{});else{const Ce={};ye!=null&&ye.company||(Ce.company=Fe),(ye==null?void 0:ye.active)!==!0&&(Ce.active=!0),Object.keys(Ce).length&&await Aa(Ae,Ce).catch(()=>{})}});return()=>ne()},[]),Y.useEffect(()=>{if(!i)return;const ne=Tl(ro(ln,"users"),ko("company","==",i),ko("active","==",!0)),te=pa(ne,Ae=>{const xe=Ae.docs.map(ye=>({uid:ye.id,...ye.data()})).filter(ye=>ye.uid!==t);h(xe)});return()=>te()},[i,t]),Y.useEffect(()=>{if(!t||!i)return;const ne=Tl(ro(ln,"chats"),ko("isGroup","==",!0),ko("company","==",i),ko("scope","==","company"),ko("members","array-contains",t)),te=pa(ne,Ae=>{const xe=Ae.docs.map(ye=>{const Fe=ye.data();return{id:ye.id,name:Fe.name||"グループ",members:Fe.members||[],isGroup:!0,ownerId:Fe.ownerId,company:Fe.company,scope:Fe.scope||"company",allowedCompanies:Fe.allowedCompanies||[Fe.company],spaceId:Fe.spaceId,lastReadAt:Fe.lastReadAt||{},messages:[]}});l(xe)});return()=>te()},[t,i]),Y.useEffect(()=>{if(!t||!i)return;const ne=Tl(ro(ln,"chats"),ko("isGroup","==",!1),ko("company","==",i),ko("scope","==","company"),ko("members","array-contains",t)),te=pa(ne,Ae=>{const xe=Ae.docs.map(ye=>{var Ye;const Fe=ye.data(),Ce=(Fe.members||[]).find(We=>We!==t),me=((Ye=c.find(We=>We.uid===Ce))==null?void 0:Ye.name)||Fe.name||"メンバー";return{id:ye.id,name:me,members:Fe.members||[],isGroup:!1,company:Fe.company,scope:Fe.scope||"company",allowedCompanies:Fe.allowedCompanies||[Fe.company],spaceId:Fe.spaceId,lastReadAt:Fe.lastReadAt||{},messages:[]}});u(xe)});return()=>te()},[t,i,c]),Y.useEffect(()=>{if(!(p!=null&&p.id))return;if(p.scope&&p.scope!=="company"&&!h0){m(null);return}const ne=Tl(ro(ln,"chats",p.id,"messages"),Om("createdAt","asc")),te=pa(ne,Ae=>{const xe=Ae.docs.map(ye=>{const Fe=ye.data();return{id:ye.id,sender:Fe.sender,text:Fe.text||"",imageUrl:Fe.imageUrl||null,createdAt:Fe.createdAt,time:Fe.createdAt?EY(Fe.createdAt.toDate()).format("YYYY-MM-DD HH:mm:ss"):""}});m(ye=>ye&&{...ye,messages:xe}),t&&Aa(nr(ln,"chats",p.id),{[`lastReadAt.${t}`]:$i()}).catch(()=>{})});return()=>te()},[p==null?void 0:p.id,t,p==null?void 0:p.scope]),Y.useEffect(()=>{var ne;(ne=W.current)==null||ne.scrollIntoView({behavior:"smooth"})},[(fe=p==null?void 0:p.messages)==null?void 0:fe.length]),Y.useEffect(()=>{if(!t)return;const ne=[...o,...a];if(ne.length===0){D({});return}const te=ne.map(Ae=>{var Ce;if(Ae.scope&&Ae.scope!=="company"&&!h0)return()=>{};const xe=ro(ln,"chats",Ae.id,"messages"),ye=(Ce=Ae.lastReadAt)==null?void 0:Ce[t],Fe=ye?Tl(xe,ko("createdAt",">",ye)):Tl(xe);return pa(Fe,me=>{const Ye=me.docs.filter(We=>{var Qe;return((Qe=We.data())==null?void 0:Qe.sender)!==t}).length;D(We=>({...We,[Ae.id]:Ye}))})});return()=>{te.forEach(Ae=>{try{Ae()}catch{}})}},[o,a,t]);const oe=ne=>T[ne.id]??0,V=(ne,te)=>ne<te?`dm_${ne}_${te}`:`dm_${te}_${ne}`,q=(ne,te,Ae)=>ne<te?`dm_${Ae}_${ne}_${te}`:`dm_${Ae}_${te}_${ne}`,z=async ne=>{if(!t||!i)return;const te=q(t,ne.uid,i),Ae=V(t,ne.uid),xe=nr(ln,"chats",te),ye=nr(ln,"chats",Ae);if(!(await Vp(xe)).exists()){const Ce=await Vp(ye);if(Ce.exists()){try{await Aa(ye,{company:i,scope:"company",allowedCompanies:[i]})}catch{}const me=Ce.data()||{};m({id:Ae,name:ne.name,members:me.members||[t,ne.uid],isGroup:!1,company:i,scope:"company",allowedCompanies:[i],spaceId:me.spaceId,lastReadAt:me.lastReadAt||{},messages:[]});return}await Xa(xe,{isGroup:!1,members:[t,ne.uid],company:i,scope:"company",allowedCompanies:[i],lastReadAt:{[t]:$i()},createdAt:$i()})}m({id:te,name:ne.name,members:[t,ne.uid],isGroup:!1,company:i,scope:"company",allowedCompanies:[i],lastReadAt:{},messages:[]})},ue=ne=>(ne||"").toLowerCase().normalize("NFKC").replace(/[ぁ-ん]/g,te=>String.fromCharCode(te.charCodeAt(0)+96)),ie=Y.useMemo(()=>{if(!S.trim())return[];const ne=ue(S);return c.filter(te=>ue(te.name).includes(ne)||ue(te.email||"").includes(ne)||ue(te.uid).includes(ne))},[c,S]),be=async()=>{if(!t||!i)return;const ne=prompt("新しいグループ名を入力してください");if(!ne)return;const te=await xy(ro(ln,"chats"),{isGroup:!0,name:ne,ownerId:t,members:[t],company:i,scope:"company",allowedCompanies:[i],lastReadAt:{[t]:$i()},createdAt:$i()});m({id:te.id,name:ne,members:[t],isGroup:!0,ownerId:t,company:i,scope:"company",allowedCompanies:[i],lastReadAt:{},messages:[]})},Q=async()=>{if(!(p!=null&&p.isGroup)||!t)return;if(p.ownerId!==t){const xe=p.members.filter(ye=>ye!==t);await Aa(nr(ln,"chats",p.id),{members:xe}),m(null);return}if(!confirm("オーナーです。このグループを削除しますか？（元に戻せません）"))return;const te=await WG(ro(ln,"chats",p.id,"messages")),Ae=JG(ln);te.forEach(xe=>Ae.delete(xe.ref)),Ae.delete(nr(ln,"chats",p.id)),await Ae.commit(),m(null)},J=async()=>{if(!p||!p.isGroup||!t)return;if(p.ownerId!==t){alert("招待できるのはグループオーナーのみです"),M(!1),N([]);return}const ne=k.filter(Ae=>!p.members.includes(Ae));if(ne.length===0){M(!1),N([]);return}const te=[...p.members,...ne];await Aa(nr(ln,"chats",p.id),{members:te}),m({...p,members:te}),M(!1),N([])},re=async ne=>{ne.scope&&ne.scope!=="company"&&!h0||(t&&Aa(nr(ln,"chats",ne.id),{[`lastReadAt.${t}`]:$i()}).catch(()=>{}),w(null),m({...ne,messages:ne.messages??[]}))},ee=async()=>{if(!p||!b.trim()&&!y||!t)return;if(p.scope&&p.scope!=="company"&&!h0||!p.members.includes(t)){alert("このチャットには投稿できません。");return}let ne=null;if(y){if(y.size>5242880){alert("画像サイズが大きすぎます（5MBまで）");return}const Ae=`chat_images/${i}/${p.id}/${Date.now()}_${y.name}`,xe=await rq(iE(sE,Ae),y);ne=await rE(xe.ref)}await xy(ro(ln,"chats",p.id,"messages"),{sender:t,text:b||"",imageUrl:ne,createdAt:$i()}),await Aa(nr(ln,"chats",p.id),{[`lastReadAt.${t}`]:$i()}).catch(()=>{}),_(""),E(null)},he=async()=>{if(C===null||!p||!t)return;const ne=p.messages[C];if(ne){if(ne.sender!==t){alert("自分のメッセージのみ編集できます");return}await Aa(nr(ln,"chats",p.id,"messages",ne.id),{text:b}),_(""),w(null)}},ve=async ne=>{if(!p||!t)return;const te=p.messages[ne];if(te){if(te.sender!==t){alert("自分のメッセージのみ削除できます");return}await Aa(nr(ln,"chats",p.id,"messages",te.id),{text:"（削除されました）",imageUrl:null})}};return d.jsxs("div",{className:"flex h-[85vh] w-full border rounded-xl shadow-lg overflow-hidden",children:[d.jsxs("aside",{className:"w-80 bg-gradient-to-b from-zinc-900 to-zinc-800 text-white overflow-y-auto relative",children:[d.jsxs("div",{className:"sticky top-0 z-10 bg-zinc-900 p-4 border-b border-zinc-700 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-xl font-bold",children:["チャット ",d.jsx("span",{className:"text-sm text-zinc-400",children:"-Chat-"})]}),d.jsx("button",{onClick:be,className:"rounded bg-emerald-600 hover:bg-emerald-700 px-3 py-1.5 text-sm font-medium",children:"➕ 新規グループ"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(xY,{className:"absolute left-2 top-2.5 h-4 w-4 text-zinc-400"}),d.jsx("input",{value:S,onChange:ne=>{O(ne.target.value),j(0)},onKeyDown:ne=>{if(ie.length)if(ne.key==="ArrowDown")ne.preventDefault(),j(te=>(te+1)%ie.length);else if(ne.key==="ArrowUp")ne.preventDefault(),j(te=>(te-1+ie.length)%ie.length);else if(ne.key==="Enter"){ne.preventDefault();const te=ie[Math.max(0,H)];te&&(z(te),O(""),j(-1))}else ne.key==="Escape"&&(O(""),j(-1))},placeholder:"社内メンバー名・メール・IDで検索",className:"w-full pl-8 pr-3 py-2 rounded bg-zinc-800/70 border border-zinc-700 placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),S.trim()&&ie.length>0&&d.jsx("div",{className:"bg-zinc-800 border border-zinc-700 rounded shadow-lg max-h-64 overflow-y-auto",children:ie.map((ne,te)=>d.jsxs("button",{onMouseEnter:()=>j(te),onClick:()=>{z(ne),O(""),j(-1)},className:`w-full text-left px-3 py-2 ${te===H?"bg-zinc-700":"hover:bg-zinc-700"}`,children:[d.jsx("div",{className:"font-medium",children:ne.name}),d.jsxs("div",{className:"text-xs text-zinc-300",children:[ne.email||"-"," ・ ",ne.uid," ",ne.role?`・${ne.role}`:""]})]},ne.uid))})]}),d.jsxs("div",{className:"px-3 py-2",children:[d.jsx("h3",{className:"mt-2 mb-1 text-xs font-semibold text-zinc-400 uppercase tracking-wider",children:"グループ"}),o.length===0&&d.jsx("div",{className:"text-zinc-400 text-sm mb-2",children:"グループはまだありません"}),o.map(ne=>d.jsx("div",{className:`p-2 rounded cursor-pointer hover:bg-zinc-700 ${(p==null?void 0:p.id)===ne.id?"bg-zinc-700":""}`,onClick:()=>re(ne),children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"truncate",children:ne.name}),oe(ne)>0&&d.jsx("span",{className:"text-xs bg-red-500 text-white rounded-full px-2",children:oe(ne)})]})},ne.id)),d.jsx("h3",{className:"mt-4 mb-1 text-xs font-semibold text-zinc-400 uppercase tracking-wider",children:"個人チャット"}),a.length===0&&d.jsx("div",{className:"text-zinc-400 text-sm",children:"検索からDMを開始できます"}),a.map(ne=>d.jsx("div",{className:`p-2 rounded cursor-pointer hover:bg-zinc-700 ${(p==null?void 0:p.id)===ne.id?"bg-zinc-700":""}`,onClick:()=>re(ne),children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"truncate",children:ne.name}),oe(ne)>0&&d.jsx("span",{className:"text-xs bg-red-500 text-white rounded-full px-2",children:oe(ne)})]})},ne.id))]})]}),d.jsxs("main",{className:"flex-1 flex flex-col bg-white",children:[p&&d.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex justify-between items-center z-10",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:p.name}),d.jsx("p",{className:"text-sm text-gray-500",children:p.isGroup?"グループチャット":"個人チャット"}),p.isGroup&&d.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:p.members.map(ne=>{var te;return d.jsxs("span",{className:"inline-flex items-center rounded-full bg-zinc-100 border border-zinc-200 px-2 py-0.5 text-xs text-zinc-700",title:ne===p.ownerId?"グループオーナー":void 0,children:[((te=c.find(Ae=>Ae.uid===ne))==null?void 0:te.name)||(ne===t?n:ne),ne===p.ownerId&&d.jsx("span",{className:"ml-1 text-[10px] text-amber-600",children:"★"})]},ne)})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[p.isGroup&&d.jsxs("button",{onClick:()=>{p.ownerId===t&&(M(!0),N([]))},disabled:p.ownerId!==t,className:`rounded border px-3 py-1.5 text-sm inline-flex items-center gap-1 ${p.ownerId===t?"border-emerald-300 text-emerald-600 hover:bg-emerald-50":"border-zinc-300 text-zinc-400 cursor-not-allowed"}`,title:p.ownerId===t?"メンバーを招待":"招待できるのはオーナーのみです",children:[d.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[d.jsx("path",{d:"M15 14c3.866 0 7 2.015 7 4.5V21H8v-2.5C8 16.015 11.134 14 15 14Z",stroke:"currentColor"}),d.jsx("path",{d:"M15 11a4 4 0 1 0-0.001-8.001A4 4 0 0 0 15 11Z",stroke:"currentColor"}),d.jsx("path",{d:"M4 8h5M6.5 5.5v5",stroke:"currentColor"})]}),"メンバー追加"]}),p.isGroup&&d.jsxs("button",{onClick:Q,className:"rounded border px-3 py-1.5 text-sm inline-flex items-center gap-1 border-red-300 text-red-600 hover:bg-red-50",title:"グループ退出",children:[d.jsx(cY,{className:"h-4 w-4"}),"退出"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:[p?p.messages.map((ne,te)=>{const Ae=ne.sender===t;return d.jsx("div",{className:`my-2 flex ${Ae?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`p-3 rounded-xl max-w-[65%] shadow-md ${Ae?"bg-blue-100 text-right":"bg-gray-100 text-left"}`,children:[ne.imageUrl&&d.jsx("img",{src:ne.imageUrl,alt:"attachment",className:"mb-1 rounded max-w-full"}),d.jsx("p",{className:"whitespace-pre-wrap break-words",children:ne.text}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex justify-between items-center",children:[d.jsx("span",{children:ne.time}),Ae&&d.jsxs("span",{className:"ml-2 space-x-2",children:[d.jsx("button",{onClick:()=>{w(te),_(ne.text)},className:"inline text-gray-600 hover:text-gray-800",title:"編集",children:d.jsx(vY,{size:14})}),d.jsx("button",{onClick:()=>ve(te),className:"inline text-red-500 hover:text-red-600",title:"削除",children:d.jsx(pE,{size:14})})]})]})]})},ne.id)}):d.jsx("p",{className:"text-gray-400 mt-4 text-center",children:"チャットを選択するか、左上で検索して開始してください"}),d.jsx("div",{ref:W})]}),p&&d.jsxs("div",{className:"p-4 border-t flex items-center gap-2",children:[d.jsx("input",{className:"flex-1 border rounded px-3 py-2",placeholder:C!==null?"メッセージを編集...":"メッセージを入力...",value:b,onChange:ne=>_(ne.target.value),onKeyDown:ne=>{if(ne.key==="Escape"&&C!==null){w(null),_("");return}ne.key==="Enter"&&(C!==null?he():ee())}}),d.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer text-gray-600 hover:text-gray-800",children:[d.jsx(hY,{className:"h-5 w-5"}),d.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ne=>{var te;return E(((te=ne.target.files)==null?void 0:te[0])||null)}})]}),d.jsxs("button",{onClick:C!==null?he:ee,className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white inline-flex items-center gap-2",children:[d.jsx(bY,{className:"h-4 w-4"}),C!==null?"更新":"送信"]})]})]}),F&&p&&d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-96 p-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"メンバーを招待"}),(()=>{const ne=new Set(p.members??[]),te=c.filter(Ae=>!ne.has(Ae.uid));return d.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:te.map(Ae=>d.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 hover:bg-gray-100 rounded",children:[d.jsx("input",{type:"checkbox",checked:k.includes(Ae.uid),onChange:xe=>{xe.target.checked?N(ye=>[...ye,Ae.uid]):N(ye=>ye.filter(Fe=>Fe!==Ae.uid))}}),d.jsx("span",{children:Ae.name})]},Ae.uid))})})(),d.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[d.jsx("button",{onClick:()=>M(!1),className:"px-3 py-1.5 rounded border",children:"キャンセル"}),d.jsx("button",{onClick:J,className:"px-3 py-1.5 rounded bg-emerald-600 text-white",children:"招待する"})]})]})})]})};var WT,qT,JT,YT;const SY=((qT=(WT=typeof process<"u"?process:void 0)==null?void 0:WT.env)==null?void 0:qT.NEXT_PUBLIC_API_BASE)||((YT=(JT=typeof import.meta<"u"?import.meta:void 0)==null?void 0:JT.env)==null?void 0:YT.VITE_API_BASE_URL)||"",IY=(t,e)=>{if(!t)return e;const n=t.replace(/\/+$/,""),r=e.replace(/^\/+/,"");return`${n}/${r}`};async function Wf(t,e){const n=IY(SY,t),r=await fetch(n,{credentials:"include",headers:{Accept:"application/json",...(e==null?void 0:e.headers)||{}},...e});if(!r.ok){const s=await r.text().catch(()=>""),o=new Error(`HTTP ${r.status} at ${n}
${s.slice(0,200)}`);throw o.status=r.status,o}const i=r.headers.get("content-type")||"";if(!i.includes("application/json")){const s=await r.text().catch(()=>""),o=new Error(`Expected JSON but got "${i||"unknown"}"
`+s.slice(0,200));throw o.status=415,o}return r.json()}const zd={list:async t=>{var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));return Wf(`/api/projects?company=${encodeURIComponent(t)}`,{headers:e?{Authorization:`Bearer ${e}`}:{}})},saveBulk:async(t,e)=>{var r,i;const n=await((i=(r=Bn().currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r));return Wf("/api/projects/save-bulk",{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:JSON.stringify({company:t,projects:e})}).then(s=>s.projects)},remove:async t=>{var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));return Wf(`/api/projects/${t}`,{method:"DELETE",headers:e?{Authorization:`Bearer ${e}`}:{}})},uploadFiles:async(t,e)=>{var i,s;const n=await((s=(i=Bn().currentUser)==null?void 0:i.getIdToken)==null?void 0:s.call(i)),r=new FormData;return Array.from(e).forEach(o=>r.append("files",o)),Wf(`/api/projects/${t}/files`,{method:"POST",headers:n?{Authorization:`Bearer ${n}`}:{},body:r})},customFields:async t=>{var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));try{const i=await Wf(`/api/projects/custom-fields?company=${encodeURIComponent(t)}`,{headers:e?{Authorization:`Bearer ${e}`}:{}});return Array.isArray(i)?i:[]}catch(i){return(i==null?void 0:i.status)===404?[]:[]}}},qf=t=>`projectList_${t}`;function NY(){const[t,e]=Y.useState([]),[n,r]=Y.useState([]),[i,s]=Y.useState(null),[o,l]=Y.useState(!0),[a,u]=Y.useState(null),[c,h]=Y.useState(null),p=typeof window<"u"&&localStorage.getItem("company")||"demoCompany",m=Y.useCallback(async()=>{if(p){l(!0);try{let k=[];try{k=await zd.list(p),localStorage.setItem(qf(p),JSON.stringify(k??[]))}catch{const S=JSON.parse(localStorage.getItem(qf(p))||"[]");k=Array.isArray(S)?S:[],console.warn("[projects] server fetch failed. show local fallback.")}let N=[];try{N=await zd.customFields(p)}catch{N=[],console.warn("[custom-fields] fetch error. use []")}e(k),r(N),h(null)}finally{l(!1)}}},[p]);Y.useEffect(()=>{m()},[m]),Y.useEffect(()=>{const k=()=>m();window.addEventListener("projects:changed",k),window.addEventListener("focus",k);const N=()=>document.visibilityState==="visible"&&k();return document.addEventListener("visibilitychange",N),()=>{window.removeEventListener("projects:changed",k),window.removeEventListener("focus",k),document.removeEventListener("visibilitychange",N)}},[m]);const b=(k,N,S)=>{const O=[...t];N==="unitPrice"?O[k].unitPrice=typeof S=="number"?S:Number(S)||0:O[k][N]=S,e(O)},_=(k,N,S)=>{const O=[...t];O[k].customFields||(O[k].customFields={}),O[k].customFields[N]=S,e(O)},C=k=>s(k),w=async()=>{try{const k=await zd.saveBulk(p,t);e(k),localStorage.setItem(qf(p),JSON.stringify(k)),u("保存しました。"),h(null)}catch{localStorage.setItem(qf(p),JSON.stringify(t)),e(t),u("（ローカルに）保存しました。"),h(null)}},y=async k=>{const N=t[k];if(window.confirm("本当にこの案件を削除しますか？"))try{N.id>0&&await zd.remove(N.id);const S=t.filter((O,H)=>H!==k);e(S),localStorage.setItem(qf(p),JSON.stringify(S)),u("削除しました"),h(null),window.dispatchEvent(new Event("projects:changed")),await m()}catch(S){h((S==null?void 0:S.message)??"削除に失敗しました")}},E=async(k,N)=>{if(!N||N.length===0)return;let S=t[k];if(S.id<0)try{const O=await zd.saveBulk(p,t);if(e(O),S=O.find(H=>H.name===S.name&&H.company===S.company)||O[k],!S||S.id<0)throw new Error("ID割当が完了していません")}catch(O){h((O==null?void 0:O.message)??"先に案件の保存に失敗しました。ファイルはアップロードできません。");return}try{const O=await zd.uploadFiles(S.id,N);e(H=>H.map(j=>j.id===S.id?{...j,attachments:[...j.attachments||[],...O]}:j)),u("ファイルをアップロードしました"),h(null),window.dispatchEvent(new Event("projects:changed")),await m()}catch(O){h((O==null?void 0:O.message)??"ファイルのアップロードに失敗しました")}},F=()=>{const k={id:-Date.now(),company:p,manager:"",phone:"",name:"",contractStart:"",contractEnd:"",unitPrice:0,startTime:"08:00",endTime:"17:00",paymentDate:"",transferDate:"",requiredPeople:"0",requiredUnit:"名",attachments:[],customFields:{}};e(N=>[...N,k]),s(t.length)},M=Array.from({length:24*12},(k,N)=>{const S=String(Math.floor(N/12)).padStart(2,"0"),O=String(N%12*5).padStart(2,"0");return`${S}:${O}`});return o?d.jsx("div",{className:"p-4",children:"読み込み中…"}):d.jsxs("div",{className:"p-4 font-sans tracking-wide text-base text-[#1f2937]",children:[d.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center gap-3 text-white",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h18M3 12h18M3 17h18"})}),"案件一覧 ",d.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"-Project List-"})]}),c&&d.jsx("div",{className:"mb-3 p-2 rounded bg-red-50 text-red-700 text-sm",children:c}),a&&d.jsx("div",{className:"mb-3 p-2 rounded bg-green-50 text-green-700 text-sm",children:a}),d.jsxs("div",{className:"flex gap-2 mb-4 text-[#1f2937]",children:[d.jsx("button",{className:"bg-blue-600 text-white font-bold px-4 py-2 rounded shadow hover:bg-blue-700 transition",onClick:F,children:"新規案件追加"}),d.jsx("button",{className:"bg-green-600 text-white font-bold px-4 py-2 rounded shadow hover:bg-green-700 transition",onClick:w,children:"保存"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-[1600px] w-full text-base shadow-md rounded overflow-hidden bg-[#1e293b] text-[#1f2937]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-[#1e293b] hover:bg-[#334155] border-b border-[#475569] text-[#1f2937]",children:[d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"操作"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[150px]",children:"会社名"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[150px]",children:"担当社員"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[150px]",children:"電話番号"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[150px]",children:"案件名"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"契約開始日"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"契約終了日"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"単価(円/日)"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"勤務時間"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"入金日"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"支払日"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"必要人員"}),d.jsx("th",{className:"border px-2 py-1 text-white min-w-[120px]",children:"ファイル"}),n.map(k=>d.jsx("th",{className:"border px-2 py-1 text-white",children:k},k))]})}),d.jsx("tbody",{children:t.map((k,N)=>d.jsxs("tr",{className:"even:bg-white odd:bg-gray-50 hover:bg-gray-100 font-normal text-right text-[#1f2937]",children:[d.jsx("td",{className:"p-2 border border-[#d1d5db] bg-[#f1f5f9]",children:d.jsxs("div",{className:"flex justify-center gap-2",children:[d.jsx("button",{onClick:()=>C(N),className:"bg-blue-500 text-white font-bold px-2 py-1 rounded hover:bg-blue-600 transition",children:"編集"}),d.jsx("button",{onClick:()=>y(N),className:"bg-red-500 text-white font-bold px-2 py-1 rounded hover:bg-red-600 transition",children:"削除"})]})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"text",placeholder:"入力してください",disabled:i!==N,value:k.company,onChange:S=>b(N,"company",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"text",placeholder:"入力してください",disabled:i!==N,value:k.manager,onChange:S=>b(N,"manager",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"text",placeholder:"入力してください",disabled:i!==N,value:k.phone,onChange:S=>b(N,"phone",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"text",placeholder:"入力してください",disabled:i!==N,value:k.name,onChange:S=>b(N,"name",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"date",disabled:i!==N,value:k.contractStart,onChange:S=>b(N,"contractStart",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"date",disabled:i!==N,value:k.contractEnd,onChange:S=>b(N,"contractEnd",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"number",min:0,disabled:i!==N,value:k.unitPrice,onChange:S=>{const O=Number(S.target.value);b(N,"unitPrice",Number.isNaN(O)?0:O)},className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("select",{value:k.startTime,onChange:S=>b(N,"startTime",S.target.value),disabled:i!==N,className:"border rounded p-1",children:M.map(S=>d.jsx("option",{value:S,children:S},S))}),d.jsx("span",{children:"〜"}),d.jsx("select",{value:k.endTime,onChange:S=>b(N,"endTime",S.target.value),disabled:i!==N,className:"border rounded p-1",children:M.map(S=>d.jsx("option",{value:S,children:S},S))})]})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"text",placeholder:"入力してください",disabled:i!==N,value:k.paymentDate,onChange:S=>b(N,"paymentDate",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsx("input",{type:"text",placeholder:"入力してください",disabled:i!==N,value:k.transferDate,onChange:S=>b(N,"transferDate",S.target.value),className:"w-full border p-1 rounded text-right"})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("input",{type:"number",placeholder:"入力してください",disabled:i!==N,value:k.requiredPeople,onChange:S=>b(N,"requiredPeople",S.target.value),className:"w-20 border p-1 rounded text-right"}),d.jsxs("select",{value:k.requiredUnit,onChange:S=>b(N,"requiredUnit",S.target.value),className:"border rounded p-1",children:[d.jsx("option",{value:"名",children:"名"}),d.jsx("option",{value:"コース",children:"コース"}),d.jsx("option",{value:"台",children:"台"})]})]})}),d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:i===N?d.jsxs("div",{children:[d.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpeg,.jpg,.png",onChange:S=>E(N,S.target.files),className:"text-sm"}),k.attachments&&k.attachments.length>0&&d.jsx("ul",{className:"mt-1 list-disc pl-5 text-sm text-gray-700 text-left",children:k.attachments.map((S,O)=>d.jsx("li",{children:S.name},O))})]}):d.jsx("span",{className:"text-gray-700",children:k.attachments&&k.attachments.length>0?k.attachments.map((S,O)=>d.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline mr-2",title:`${S.type} / ${S.size} bytes / ${S.uploadedAt}`,children:S.name},O)):d.jsx("span",{className:"text-gray-500",children:"未添付"})})}),n.map(S=>{var O,H;return d.jsx("td",{className:"p-2 border bg-[#f8fafc]",children:i===N?d.jsx("input",{type:"text",value:((O=k.customFields)==null?void 0:O[S])||"",onChange:j=>_(N,S,j.target.value),className:"w-full border p-1 rounded text-right"}):d.jsx("div",{className:"text-right",children:((H=k.customFields)==null?void 0:H[S])||""})},S)})]},k.id))})]})})]})}function TY({hasUnreadChat:t=!1}){const e=fu(),n=[{path:"/admin/dashboard",label:"ダッシュボード",icon:fY},{path:"/admin/daily-report",label:"日報管理",icon:Yp},{path:"/admin/admin-manager",label:"管理者管理",icon:l_},{path:"/admin/drivers",label:"ドライバー管理",icon:BY},{path:"/admin/vehicles",label:"車両管理",icon:qk},{path:"/admin/projects",label:"案件一覧",icon:M2},{path:"/admin/map",label:"ドライバー位置情報マップ",icon:mY},{path:"/admin/shift-register",label:"シフト登録",icon:M2},{path:"/admin/notifications",label:"通知一覧",icon:zk},{path:"/admin/files",label:"ファイル管理",icon:dY},{path:"/admin/system-settings",label:"システム設定",icon:_Y},{path:"/admin/chat",label:"チャット",icon:gY,unread:t},{path:"/admin/driver-payment",label:"支払集計",icon:Yp},{path:"/admin/todo",label:"法改正対応ToDo",icon:M2},{path:"/admin/security",label:"セキュリティ・契約",icon:Wk},{path:"/admin/plan",label:"プラン変更",icon:$k},{path:"/admin/password-change",label:"パスワード変更",icon:pY}];return d.jsxs("aside",{className:"w-64 bg-[#2f3e46] text-white min-h-screen p-4",children:[d.jsx("div",{className:"text-xl font-bold mb-6 tracking-wide text-center",children:"メニュー"}),d.jsx("nav",{className:"space-y-2",children:n.map(({path:r,label:i,icon:s,unread:o})=>d.jsxs($u,{to:r,className:`flex items-center space-x-2 px-4 py-2 rounded hover:bg-green-700 transition ${e.pathname===r?"bg-green-700":""}`,children:[d.jsx(s,{size:18}),d.jsx("span",{className:"flex-1",children:i}),o&&e.pathname!==r&&d.jsx("span",{className:"text-red-500 text-xs ml-auto",children:"●"})]},r))})]})}function FY(t){switch(t){case"PO":return"発注書";case"PS":return"支払明細書";case"INV":return"請求書";default:return t}}function PY(t,e){return(t??{})[FY(e)]}function H2(t,e){const n=PY(t,e),r=typeof n=="number"?n:typeof n=="string"?Number(n):NaN;return Number.isFinite(r)?r:0}function LY(){const[t,e]=Y.useState(0),[n,r]=Y.useState(0),[i,s]=Y.useState(0),[o,l]=Y.useState(void 0),[a,u]=Y.useState([]),[c,h]=Y.useState({active:[],break:[],end:[]}),[p,m]=Y.useState([]),[b,_]=Y.useState({registered:[],unregistered:[]}),C=new Date().toISOString().slice(0,10),w=C.slice(0,7);return Y.useEffect(()=>{(async()=>{var E,F,M,k,N,S;const y=localStorage.getItem("company")||"demoCompany";try{const O=JSON.parse(localStorage.getItem(`driverList_${y}`)||"[]");Array.isArray(O)&&s(O.length)}catch{}try{const O=await((E=Bn().currentUser)==null?void 0:E.getIdToken()),H=await fetch(`/api/dashboardStats?company=${encodeURIComponent(y)}&date=${C}&month=${w}`,{headers:O?{Authorization:`Bearer ${O}`}:void 0});if(!H.ok)throw new Error(`GET /api/dashboardStats -> ${H.status}`);const j=await H.json();e(j.unsubmittedCount??0),l((j.formStats??void 0)||void 0);const T={active:((F=j.statusList)==null?void 0:F.active)??[],break:((M=j.statusList)==null?void 0:M.break)??[],end:((k=j.statusList)==null?void 0:k.end)??[]};h(T);const D=j.activeTodayCount??T.active.length??0;r(D),u(Array.isArray(j.latestReports)?j.latestReports:[]),m(Array.isArray(j.alerts)?j.alerts:[]),_({registered:((N=j.shiftStatus)==null?void 0:N.registered)??[],unregistered:((S=j.shiftStatus)==null?void 0:S.unregistered)??[]}),typeof j.registeredDriverCount=="number"&&s(j.registeredDriverCount)}catch(O){console.error("Neon API fetch failed:",O)}})()},[C,w]),d.jsxs("div",{className:"p-8 bg-black-50 min-h-screen space-y-10",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"📊 管理者ダッシュボード"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white border-l-8 border-green-500 shadow p-6 rounded-lg",children:[d.jsx("h2",{className:"text-gray-600 text-lg mb-2",children:"📅 今日の稼働状況"}),d.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[n," / ",i," 名"]})]}),d.jsxs("div",{className:"bg-white border-l-8 border-red-500 shadow p-6 rounded-lg",children:[d.jsx("h2",{className:"text-gray-600 text-lg mb-2",children:"🚛 未提出・差し戻し日報"}),d.jsxs("p",{className:"text-4xl font-bold text-red-500",children:[t," 件"]})]}),d.jsxs("div",{className:"bg-white border-l-8 border-blue-500 shadow p-6 rounded-lg",children:[d.jsx("h2",{className:"text-gray-600 text-lg mb-2",children:"📄 今月の帳票作成"}),d.jsxs("div",{className:"text-xl text-blue-600 space-y-1",children:[d.jsxs("p",{children:["発注書：",d.jsx("strong",{children:H2(o,"PO")})," 件"]}),d.jsxs("p",{children:["支払明細：",d.jsx("strong",{children:H2(o,"PS")})," 件"]}),d.jsxs("p",{children:["請求書：",d.jsx("strong",{children:H2(o,"INV")})," 件"]})]})]})]}),d.jsxs("div",{className:"bg-white shadow p-6 rounded-lg border-l-4 border-indigo-400",children:[d.jsx("h2",{className:"text-gray-600 text-lg mb-4",children:"📥 最新提出物（直近5件）"}),d.jsx("ul",{className:"text-md space-y-2",children:(a??[]).map((y,E)=>d.jsxs("li",{className:"flex justify-between border-b pb-1",children:[d.jsxs("span",{children:[y.date," - ",y.name]}),d.jsxs("span",{className:"text-sm text-gray-500",children:["（",y.status,"）"]})]},E))})]}),d.jsxs("div",{className:"bg-white shadow p-6 rounded-lg border-l-4 border-green-400",children:[d.jsx("h2",{className:"text-gray-600 text-lg mb-4",children:"🧑‍💼 稼働ステータス一覧"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-green-600",children:"✅ 稼働中"}),d.jsx("ul",{className:"text-sm",children:c.active.map((y,E)=>d.jsx("li",{children:y},E))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-yellow-500",children:"☕ 休憩中"}),d.jsx("ul",{className:"text-sm",children:c.break.map((y,E)=>d.jsx("li",{children:y},E))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-gray-600",children:"🚚 稼働終了"}),d.jsx("ul",{className:"text-sm",children:c.end.map((y,E)=>d.jsx("li",{children:y},E))})]})]})]}),p.length>0&&d.jsxs("div",{className:"shadow p-6 rounded-lg border-l-4 border-red-500 blink-box",children:[d.jsx("h2",{className:"text-red-700 text-lg font-bold mb-4",children:"⚠️ アラート"}),d.jsx("ul",{className:"space-y-2 text-md text-red-800",children:p.map((y,E)=>d.jsx("li",{children:y},E))})]}),d.jsxs("div",{className:"bg-yellow-50 shadow p-6 rounded-lg border-l-4 border-yellow-400",children:[d.jsx("h2",{className:"text-yellow-800 text-lg mb-4",children:"🔄 今日のシフト登録状況"}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-green-600",children:"✅ 登録済み"}),d.jsx("ul",{className:"text-sm text-gray-800",children:b.registered.map((y,E)=>d.jsx("li",{children:y},E))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-red-500",children:"❌ 未登録"}),d.jsx("ul",{className:"text-sm text-gray-800",children:b.unregistered.map((y,E)=>d.jsx("li",{children:y},E))})]})]})]})]})}localStorage.getItem("loginId");function jY(t){const e=[t.temperature?1:0,t.alcohol?1:0,t.start?1:0,t.breakStart?1:0,t.breakEnd?1:0,t.end?1:0,Number.isFinite(t.distanceBefore)&&Number.isFinite(t.distanceAfter)?1:0],n=e.reduce((o,l)=>o+l,0),r=e.length,i=Math.round(n/r*100);let s="勤務中";return t.end?s="帰庫済":t.breakStart&&!t.breakEnd?s="休憩中":t.breakEnd&&!t.end&&(s="復帰中"),{percent:i,phase:s}}function UY(t){return!!t.start&&!t.end}function kY(){const[t,e]=Y.useState([]),[n,r]=Y.useState(null),[i,s]=Y.useState(!1),[o,l]=Y.useState(null),[a,u]=Y.useState(""),c=1e4,h={date:"日付",start:"稼働開始",breakStart:"休憩開始",breakEnd:"休憩終了",end:"稼働終了"};Y.useEffect(()=>{let y;const E=async()=>{var F;try{const k=await((F=Bn().currentUser)==null?void 0:F.getIdToken());if(!k)return;const N=await fetch("/api/daily-reports",{headers:{Authorization:`Bearer ${k}`}});if(!N.ok)throw new Error(`HTTP ${N.status}`);if(!(N.headers.get("content-type")||"").includes("application/json"))throw new Error("Non-JSON response");const O=await N.json();e(O||[]),u(new Date().toLocaleTimeString())}catch{}};return E(),y=window.setInterval(E,c),()=>{y&&window.clearInterval(y)}},[]);const p=t,m=Y.useMemo(()=>p.filter(UY),[p]),b=async(y,E)=>{var k;const M=await((k=Bn().currentUser)==null?void 0:k.getIdToken());if(!M){alert("未ログインです");return}if(E==="returned")await fetch("/api/daily-reports/return",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({reportId:y,reason:""})});else if(E==="approved"){const N=p.find(S=>S.id===y);if(!N)return;await fetch("/api/daily-reports/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({reports:[{id:N.id,date:N.date,status:"approved",company:N.company,name:N.name,temperature:N.temperature,alcohol:N.alcohol,start:N.start,breakStart:N.breakStart,breakEnd:N.breakEnd,end:N.end,distanceBefore:N.distanceBefore,distanceAfter:N.distanceAfter}]})})}{const S=await(await fetch("/api/daily-reports",{headers:{Authorization:`Bearer ${M}`}})).json();e(S),u(new Date().toLocaleTimeString())}},_=async()=>{var k;if(!(o!=null&&o.id))return;const y=p.find(N=>N.id===o.id);if(!y)return;const E={...y,...o},M=await((k=Bn().currentUser)==null?void 0:k.getIdToken());if(!M){alert("未ログインです");return}await fetch("/api/daily-reports/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({reports:[{id:E.id,date:E.date,status:E.status||"submitted",company:E.company,name:E.name,temperature:E.temperature,alcohol:E.alcohol,start:E.start,breakStart:E.breakStart,breakEnd:E.breakEnd,end:E.end,distanceBefore:E.distanceBefore,distanceAfter:E.distanceAfter}]})}),alert("保存しました。"),s(!1);{const S=await(await fetch("/api/daily-reports",{headers:{Authorization:`Bearer ${M}`}})).json();e(S),u(new Date().toLocaleTimeString())}},C=y=>r(y),w=()=>r(null);return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h1",{className:"text-3xl font-bold text-white tracking-wide",children:["📋 ",d.jsx("span",{className:"align-middle",children:"日報管理"}),d.jsx("span",{className:"ml-2 text-sm text-white",children:"- Active Driver Reports -"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"text-xs text-gray-300",children:["⏱ 最終更新: ",a||"—","（自動更新 10秒）"]}),d.jsx("button",{className:"px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700 text-sm",onClick:()=>{n?(l({...n}),s(!0)):alert("先に日報を選択してください（表示ボタン）")},children:"編集"}),d.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700 text-sm",onClick:async()=>{if(!n){alert("差し戻す日報を選択してください（表示ボタン）");return}window.confirm(`この日報を差し戻しますか？
ドライバーに再提出を依頼します。`)&&(await b(n.id,"returned"),alert("差し戻しました。"))},children:"差し戻し"})]})]}),d.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200 shadow-sm bg-white",children:d.jsxs("table",{className:"w-full text-sm border-separate border-spacing-y-0",children:[d.jsx("thead",{className:"sticky top-0 bg-slate-50 text-left",children:d.jsxs("tr",{className:"text-slate-700",children:[d.jsx("th",{className:"p-3 font-semibold",children:"ID"}),d.jsx("th",{className:"p-3 font-semibold",children:"会社名"}),d.jsx("th",{className:"p-3 font-semibold",children:"氏名"}),d.jsx("th",{className:"p-3 font-semibold",children:"日付"}),d.jsx("th",{className:"p-3 font-semibold",children:"体調管理"}),d.jsx("th",{className:"p-3 font-semibold",children:"稼働開始"}),d.jsx("th",{className:"p-3 font-semibold",children:"休憩開始"}),d.jsx("th",{className:"p-3 font-semibold",children:"休憩終了"}),d.jsx("th",{className:"p-3 font-semibold",children:"稼働終了"}),d.jsx("th",{className:"p-3 font-semibold",children:"走行距離"}),d.jsx("th",{className:"p-3 font-semibold",children:"ステータス"}),d.jsx("th",{className:"p-3 font-semibold text-center",children:"詳細"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-100",children:[m.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:12,className:"p-6 text-center text-gray-500",children:"現在、稼働中のドライバーはいません。"})}),m.map(y=>{const{percent:E,phase:F}=jY(y),k=Number.isFinite(y.distanceBefore)&&Number.isFinite(y.distanceAfter)?Math.max(0,y.distanceAfter-y.distanceBefore):null;return d.jsxs("tr",{className:"bg-white hover:bg-emerald-50 transition-colors",children:[d.jsx("td",{className:"p-3 text-slate-800",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"relative flex h-2 w-2",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-emerald-400"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-600"})]}),y.id]})}),d.jsx("td",{className:"p-3 text-slate-800",children:y.company}),d.jsx("td",{className:"p-3 text-slate-800 font-medium",children:y.name}),d.jsx("td",{className:"p-3 text-slate-800",children:y.date}),d.jsx("td",{className:"p-3",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{className:y.temperature==="OK"?"text-emerald-700":"text-rose-700",children:["体温: ",y.temperature]}),d.jsxs("span",{className:y.alcohol==="OK"?"text-emerald-700":"text-rose-700",children:["ｱﾙｺｰﾙ: ",y.alcohol]})]})}),d.jsx("td",{className:"p-3 text-slate-800",children:y.start||"—"}),d.jsx("td",{className:"p-3 text-slate-800",children:y.breakStart||"—"}),d.jsx("td",{className:"p-3 text-slate-800",children:y.breakEnd||"—"}),d.jsx("td",{className:"p-3 text-slate-800",children:y.end||"—"}),d.jsx("td",{className:"p-3 text-slate-800",children:k!==null?`${k} km`:"—"}),d.jsxs("td",{className:"p-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold "+(F==="休憩中"?"bg-amber-100 text-amber-800":F==="復帰中"?"bg-blue-100 text-blue-800":F==="帰庫済"?"bg-slate-200 text-slate-700":"bg-emerald-100 text-emerald-800"),children:F}),y.status==="returned"?d.jsx("span",{className:"text-rose-700 text-xs font-semibold",children:"差し戻し"}):y.status==="approved"?d.jsx("span",{className:"text-emerald-700 text-xs font-semibold",children:"承認済"}):y.status==="submitted"?d.jsx("span",{className:"text-amber-700 text-xs font-semibold",children:"再提出済"}):d.jsx("span",{className:"text-slate-500 text-xs",children:"提出済"})]}),d.jsx("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 transition-all",style:{width:`${E}%`},"aria-label":`進捗 ${E}%`,title:`進捗 ${E}%`})}),d.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[E,"%"]})]}),d.jsxs("td",{className:"p-3 text-center",children:[d.jsx("button",{onClick:()=>C(y),className:"text-blue-600 hover:underline",children:"表示"}),y.status==="submitted"&&d.jsx("button",{onClick:async()=>{window.confirm("この日報を承認しますか？")&&(await b(y.id,"approved"),alert("✅ 日報を承認しました"))},className:"ml-3 px-2 py-1 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-xs",children:"承認"})]})]},y.id)})]})]})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 w-[90%] max-w-xl space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"日報詳細"}),d.jsxs("p",{children:[d.jsx("strong",{children:"氏名："}),n.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"会社名："}),n.company]}),d.jsxs("p",{children:[d.jsx("strong",{children:"日付："}),n.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"体温検査："}),n.temperature]}),d.jsxs("p",{children:[d.jsx("strong",{children:"アルコール検査："}),n.alcohol]}),d.jsxs("p",{children:[d.jsx("strong",{children:"稼働開始："}),n.start||"—"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"休憩開始："}),n.breakStart||"—"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"休憩終了："}),n.breakEnd||"—"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"稼働終了："}),n.end||"—"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"走行距離："}),Number.isFinite(n.distanceBefore)&&Number.isFinite(n.distanceAfter)?`${Math.max(0,n.distanceAfter-n.distanceBefore)} km`:"—"]}),d.jsx("div",{className:"text-right",children:d.jsx("button",{onClick:w,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-800",children:"閉じる"})})]})}),i&&o&&d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 w-[90%] max-w-xl space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"📘 日報編集"}),["date","start","breakStart","breakEnd","end"].map(y=>d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-700",children:h[y]}),d.jsx("input",{type:y==="date"?"date":"time",className:"w-full p-2 border rounded",value:o[y]||"",onChange:E=>l(F=>({...F,[y]:E.target.value}))})]},y)),d.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[d.jsx("button",{className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",onClick:()=>s(!1),children:"キャンセル"}),d.jsx("button",{className:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700",onClick:_,children:"保存"})]})]})})]})}var XT,ZT,eF,tF;const RY=((ZT=(XT=typeof process<"u"?process:void 0)==null?void 0:XT.env)==null?void 0:ZT.NEXT_PUBLIC_API_BASE)||((tF=(eF=typeof import.meta<"u"?import.meta:void 0)==null?void 0:eF.env)==null?void 0:tF.VITE_API_BASE_URL)||"",OY=RY.replace(/\/$/,""),bf=t=>`${OY}${t.startsWith("/")?t:`/${t}`}`,DY=(t,e=500)=>{let n;return(...r)=>{n&&window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}},J4=(t=6)=>Math.random().toString(36).slice(-t),V2=[{id:"basic",name:"ベーシック",price:9800,maxUsers:10,features:{chat:!0,shift:!0,dailyReport:!1,vehicle:!1}},{id:"advanced",name:"アドバンス",price:19800,maxUsers:30,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!1}},{id:"pro",name:"プロ",price:32e3,maxUsers:50,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}},{id:"elite",name:"エリート",price:42e3,maxUsers:70,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}},{id:"premium",name:"プレミアム",price:55e3,maxUsers:99,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}},{id:"unlimited",name:"アンリミテッド",price:6e4,maxUsers:Number.POSITIVE_INFINITY,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}}],QY=async t=>{var e,n,r;try{const s=await((e=Bn().currentUser)==null?void 0:e.getIdToken()),o=await fetch(bf(`/api/company/config?company=${encodeURIComponent(t)}`),{headers:{Authorization:`Bearer ${s||""}`,Accept:"application/json"},credentials:"include"});if(o.ok){const l=await o.json(),a=(n=l==null?void 0:l.limits)==null?void 0:n.maxUsers;return{maxUsers:typeof a=="number"?a:null}}}catch{}try{const i=JSON.parse(localStorage.getItem("customerMaster")||"[]"),s=Array.isArray(i)?i.find(l=>l.company===t):null,o=(r=s==null?void 0:s.limits)==null?void 0:r.maxUsers;return{maxUsers:typeof o=="number"?o:null}}catch{return{maxUsers:null}}},MY=async t=>{var r;try{const s=await((r=Bn().currentUser)==null?void 0:r.getIdToken()),o=await fetch(bf(`/api/company/stats?company=${encodeURIComponent(t)}`),{headers:{Authorization:`Bearer ${s||""}`,Accept:"application/json"},credentials:"include"});if(o.ok){const l=await o.json();return{adminCount:Number((l==null?void 0:l.adminCount)||0),driverCount:Number((l==null?void 0:l.driverCount)||0),total:Number((l==null?void 0:l.userCount)??Number((l==null?void 0:l.adminCount)||0)+Number((l==null?void 0:l.driverCount)||0))}}}catch{}const e=JSON.parse(localStorage.getItem("adminMaster")||"[]").filter(i=>i.company===t).length,n=JSON.parse(localStorage.getItem("driverMaster")||"[]").filter(i=>i.company===t).length;return{adminCount:e,driverCount:n,total:e+n}},HY=t=>V2.find(e=>t<=e.maxUsers)||V2[V2.length-1];var nF;typeof process<"u"&&((nF=process.env)==null?void 0:nF.NODE_ENV)==="production"||typeof import.meta<"u";const VY=t=>{try{const e=JSON.parse(localStorage.getItem("driverMaster")||"[]");return Array.isArray(e)?e.filter(n=>n.company===t):[]}catch{return[]}},fp=(t,e)=>{try{const n=JSON.parse(localStorage.getItem("driverMaster")||"[]"),r=Array.isArray(n)?n.filter(i=>i.company!==t):[];localStorage.setItem("driverMaster",JSON.stringify([...r,...e]))}catch{}},KY=async(t,e,n)=>{var o;const i=await((o=Bn().currentUser)==null?void 0:o.getIdToken()),s=await fetch(bf("/api/drivers/provision"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${i||""}`,"x-dev-company":t},credentials:"include",body:JSON.stringify({company:t,loginId:e,password:n})});if(!s.ok){const l=new Error(`HTTP ${s.status}`);throw l.status=s.status,l}return s.json()},K2=async t=>{var e;try{const r=await((e=Bn().currentUser)==null?void 0:e.getIdToken());if(!r)throw new Error("未ログイン");const i=await fetch(bf(`/api/drivers?company=${encodeURIComponent(t)}`),{headers:{Authorization:`Bearer ${r}`,Accept:"application/json","x-dev-company":t},credentials:"include"});if(!i.ok)throw new Error(`Fetch failed: ${i.status}`);const s=await i.json();return fp(t,s),s}catch(n){console.error("❌ ドライバー取得失敗:",n);const r=VY(t);return Array.isArray(r)?r:[]}},$d=async(t,e,n)=>{var l;const r=!!(n!=null&&n.silent),i=e.map(({attachments:a,licenseFiles:u,password:c,...h})=>h),o=await((l=Bn().currentUser)==null?void 0:l.getIdToken());if(!o){if(r){fp(t,i);return}throw alert("未ログインです。再ログインしてください。"),new Error("no token")}try{const a=await fetch(bf("/api/drivers/save"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"x-dev-company":t},credentials:"include",body:JSON.stringify({company:t,drivers:i})});if(!a.ok){if(fp(t,i),r)return;throw new Error(`Save failed: ${a.status}`)}fp(t,i)}catch(a){throw console.error("❌ 保存に失敗:",a),r||alert("保存に失敗しました。ネットワークをご確認ください。"),fp(t,i),a}},zY=()=>{const t=DY((fe,ne)=>{$d(fe,ne,{silent:!0})},600),e=(typeof window<"u"?localStorage.getItem("company"):"")||"",[n,r]=Y.useState([]),[i,s]=Y.useState([]),[o,l]=Y.useState({maxUsers:null}),[a,u]=Y.useState({adminCount:0,driverCount:0,total:0}),c=typeof o.maxUsers=="number"&&Number.isFinite(o.maxUsers),h=a.adminCount+n.length,[p,m]=Y.useState(!1),[b,_]=Y.useState("bottom"),C=async()=>{if(!e)return;const fe=await K2(e);r(fe),u(ne=>({...ne,driverCount:fe.length,total:ne.adminCount+fe.length}))};Y.useEffect(()=>{let fe=!0;return(async()=>{if(!e)return;const te=await K2(e);if(!fe)return;r(te);const Ae=localStorage.getItem("driverCustomFields");if(!fe)return;Ae&&s(JSON.parse(Ae));const xe=await QY(e);if(!fe)return;l(xe);const ye=await MY(e);fe&&(u({...ye,driverCount:te.length,total:ye.adminCount+te.length}),fe&&m(!0))})(),()=>{fe=!1}},[e]),Y.useEffect(()=>{u(fe=>({...fe,driverCount:n.length,total:fe.adminCount+n.length}))},[n]);const[w,y]=Y.useState(!1),[E,F]=Y.useState(null),[M,k]=Y.useState(""),N=async fe=>{var Ae;const ne=new Date;ne.setDate(1),ne.setHours(0,0,0,0);const te=ne.toISOString();try{const ye=await((Ae=Bn().currentUser)==null?void 0:Ae.getIdToken());await fetch(bf("/api/billing/upgrade"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ye||""}`},credentials:"include",body:JSON.stringify({company:e,toPlanId:fe.id,effectiveFrom:te,apply:"immediate"})})}catch{}try{const xe=JSON.parse(localStorage.getItem("customerMaster")||"[]"),ye=Array.isArray(xe)?xe.findIndex(Fe=>Fe.company===e):-1;ye>=0&&(xe[ye]={...xe[ye],selectedPlans:[fe.id],plan:fe.name,limits:{...xe[ye].limits||{},maxUsers:Number.isFinite(fe.maxUsers)?fe.maxUsers:null},features:{...fe.features},billing:{...xe[ye].billing||{},currentPlanId:fe.id,currentPrice:fe.price,lastChangedAt:new Date().toISOString(),effectiveFrom:te}},localStorage.setItem("customerMaster",JSON.stringify(xe)))}catch{}l({maxUsers:Number.isFinite(fe.maxUsers)?fe.maxUsers:null}),T(`プランを「${fe.name}」（月額 ¥${fe.price.toLocaleString()}）にアップグレードしました。今月分から適用されます。`),alert(`✅ プランを「${fe.name}」にアップグレードしました。
月額 ¥${fe.price.toLocaleString()}（当月から適用）`)},S=fe=>{const ne=HY(fe);F(ne),k(`現在の登録人数（管理者+ドライバー）では上限を超えます。
プランを「${ne.name}」(月額 ¥${ne.price.toLocaleString()}) にアップグレードすると続行できます。
※ アップグレードは本日が属する月から適用されます。`),y(!0)},O=async()=>{E&&(await N(E),y(!1),await be(!0))},[H,j]=Y.useState([]),T=fe=>{const ne=`${Date.now()}-${Math.random()}`,te=new Date().toLocaleString("ja-JP"),Ae={id:ne,message:fe,timestamp:te,read:!1};j(xe=>{const ye=[...xe,Ae];return localStorage.setItem("adminNotifications",JSON.stringify(ye)),ye})},D=()=>{r(fe=>{const ne=new Date,te=`${ne.getHours().toString().padStart(2,"0")}:${ne.getMinutes().toString().padStart(2,"0")}`,Ae=ne.toLocaleTimeString("ja-JP");return fe.map(xe=>{const ye=xe.shiftStart&&xe.shiftEnd,Fe=xe.shiftStart,Ce=xe.shiftEnd,me=xe.isWorking,Ye=xe.resting;return ye?(!me&&te>=Fe&&te<Ce&&T(`【警告】${xe.name} さんが勤務開始していません（${Fe}〜）`),me&&te>=Ce&&T(`【警告】${xe.name} さんが勤務終了していません（〜${Ce}）`),!me&&te<Fe?{...xe,status:"稼働前",statusUpdatedAt:Ae}:me&&Ye?{...xe,status:"休憩中",statusUpdatedAt:Ae}:me&&te>=Fe&&te<Ce?{...xe,status:"稼働中",statusUpdatedAt:Ae}:me&&te>=Ce?{...xe,status:"稼働終了",statusUpdatedAt:Ae}:{...xe,status:"予定なし",statusUpdatedAt:Ae}):{...xe,status:"予定なし",statusUpdatedAt:Ae}})})};Y.useEffect(()=>{D();const fe=setInterval(D,3e4);return()=>clearInterval(fe)},[]);const[W,oe]=Y.useState(null),[V,q]=Y.useState(null),z=()=>{oe(null),q(null)},ue=async fe=>{if(!window.confirm("本当にこのドライバーを削除しますか？"))return;const ne=[...n];ne.splice(fe,1),r(ne),await $d(e,ne),await C()},ie=(fe,ne,te)=>{const Ae=[...n];Ae[fe][ne]=te,r(Ae),t(e,Ae)},be=async(fe=!1)=>{const ne=await K2(e),te=new Set(ne.map(ze=>ze.loginId)),Ae=a.adminCount+ne.length+1;if(!fe&&c&&Ae>o.maxUsers){S(Ae);return}let xe=ne.length+1,ye=`driver${String(xe).padStart(4,"0")}`;for(;te.has(ye);)xe+=1,ye=`driver${String(xe).padStart(4,"0")}`;let Fe="",Ce=J4(8),me=!1;try{let ze=0;for(;ze<5;)try{const{uid:Je}=await KY(e,ye,Ce);Fe=Je,me=!0;break}catch(Je){if((Je==null?void 0:Je.status)===409){xe+=1,ye=`driver${String(xe).padStart(4,"0")}`,ze++;continue}throw Je}}catch{Fe=`local-${Date.now()}-${J4(4)}`,me=!1}const Ye={id:`driver${String(xe).padStart(4,"0")}`,uid:Fe,loginId:ye,password:Ce,name:"",contractType:"社員",invoiceNo:"",company:e,phone:"",address:"",mail:"",birthday:"",licenseFiles:[],licenseExpiry:"",attachments:[],hidden:!1,status:"予定なし",isWorking:!1,resting:!1,shiftStart:"09:00",shiftEnd:"18:00",provisionPending:!me},We=[...n];let Qe=[],Ve=0;if(b==="byLoginId")Qe=[...We,Ye].sort((ze,Je)=>ze.loginId.localeCompare(Je.loginId,"ja")),Ve=Qe.findIndex(ze=>ze.uid===Fe);else{let ze=We.length;b==="top"?ze=0:b==="afterSelected"&&V!==null&&(ze=Math.min(V+1,We.length)),Qe=[...We],Qe.splice(ze,0,Ye),Ve=ze}r(Qe);try{await $d(e,Qe,{silent:!0}),await C()}catch{}oe(Ve),q(Ve);try{await navigator.clipboard.writeText(`ログインID: ${ye}
初期PW: ${Ce}`)}catch{}alert(`✅ ドライバーを追加しました
ログインID: ${ye}
初期パスワード: ${Ce}

${me?"":`⚠️ 認証アカウントが未発行の可能性があります。/api/drivers/provision を確認してください。
`}※このパスワードは今回のみ表示され、サーバには保存されません。`),T(`ドライバーを追加しました（ログインID: ${ye} / 初期PW: ${Ce}）`)},Q=async()=>be(!1),J=async(fe,ne)=>{const te=ne.target.files;if(!te)return;const Ae=Array.from(te),xe=[...n],ye={...xe[fe]},Fe=ye.attachments||[],Ce=Ae.filter(me=>!Fe.some(Ye=>Ye.name===me.name&&Ye.size===me.size));if(Fe.length+Ce.length>10){alert("最大10ファイルまで添付できます。");return}ye.attachments=[...Fe,...Ce],xe[fe]=ye,r(xe),await $d(e,xe),ne.target.value="",await C()},re=async(fe,ne)=>{const te=[...n[fe].attachments||[]];te.splice(ne,1);const Ae=[...n];Ae[fe]={...Ae[fe],attachments:te},r(Ae),await $d(e,Ae),await C()},ee=fe=>{switch(fe){case"予定なし":return"bg-gray-400 text-white";case"稼働前":return"bg-yellow-400 text-black";case"稼働中":return"bg-orange-400 text-white";case"休憩中":return"bg-blue-400 text-white";case"稼働終了":return"bg-green-500 text-white";default:return"bg-gray-200"}},he=fe=>{const ne="inline-block px-3 py-1 rounded-full font-semibold text-sm ";switch(fe){case"社員":return{class:ne+"text-white bg-green-600",label:"社員"};case"委託":return{class:ne+"text-white bg-purple-600",label:"委託"};default:return{class:ne+"text-gray-700 bg-gray-300",label:"未設定"}}},ve=async fe=>{try{await navigator.clipboard.writeText(fe)}catch{alert("コピーに失敗しました")}};return d.jsxs("div",{className:"p-4 w-full overflow-auto bg-white",children:[d.jsxs("div",{className:"flex items-center text-black font-bold mb-4",children:[d.jsx("span",{className:"mr-2",children:"🚚"}),d.jsxs("span",{children:["ドライバー管理 ",d.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"-Driver Manager-"})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[d.jsx("button",{type:"button",className:"px-4 py-2 rounded text-white bg-blue-600 hover:bg-blue-700 text-sm",onClick:Q,disabled:!p,title:p?c?`上限 ${o.maxUsers} 名（管理者+ドライバー合算）`:"無制限":"読み込み中…",children:"ドライバー追加"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"差し込み位置"}),d.jsxs("select",{className:`border rounded px-2 py-1 text-sm bg-white text-gray-900
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:b,onChange:fe=>_(fe.target.value),title:"新規行をどこに差し込むか選べます",children:[d.jsx("option",{value:"bottom",children:"末尾"}),d.jsx("option",{value:"top",children:"先頭"}),d.jsx("option",{value:"afterSelected",children:"選択行の下"}),d.jsx("option",{value:"byLoginId",children:"ログインID昇順"})]})]}),d.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded text-sm",onClick:D,children:"ステータス更新"}),W!==null&&d.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm",onClick:z,children:"保存"}),d.jsxs("span",{className:"text-sm text-gray-600 ml-auto",children:["管理者 ",a.adminCount," 名 / ドライバー ",n.length," 名",c?`　合計 ${h} 名 / 上限 ${o.maxUsers} 名`:`　合計 ${h} 名（上限なし）`]})]}),d.jsxs("div",{className:"hidden md:block",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-gray-600 bg-gray-50 border border-gray-200 rounded-t",children:[d.jsx("span",{children:"横にスクロールできます"}),d.jsxs("span",{children:["件数: ",n.length]})]}),d.jsx("div",{className:"w-full overflow-x-auto border border-t-0 border-gray-200 rounded-b",children:d.jsxs("table",{className:"w-full table-auto whitespace-nowrap bg-white text-slate-900",children:[d.jsx("thead",{className:"bg-gray-800 text-white font-bold",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border px-2 py-1",children:"ステータス"}),d.jsx("th",{className:"border px-2 py-1",children:"操作"}),d.jsx("th",{className:"border px-2 py-1",children:"ID"}),d.jsx("th",{className:"border px-2 py-1",children:"氏名"}),d.jsx("th",{className:"border px-2 py-1",children:"契約種別"}),d.jsx("th",{className:"border px-2 py-1",children:"インボイス番号"}),d.jsx("th",{className:"border px-2 py-1",children:"所属会社"}),d.jsx("th",{className:"border px-2 py-1",children:"電話番号"}),d.jsx("th",{className:"border px-2 py-1",children:"ログインID"}),d.jsx("th",{className:"border px-2 py-1",children:"パスワード"}),d.jsx("th",{className:"border px-2 py-1",children:"住所"}),d.jsx("th",{className:"border px-2 py-1",children:"メール"}),d.jsx("th",{className:"border px-2 py-1",children:"生年月日"}),i.map((fe,ne)=>d.jsx("th",{className:"border px-2 py-1",children:fe},`h-${ne}`)),d.jsx("th",{className:"border px-2 py-1",children:"ファイル添付"})]})}),d.jsx("tbody",{className:"text-slate-900",children:n.map((fe,ne)=>d.jsxs("tr",{className:"odd:bg-white even:bg-gray-100",children:[d.jsxs("td",{className:"border px-2 py-1 break-all",children:[d.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ee(fe.status)}`,children:fe.status}),d.jsxs("div",{className:"text-[10px] text-gray-600 mt-1",children:["最終更新: ",fe.statusUpdatedAt||"未取得"]})]}),d.jsxs("td",{className:"border px-2 py-1 break-all",children:[d.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded mr-2",onClick:()=>{oe(ne),q(ne)},children:"編集"}),d.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded",onClick:async()=>{if(!window.confirm("本当にこのドライバーを削除しますか？"))return;const te=[...n];te.splice(ne,1),r(te),await $d(e,te),await C()},children:"削除"})]}),d.jsxs("td",{className:"border px-2 py-1 break-all",children:[fe.id,fe.provisionPending&&d.jsx("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded bg-yellow-100 text-yellow-800 border border-yellow-200",children:"未発行"})]}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{autoFocus:!0,className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900 placeholder-gray-500
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,placeholder:"例）佐藤 太郎",value:fe.name,onChange:te=>{const Ae=[...n];Ae[ne].name=te.target.value,r(Ae),t(e,Ae)}}):fe.name}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsxs("select",{className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:fe.contractType,onChange:te=>{const Ae=[...n];Ae[ne].contractType=te.target.value,r(Ae),t(e,Ae)},children:[d.jsx("option",{value:"社員",children:"社員"}),d.jsx("option",{value:"委託",children:"委託"})]}):d.jsx("span",{className:`inline-block px-3 py-1 rounded-full font-semibold text-sm ${fe.contractType==="社員"?"text-white bg-green-600":"text-white bg-purple-600"}`,children:fe.contractType})}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900 placeholder-gray-500
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                          disabled:bg-gray-100`,value:fe.invoiceNo||"",onChange:te=>{const Ae=[...n];Ae[ne].invoiceNo=te.target.value,r(Ae),t(e,Ae)},placeholder:"T1234-…",disabled:fe.contractType!=="委託"}):fe.contractType==="委託"&&fe.invoiceNo||"-"}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:fe.company,onChange:te=>{const Ae=[...n];Ae[ne].company=te.target.value,r(Ae),t(e,Ae)}}):fe.company}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:fe.phone,onChange:te=>{const Ae=[...n];Ae[ne].phone=te.target.value,r(Ae),t(e,Ae)}}):fe.phone}),d.jsx("td",{className:"border px-2 py-1 break-all",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono",children:fe.loginId}),d.jsx("button",{type:"button",className:"text-xs underline text-indigo-700",onClick:()=>ve(fe.loginId),children:"コピー"})]})}),d.jsx("td",{className:"border px-2 py-1 break-all",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono",children:fe.password}),d.jsx("button",{type:"button",className:"text-xs underline text-indigo-700",onClick:()=>ve(fe.password),children:"コピー"})]})}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:fe.address,onChange:te=>{const Ae=[...n];Ae[ne].address=te.target.value,r(Ae),t(e,Ae)}}):fe.address}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{type:"email",className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900 placeholder-gray-500
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:fe.mail||"",onChange:te=>{const Ae=[...n];Ae[ne].mail=te.target.value,r(Ae),t(e,Ae)},placeholder:"sample@example.com"}):fe.mail}),d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{type:"date",className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                          bg-white text-gray-900
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:fe.birthday,onChange:te=>{const Ae=[...n];Ae[ne].birthday=te.target.value,r(Ae),t(e,Ae)}}):fe.birthday}),i.map((te,Ae)=>d.jsx("td",{className:"border px-2 py-1 break-all",children:W===ne?d.jsx("input",{className:`w-full text-sm border border-gray-300 rounded px-2 py-1
                            bg-white text-gray-900 placeholder-gray-500
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,value:fe[te]||"",onChange:xe=>{const ye=[...n];ye[ne][te]=xe.target.value,r(ye),t(e,ye)}}):fe[te]||""},`c-${ne}-${Ae}`)),d.jsxs("td",{className:"border px-2 py-1 text-center",children:[d.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",onClick:()=>q(V===ne?null:ne),children:"詳細"}),V===ne&&d.jsxs("div",{className:"mt-2",children:[W===ne&&d.jsx("input",{type:"file",multiple:!0,onChange:te=>J(ne,te),className:"mb-1 text-xs"}),d.jsx("ul",{className:"text-left text-xs mt-1",children:(fe.attachments||[]).map((te,Ae)=>d.jsxs("li",{className:"flex items-center justify-between mb-1",children:[d.jsx("a",{href:URL.createObjectURL(te),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline break-all w-40",children:te.name}),W===ne&&d.jsx("button",{className:"text-red-600 ml-2",onClick:()=>re(ne,Ae),children:"削除"})]},Ae))})]})]})]},ne))})]})})]}),d.jsx("div",{className:"md:hidden space-y-3",children:n.map((fe,ne)=>{const te=he(fe.contractType);return d.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${ee(fe.status)}`,children:fe.status}),d.jsxs("div",{className:"text-[10px] text-gray-500",children:["最終更新: ",fe.statusUpdatedAt||"未取得"]})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[d.jsx("div",{className:"font-semibold text-gray-900",children:fe.name||"（氏名未設定）"}),d.jsx("span",{className:te.class,children:te.label})]}),d.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-1 text-sm",children:[d.jsxs("div",{className:"text-gray-500",children:["ID: ",d.jsx("span",{className:"text-gray-900",children:fe.id})]}),d.jsxs("div",{className:"text-gray-500",children:["会社: ",d.jsx("span",{className:"text-gray-900",children:fe.company})]}),d.jsxs("div",{className:"text-gray-500",children:["電話: ",d.jsx("span",{className:"text-gray-900",children:fe.phone})]}),d.jsxs("div",{className:"text-gray-500 flex flex-wrap items-center gap-2",children:[d.jsx("span",{children:"ログインID:"}),d.jsx("span",{className:"font-mono text-gray-900",children:fe.loginId}),d.jsx("button",{className:"text-xs underline text-indigo-700",onClick:()=>ve(fe.loginId),children:"コピー"})]}),d.jsxs("div",{className:"text-gray-500 flex flex-wrap items-center gap-2",children:[d.jsx("span",{children:"初期PW:"}),d.jsx("span",{className:"font-mono text-gray-900",children:fe.password}),d.jsx("button",{className:"text-xs underline text-indigo-700",onClick:()=>ve(fe.password),children:"コピー"})]}),fe.mail&&d.jsxs("div",{className:"text-gray-500",children:["メール: ",d.jsx("span",{className:"text-gray-900 break-all",children:fe.mail})]}),fe.address&&d.jsxs("div",{className:"text-gray-500",children:["住所: ",d.jsx("span",{className:"text-gray-900 break-all",children:fe.address})]}),fe.birthday&&d.jsxs("div",{className:"text-gray-500",children:["生年月日: ",d.jsx("span",{className:"text-gray-900",children:fe.birthday})]}),i.map((Ae,xe)=>d.jsxs("div",{className:"text-gray-500",children:[Ae,": ",d.jsx("span",{className:"text-gray-900 break-all",children:fe[Ae]||""})]},`m-${ne}-${xe}`))]}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[d.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm",onClick:()=>{oe(ne),q(ne)},children:"編集"}),d.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",onClick:()=>ue(ne),children:"削除"}),W===ne&&d.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",onClick:z,children:"保存"})]}),W===ne&&d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1",placeholder:"氏名",value:fe.name,onChange:Ae=>ie(ne,"name",Ae.target.value)}),d.jsxs("select",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1",value:fe.contractType,onChange:Ae=>ie(ne,"contractType",Ae.target.value),children:[d.jsx("option",{value:"社員",children:"社員"}),d.jsx("option",{value:"委託",children:"委託"})]}),d.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1",placeholder:"電話番号",value:fe.phone,onChange:Ae=>ie(ne,"phone",Ae.target.value)}),d.jsx("input",{className:"w-full text-sm border border-gray-300 rounded px-2 py-1",placeholder:"住所",value:fe.address,onChange:Ae=>ie(ne,"address",Ae.target.value)}),d.jsx("input",{type:"email",className:"w-full text-sm border border-gray-300 rounded px-2 py-1",placeholder:"sample@example.com",value:fe.mail||"",onChange:Ae=>ie(ne,"mail",Ae.target.value)}),d.jsx("input",{type:"date",className:"w-full text-sm border border-gray-300 rounded px-2 py-1",value:fe.birthday,onChange:Ae=>ie(ne,"birthday",Ae.target.value)}),d.jsxs("div",{className:"pt-1",children:[d.jsx("input",{type:"file",multiple:!0,onChange:Ae=>J(ne,Ae),className:"text-xs"}),d.jsx("ul",{className:"text-left text-xs mt-1",children:(fe.attachments||[]).map((Ae,xe)=>d.jsxs("li",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"break-all w-44",children:Ae.name}),d.jsx("button",{className:"text-red-600 ml-2",onClick:()=>re(ne,xe),children:"削除"})]},xe))})]})]})]},ne)})}),w&&E&&d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[92%] max-w-[520px] p-5",children:[d.jsx("h3",{className:"text-lg font-bold mb-2",children:"プラン上限に達しました"}),d.jsx("p",{className:"whitespace-pre-wrap text-sm text-gray-700 mb-4",children:M}),d.jsxs("div",{className:"rounded-md border p-3 mb-4 bg-gray-50",children:[d.jsx("div",{className:"text-sm",children:"アップグレード先"}),d.jsx("div",{className:"font-semibold text-lg",children:E.name}),d.jsxs("div",{className:"text-sm text-gray-600",children:["月額 ¥",E.price.toLocaleString(),"（税込）"]}),d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"※ 当月から適用・承認不要で即時反映"})]}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{className:"px-4 py-1 rounded border",onClick:()=>y(!1),children:"キャンセル"}),d.jsx("button",{className:"px-4 py-1 rounded bg-blue-600 text-white",onClick:O,children:"今すぐアップグレードして続行"})]})]})})]})};var rF,iF,sF,oF;const $Y=((iF=(rF=typeof process<"u"?process:void 0)==null?void 0:rF.env)==null?void 0:iF.NEXT_PUBLIC_API_BASE)||((oF=(sF=typeof import.meta<"u"?import.meta:void 0)==null?void 0:sF.env)==null?void 0:oF.VITE_API_BASE_URL)||"";function GY(t,e){if(!t)return e;const n=t.replace(/\/+$/,""),r=e.replace(/^\/+/,"");return`${n}/${r}`}async function pc(t,e){const n=GY($Y,t),r=await fetch(n,{credentials:"include",headers:{Accept:"application/json",...(e==null?void 0:e.headers)||{}},...e});if(!r.ok){const s=await r.text().catch(()=>""),o=new Error(`HTTP ${r.status} at ${n}
${s.slice(0,200)}`);throw o.status=r.status,o}const i=r.headers.get("content-type")||"";if(!i.includes("application/json")){const s=await r.text().catch(()=>""),o=new Error(`Expected JSON but got "${i||"unknown"}" from ${n}
`+s.slice(0,200));throw o.status=415,o}return r.json()}const Gd={list:async t=>{var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));return pc(`/api/vehicles?company=${encodeURIComponent(t)}`,{headers:e?{Authorization:`Bearer ${e}`}:{}})},create:async t=>{var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));return pc("/api/vehicles",{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:JSON.stringify(t)})},update:async(t,e)=>{var r,i;const n=await((i=(r=Bn().currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r));return pc(`/api/vehicles/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:JSON.stringify(e)})},remove:async t=>{var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));return pc(`/api/vehicles/${t}`,{method:"DELETE",headers:e?{Authorization:`Bearer ${e}`}:{}})},uploadAttachments:async(t,e)=>{var i,s;const n=await((s=(i=Bn().currentUser)==null?void 0:i.getIdToken)==null?void 0:s.call(i)),r=new FormData;return e.forEach(o=>r.append("files",o)),pc(`/api/vehicles/${t}/attachments`,{method:"POST",headers:n?{Authorization:`Bearer ${n}`}:{},body:r})},deleteAttachment:async(t,e)=>{var r,i;const n=await((i=(r=Bn().currentUser)==null?void 0:r.getIdToken)==null?void 0:i.call(r));return pc(`/api/vehicles/${t}/attachments?name=${encodeURIComponent(e)}`,{method:"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}})}},WY={list:async t=>{var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));return pc(`/api/drivers?company=${encodeURIComponent(t)}`,{headers:e?{Authorization:`Bearer ${e}`}:{}})}},f0=t=>t.trim().length>0;function qY(t){if(!f0(t.type))return"車種を入力してください。";if(!f0(t.number))return"ナンバーを入力してください。";if(!f0(t.vin))return"車台番号を入力してください。";if(!f0(t.user))return"使用者を選択してください。";const e=n=>/^\d{4}-\d{2}-\d{2}$/.test(n);return t.startDate&&!e(t.startDate)?"使用開始日の形式が不正です。":t.inspectionDate&&!e(t.inspectionDate)?"車検有効期限の形式が不正です。":t.insuranceDate&&!e(t.insuranceDate)?"自賠責有効期限の形式が不正です。":t.voluntaryDate&&!e(t.voluntaryDate)?"任意保険有効期限の形式が不正です。":null}const Iu=t=>`vehicleList_${t}`,JY=()=>{const[t,e]=Sn.useState("");function n(){try{const D=JSON.parse(localStorage.getItem("currentUser")||"{}");if(D!=null&&D.company)return String(D.company).trim()}catch{}try{const D=JSON.parse(localStorage.getItem("loggedInAdmin")||"{}");if(D!=null&&D.company)return String(D.company).trim()}catch{}const T=(localStorage.getItem("company")||"").trim();if(T)return T;try{const D=new URLSearchParams(window.location.search).get("company");if(D)return D.trim()}catch{}return""}Sn.useEffect(()=>{let T=!0;const D=n();return D?T&&(e(D),localStorage.setItem("company",D)):(async()=>{var W,oe,V;try{const q=await((oe=(W=Bn().currentUser)==null?void 0:W.getIdTokenResult)==null?void 0:oe.call(W)),z=(V=q==null?void 0:q.claims)==null?void 0:V.company;if(z&&T){e(String(z)),localStorage.setItem("company",String(z));return}}catch{}try{const q=await pc("/api/me").catch(()=>null);q!=null&&q.company&&T&&(e(String(q.company)),localStorage.setItem("company",String(q.company)))}catch{}})(),()=>{T=!1}},[]);const[r,i]=Sn.useState([]),[s,o]=Sn.useState([]),[l,a]=Sn.useState(null),[u,c]=Sn.useState([]),[h,p]=Sn.useState(!0),[m,b]=Sn.useState(null),[_,C]=Sn.useState(null),[w,y]=Sn.useState(null);Sn.useEffect(()=>{t&&i(T=>T.map(D=>{var W;return(W=D.company)!=null&&W.trim()?D:{...D,company:t}}))},[t]),Sn.useEffect(()=>{try{const T=localStorage.getItem("vehicleCustomFields");T&&c(JSON.parse(T))}catch{}},[]),Sn.useEffect(()=>{t&&localStorage.setItem(Iu(t),JSON.stringify(r))},[t,r]),Sn.useEffect(()=>{const T=()=>{t&&localStorage.setItem(Iu(t),JSON.stringify(r))};return window.addEventListener("beforeunload",T),()=>window.removeEventListener("beforeunload",T)},[t,r]);const E=Sn.useCallback(async()=>{if(!t)return;let T=!0;try{const[D,W]=await Promise.all([Gd.list(t),WY.list(t)]);if(!T)return;i(oe=>{const V=oe.filter(z=>z.id<0),q=Array.isArray(D)?D:[];return localStorage.setItem(Iu(t),JSON.stringify([...V,...q])),[...V,...q]}),o(W??[])}catch(D){const W=(D==null?void 0:D.status)??0;if([0,401,403,404,415,500,502,503].includes(W)){const V=JSON.parse(localStorage.getItem(Iu(t))||"[]"),q=localStorage.getItem(`driverList_${t}`),z=localStorage.getItem("driverList"),ue=JSON.parse(q||z||"[]");if(!T)return;i(ie=>{const be=ie.filter(ee=>ee.id<0),Q=Array.isArray(V)?V:[],J=new Set(be.map(ee=>ee.id));return[...be,...Q.filter(ee=>!J.has(ee.id))]}),o(Array.isArray(ue)?ue.filter(ie=>ie&&ie.name).map((ie,be)=>({id:ie.id??String(be+1),name:ie.name})):[])}else console.error(D)}return()=>{T=!1}},[t]);Sn.useEffect(()=>{let T=!0;return(async()=>{if(!t){p(!1),C(null);return}p(!0),C(null);try{await E()}catch(D){T&&C((D==null?void 0:D.message)??"データの取得に失敗しました。")}finally{T&&p(!1)}})(),()=>{T=!1}},[t,E]),Sn.useEffect(()=>{if(!t)return;const T=()=>E(),D=()=>{document.visibilityState==="visible"&&T()};return window.addEventListener("drivers:changed",T),window.addEventListener("vehicles:changed",T),window.addEventListener("focus",T),document.addEventListener("visibilitychange",D),()=>{window.removeEventListener("drivers:changed",T),window.removeEventListener("vehicles:changed",T),window.removeEventListener("focus",T),document.removeEventListener("visibilitychange",D)}},[t,E]);const F=(T,D)=>{i(W=>W.map(oe=>oe.id===T?{...oe,...D}:oe))},M=()=>{var oe;const T=-(Date.now()+Math.floor(Math.random()*1e3)),D=((oe=s[0])==null?void 0:oe.name)??"",W={id:T,type:"",number:"",vin:"",user:D,startDate:"",inspectionDate:"",insuranceDate:"",voluntaryDate:"",attachments:[],company:t,customFields:u.reduce((V,q)=>(V[q]="",V),{})};i(V=>[W,...V]),a(T),y(null),C(null)},k=async T=>{var oe;const D=r.find(V=>V.id===T);if(!D)return;if(!((oe=D.company)!=null&&oe.trim())){C("会社が未確定のため保存できません。ログイン/URLの ?company=… で会社を確定してください。");return}const W=qY(D);if(W){C(W);return}b(T),C(null),y(null);try{if(T<0){const V={type:D.type.trim(),number:D.number.trim(),vin:D.vin.trim(),user:D.user.trim(),startDate:D.startDate||"",inspectionDate:D.inspectionDate||"",insuranceDate:D.insuranceDate||"",voluntaryDate:D.voluntaryDate||"",attachments:D.attachments??[],company:D.company,customFields:D.customFields??{}},q=await Gd.create(V);i(z=>z.map(ue=>ue.id===T?{...q}:ue)),await E()}else{const V={type:D.type.trim(),number:D.number.trim(),vin:D.vin.trim(),user:D.user.trim(),startDate:D.startDate||"",inspectionDate:D.inspectionDate||"",insuranceDate:D.insuranceDate||"",voluntaryDate:D.voluntaryDate||"",customFields:D.customFields??{}},q=await Gd.update(T,V);i(z=>z.map(ue=>ue.id===T?{...ue,...q}:ue)),await E()}a(null),y("保存しました。"),window.dispatchEvent(new Event("vehicles:changed"))}catch(V){const q=(V==null?void 0:V.status)??0;[0,401,403,404,415,500,502,503].includes(q)?(localStorage.setItem(Iu(t),JSON.stringify(r)),a(null),y("（オフライン保存）サーバ未反映ですが、データはこの端末に保存されています。")):C((V==null?void 0:V.message)??"保存に失敗しました。")}finally{b(null)}},N=async T=>{if(window.confirm("この車両を削除しますか？")){b(T),C(null),y(null);try{T>0&&await Gd.remove(T),i(D=>D.filter(W=>W.id!==T)),localStorage.setItem(Iu(t),JSON.stringify(r.filter(D=>D.id!==T))),y("削除しました。"),window.dispatchEvent(new Event("vehicles:changed"))}catch{i(W=>W.filter(oe=>oe.id!==T)),localStorage.setItem(Iu(t),JSON.stringify(r.filter(W=>W.id!==T))),y("（ローカルで）削除しました。サーバ反映は後で再試行されます。")}finally{b(null)}}},S=async(T,D)=>{if(!(!D||D.length===0)){if(T<0){C("ファイルは保存後（ID採番後）にアップロードできます。");return}try{const W=Array.from(D).slice(0,10);await Gd.uploadAttachments(T,W),await E(),y("ファイルをアップロードしました。"),window.dispatchEvent(new Event("vehicles:changed"))}catch(W){C((W==null?void 0:W.message)??"ファイルのアップロードに失敗しました。")}}},O=T=>{T!=null&&T.url&&window.open(T.url,"_blank","noreferrer")},H=async(T,D)=>{var V;const W=r.find(q=>q.id===T),oe=(V=W==null?void 0:W.attachments)==null?void 0:V[D];if(oe&&window.confirm("このファイルを削除しますか？"))try{try{await Gd.deleteAttachment(T,oe.name)}catch{}i(q=>q.map(z=>z.id===T?{...z,attachments:z.attachments.filter((ue,ie)=>ie!==D)}:z)),y("ファイルを削除しました。"),window.dispatchEvent(new Event("vehicles:changed")),await E()}catch(q){C((q==null?void 0:q.message)??"ファイル削除に失敗しました。")}},j=s.map(T=>T.name);return h?d.jsx("div",{className:"p-6",children:"読み込み中..."}):d.jsxs("div",{className:"h-full w-full bg-white overflow-auto p-0",children:[d.jsx("div",{className:"px-4 sm:px-10 pt-8 pb-4",children:d.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-gradient-to-r from-sky-50 to-indigo-50 p-4 ring-1 ring-black/5",children:[d.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx("span",{role:"img","aria-label":"truck",className:"text-blue-600 text-3xl",children:"🚚"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 truncate",children:"車両管理"}),d.jsx("div",{className:"text-sm md:text-base text-slate-600",children:"- Vehicle Management -"})]})]}),d.jsx("button",{type:"button",className:"mt-2 md:mt-0 mb-0 w-full sm:w-48 py-3 bg-blue-600 text-white rounded-xl text-lg font-semibold shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:M,children:"車両追加"})]}),_&&d.jsx("div",{className:"mt-4 p-3 rounded-lg bg-red-600/10 text-red-800 text-sm border border-red-200",children:_}),w&&d.jsx("div",{className:"mt-2 p-3 rounded-lg bg-emerald-600/10 text-emerald-800 text-sm border border-emerald-200",children:w})]})}),d.jsx("div",{className:"hidden md:block px-4 sm:px-10 pb-8",children:d.jsx("div",{className:"w-full overflow-x-auto",children:d.jsxs("table",{className:"w-full table-auto bg-white text-slate-900 border border-slate-200 shadow-xl rounded-xl text-sm",children:[d.jsx("thead",{className:"z-10 bg-slate-900 text-white shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"sticky top-0 bg-slate-900 px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"操作"}),d.jsx("th",{className:"px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"車種"}),d.jsx("th",{className:"px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"ナンバー"}),d.jsx("th",{className:"px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"車台番号"}),d.jsx("th",{className:"px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"使用者"}),d.jsx("th",{className:"px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"使用開始日"}),d.jsx("th",{className:"px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"車検有効期限"}),d.jsx("th",{className:"px-4 py-3 text-left border-r border-slate-700/60 whitespace-nowrap font-semibold tracking-wide",children:"自賠責有効期限"}),d.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap font-semibold tracking-wide",children:"任意保険有効期限"}),d.jsx("th",{className:"px-4 py-3 text-left whitespace-nowrap font-semibold tracking-wide",children:"添付ファイル"})]})}),d.jsx("tbody",{className:"bg-white",children:r.map((T,D)=>{var V,q;const W=l===T.id,oe=m===T.id;return d.jsxs("tr",{className:`${D%2===0?"bg-white":"bg-slate-50"} hover:bg-sky-50 border-b border-slate-200 transition-colors ${W?"ring-1 ring-sky-400/40":""}`,children:[d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"bg-green-600 text-white px-2 py-1 rounded mr-2 disabled:opacity-60",disabled:oe,onClick:()=>k(T.id),children:oe?"保存中...":"保存"}),d.jsx("button",{className:"bg-gray-500 text-white px-2 py-1 rounded",disabled:oe,onClick:()=>{T.id<0&&!T.type&&!T.number&&!T.vin&&i(z=>z.filter(ue=>ue.id!==T.id)),a(null)},children:"キャンセル"})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2",onClick:()=>a(T.id),children:"編集"}),d.jsx("button",{className:"bg-rose-600 text-white px-2 py-1 rounded-lg shadow hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-400/60 disabled:opacity-60",disabled:oe,onClick:()=>N(T.id),children:"削除"})]})}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsx("input",{autoFocus:!0,className:"w-full px-2 py-1 border rounded bg-white text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.type,onChange:z=>F(T.id,{type:z.target.value})}):T.type||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsx("input",{className:"w-full px-2 py-1 border rounded bg-white text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.number,onChange:z=>F(T.id,{number:z.target.value})}):T.number||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsx("input",{className:"w-full px-2 py-1 border rounded bg-white text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.vin,onChange:z=>F(T.id,{vin:z.target.value})}):T.vin||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsxs("select",{className:"w-full px-2 py-1 border rounded bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.user,onChange:z=>F(T.id,{user:z.target.value}),children:[d.jsx("option",{value:"",children:"—選択—"}),j.map(z=>d.jsx("option",{value:z,children:z},z))]}):T.user||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.startDate||"",onChange:z=>F(T.id,{startDate:z.target.value})}):T.startDate||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.inspectionDate||"",onChange:z=>F(T.id,{inspectionDate:z.target.value})}):T.inspectionDate||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.insuranceDate||"",onChange:z=>F(T.id,{insuranceDate:z.target.value})}):T.insuranceDate||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm border-r border-slate-200 whitespace-nowrap",children:W?d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500",value:T.voluntaryDate||"",onChange:z=>F(T.id,{voluntaryDate:z.target.value})}):T.voluntaryDate||"-"}),d.jsx("td",{className:"px-4 py-2 text-sm whitespace-nowrap",children:W?d.jsxs("div",{className:"space-y-1",children:[(V=T.attachments)==null?void 0:V.map((z,ue)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{className:"text-blue-600 underline text-xs mr-2",onClick:()=>O(z),type:"button",children:z.name}),d.jsx("button",{className:"text-red-500 text-xs",onClick:()=>H(T.id,ue),type:"button",children:"削除"})]},ue)),d.jsx("input",{type:"file",multiple:!0,accept:"application/pdf,image/*",onChange:z=>S(T.id,z.target.files),className:"text-xs mt-1"}),d.jsx("p",{className:"text-xs text-gray-500",children:"最大10ファイルまで添付可能"})]}):d.jsx("div",{className:"space-y-1",children:(q=T.attachments)!=null&&q.length?T.attachments.map((z,ue)=>d.jsx("div",{children:d.jsx("button",{className:"text-blue-600 underline text-xs",onClick:()=>O(z),type:"button",children:z.name})},ue)):"添付なし"})})]},T.id)})})]})})}),d.jsx("div",{className:"md:hidden px-4 pb-8 space-y-3",children:r.map(T=>{var oe,V;const D=l===T.id,W=m===T.id;return d.jsxs("div",{className:"border border-slate-200 rounded-xl p-3 bg-white shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"font-semibold text-slate-900",children:T.type||"（車種未設定）"}),D?d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded text-sm disabled:opacity-60",disabled:W,onClick:()=>k(T.id),children:W?"保存中...":"保存"}),d.jsx("button",{className:"bg-gray-500 text-white px-3 py-1 rounded text-sm",disabled:W,onClick:()=>{T.id<0&&!T.type&&!T.number&&!T.vin&&i(q=>q.filter(z=>z.id!==T.id)),a(null)},children:"ｷｬﾝｾﾙ"})]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"bg-yellow-500 text-white px-3 py-1 rounded text-sm",onClick:()=>a(T.id),children:"編集"}),d.jsx("button",{className:"bg-rose-600 text-white px-3 py-1 rounded text-sm disabled:opacity-60",disabled:W,onClick:()=>N(T.id),children:"削除"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[D?d.jsx("input",{className:"w-full px-2 py-1 border rounded",placeholder:"車種",value:T.type,onChange:q=>F(T.id,{type:q.target.value})}):d.jsxs("div",{className:"text-slate-600",children:["車種: ",d.jsx("span",{className:"text-slate-900",children:T.type||"-"})]}),D?d.jsx("input",{className:"w-full px-2 py-1 border rounded",placeholder:"ナンバー",value:T.number,onChange:q=>F(T.id,{number:q.target.value})}):d.jsxs("div",{className:"text-slate-600",children:["ナンバー: ",d.jsx("span",{className:"text-slate-900",children:T.number||"-"})]}),D?d.jsx("input",{className:"w-full px-2 py-1 border rounded",placeholder:"車台番号",value:T.vin,onChange:q=>F(T.id,{vin:q.target.value})}):d.jsxs("div",{className:"text-slate-600",children:["車台番号: ",d.jsx("span",{className:"text-slate-900",children:T.vin||"-"})]}),D?d.jsxs("select",{className:"w-full px-2 py-1 border rounded",value:T.user,onChange:q=>F(T.id,{user:q.target.value}),children:[d.jsx("option",{value:"",children:"—選択—"}),j.map(q=>d.jsx("option",{value:q,children:q},q))]}):d.jsxs("div",{className:"text-slate-600",children:["使用者: ",d.jsx("span",{className:"text-slate-900",children:T.user||"-"})]}),D?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded",value:T.startDate||"",onChange:q=>F(T.id,{startDate:q.target.value})}),d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded",value:T.inspectionDate||"",onChange:q=>F(T.id,{inspectionDate:q.target.value})}),d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded",value:T.insuranceDate||"",onChange:q=>F(T.id,{insuranceDate:q.target.value})}),d.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded",value:T.voluntaryDate||"",onChange:q=>F(T.id,{voluntaryDate:q.target.value})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-slate-600",children:["使用開始日: ",d.jsx("span",{className:"text-slate-900",children:T.startDate||"-"})]}),d.jsxs("div",{className:"text-slate-600",children:["車検: ",d.jsx("span",{className:"text-slate-900",children:T.inspectionDate||"-"})]}),d.jsxs("div",{className:"text-slate-600",children:["自賠責: ",d.jsx("span",{className:"text-slate-900",children:T.insuranceDate||"-"})]}),d.jsxs("div",{className:"text-slate-600",children:["任意保険: ",d.jsx("span",{className:"text-slate-900",children:T.voluntaryDate||"-"})]})]}),d.jsx("div",{className:"pt-1",children:D?d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"text-xs",children:(oe=T.attachments)==null?void 0:oe.map((q,z)=>d.jsxs("li",{className:"flex items-center justify-between",children:[d.jsx("button",{className:"text-blue-600 underline",onClick:()=>O(q),children:q.name}),d.jsx("button",{className:"text-rose-600",onClick:()=>H(T.id,z),children:"削除"})]},z))}),d.jsx("input",{type:"file",multiple:!0,accept:"application/pdf,image/*",onChange:q=>S(T.id,q.target.files),className:"mt-1 text-xs"})]}):d.jsx("ul",{className:"text-xs",children:(V=T.attachments)!=null&&V.length?T.attachments.map((q,z)=>d.jsx("li",{children:d.jsx("button",{className:"text-blue-600 underline",onClick:()=>O(q),children:q.name})},z)):d.jsx("li",{children:"添付なし"})})})]})]},T.id)})})]})};function Xk(t,e){const n=Y.useRef(e);Y.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const YY=1;function XY(t){return Object.freeze({__version:YY,map:t})}function ZY(t,e){return Object.freeze({...t,...e})}const Zk=Y.createContext(null),eR=Zk.Provider;function tR(){const t=Y.useContext(Zk);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function eX(t){function e(n,r){const{instance:i,context:s}=t(n).current;return Y.useImperativeHandle(r,()=>i),n.children==null?null:Sn.createElement(eR,{value:s},n.children)}return Y.forwardRef(e)}function tX(t){function e(n,r){const[i,s]=Y.useState(!1),{instance:o}=t(n,s).current;Y.useImperativeHandle(r,()=>o),Y.useEffect(function(){i&&o.update()},[o,i,n.children]);const l=o._contentNode;return l?wm.createPortal(n.children,l):null}return Y.forwardRef(e)}function nX(t){function e(n,r){const{instance:i}=t(n).current;return Y.useImperativeHandle(r,()=>i),null}return Y.forwardRef(e)}function nR(t,e){const n=Y.useRef();Y.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function gE(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function rX(t,e){return function(r,i){const s=tR(),o=t(gE(r,s),s);return Xk(s.map,r.attribution),nR(o.current,r.eventHandlers),e(o.current,s,r,i),o}}var A_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(mh,function(n){var r="1.9.4";function i(A){var f,x,P,$;for(x=1,P=arguments.length;x<P;x++){$=arguments[x];for(f in $)A[f]=$[f]}return A}var s=Object.create||function(){function A(){}return function(f){return A.prototype=f,new A}}();function o(A,f){var x=Array.prototype.slice;if(A.bind)return A.bind.apply(A,x.call(arguments,1));var P=x.call(arguments,2);return function(){return A.apply(f,P.length?P.concat(x.call(arguments)):arguments)}}var l=0;function a(A){return"_leaflet_id"in A||(A._leaflet_id=++l),A._leaflet_id}function u(A,f,x){var P,$,le,_e;return _e=function(){P=!1,$&&(le.apply(x,$),$=!1)},le=function(){P?$=arguments:(A.apply(x,arguments),setTimeout(_e,f),P=!0)},le}function c(A,f,x){var P=f[1],$=f[0],le=P-$;return A===P&&x?A:((A-$)%le+le)%le+$}function h(){return!1}function p(A,f){if(f===!1)return A;var x=Math.pow(10,f===void 0?6:f);return Math.round(A*x)/x}function m(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}function b(A){return m(A).split(/\s+/)}function _(A,f){Object.prototype.hasOwnProperty.call(A,"options")||(A.options=A.options?s(A.options):{});for(var x in f)A.options[x]=f[x];return A.options}function C(A,f,x){var P=[];for(var $ in A)P.push(encodeURIComponent(x?$.toUpperCase():$)+"="+encodeURIComponent(A[$]));return(!f||f.indexOf("?")===-1?"?":"&")+P.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function y(A,f){return A.replace(w,function(x,P){var $=f[P];if($===void 0)throw new Error("No value provided for variable "+x);return typeof $=="function"&&($=$(f)),$})}var E=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"};function F(A,f){for(var x=0;x<A.length;x++)if(A[x]===f)return x;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(A){return window["webkit"+A]||window["moz"+A]||window["ms"+A]}var N=0;function S(A){var f=+new Date,x=Math.max(0,16-(f-N));return N=f+x,window.setTimeout(A,x)}var O=window.requestAnimationFrame||k("RequestAnimationFrame")||S,H=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(A){window.clearTimeout(A)};function j(A,f,x){if(x&&O===S)A.call(f);else return O.call(window,o(A,f))}function T(A){A&&H.call(window,A)}var D={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:a,throttle:u,wrapNum:c,falseFn:h,formatNum:p,trim:m,splitWords:b,setOptions:_,getParamString:C,template:y,isArray:E,indexOf:F,emptyImageUrl:M,requestFn:O,cancelFn:H,requestAnimFrame:j,cancelAnimFrame:T};function W(){}W.extend=function(A){var f=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=f.__super__=this.prototype,P=s(x);P.constructor=f,f.prototype=P;for(var $ in this)Object.prototype.hasOwnProperty.call(this,$)&&$!=="prototype"&&$!=="__super__"&&(f[$]=this[$]);return A.statics&&i(f,A.statics),A.includes&&(oe(A.includes),i.apply(null,[P].concat(A.includes))),i(P,A),delete P.statics,delete P.includes,P.options&&(P.options=x.options?s(x.options):{},i(P.options,A.options)),P._initHooks=[],P.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var le=0,_e=P._initHooks.length;le<_e;le++)P._initHooks[le].call(this)}},f},W.include=function(A){var f=this.prototype.options;return i(this.prototype,A),A.options&&(this.prototype.options=f,this.mergeOptions(A.options)),this},W.mergeOptions=function(A){return i(this.prototype.options,A),this},W.addInitHook=function(A){var f=Array.prototype.slice.call(arguments,1),x=typeof A=="function"?A:function(){this[A].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function oe(A){if(!(typeof L>"u"||!L||!L.Mixin)){A=E(A)?A:[A];for(var f=0;f<A.length;f++)A[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(A,f,x){if(typeof A=="object")for(var P in A)this._on(P,A[P],f);else{A=b(A);for(var $=0,le=A.length;$<le;$++)this._on(A[$],f,x)}return this},off:function(A,f,x){if(!arguments.length)delete this._events;else if(typeof A=="object")for(var P in A)this._off(P,A[P],f);else{A=b(A);for(var $=arguments.length===1,le=0,_e=A.length;le<_e;le++)$?this._off(A[le]):this._off(A[le],f,x)}return this},_on:function(A,f,x,P){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(A,f,x)===!1){x===this&&(x=void 0);var $={fn:f,ctx:x};P&&($.once=!0),this._events=this._events||{},this._events[A]=this._events[A]||[],this._events[A].push($)}},_off:function(A,f,x){var P,$,le;if(this._events&&(P=this._events[A],!!P)){if(arguments.length===1){if(this._firingCount)for($=0,le=P.length;$<le;$++)P[$].fn=h;delete this._events[A];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var _e=this._listens(A,f,x);if(_e!==!1){var Ue=P[_e];this._firingCount&&(Ue.fn=h,this._events[A]=P=P.slice()),P.splice(_e,1)}}},fire:function(A,f,x){if(!this.listens(A,x))return this;var P=i({},f,{type:A,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var $=this._events[A];if($){this._firingCount=this._firingCount+1||1;for(var le=0,_e=$.length;le<_e;le++){var Ue=$[le],Me=Ue.fn;Ue.once&&this.off(A,Me,Ue.ctx),Me.call(Ue.ctx||this,P)}this._firingCount--}}return x&&this._propagateEvent(P),this},listens:function(A,f,x,P){typeof A!="string"&&console.warn('"string" type argument expected');var $=f;typeof f!="function"&&(P=!!f,$=void 0,x=void 0);var le=this._events&&this._events[A];if(le&&le.length&&this._listens(A,$,x)!==!1)return!0;if(P){for(var _e in this._eventParents)if(this._eventParents[_e].listens(A,f,x,P))return!0}return!1},_listens:function(A,f,x){if(!this._events)return!1;var P=this._events[A]||[];if(!f)return!!P.length;x===this&&(x=void 0);for(var $=0,le=P.length;$<le;$++)if(P[$].fn===f&&P[$].ctx===x)return $;return!1},once:function(A,f,x){if(typeof A=="object")for(var P in A)this._on(P,A[P],f,!0);else{A=b(A);for(var $=0,le=A.length;$<le;$++)this._on(A[$],f,x,!0)}return this},addEventParent:function(A){return this._eventParents=this._eventParents||{},this._eventParents[a(A)]=A,this},removeEventParent:function(A){return this._eventParents&&delete this._eventParents[a(A)],this},_propagateEvent:function(A){for(var f in this._eventParents)this._eventParents[f].fire(A.type,i({layer:A.target,propagatedFrom:A.target},A),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var q=W.extend(V);function z(A,f,x){this.x=x?Math.round(A):A,this.y=x?Math.round(f):f}var ue=Math.trunc||function(A){return A>0?Math.floor(A):Math.ceil(A)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(A){return this.clone()._add(ie(A))},_add:function(A){return this.x+=A.x,this.y+=A.y,this},subtract:function(A){return this.clone()._subtract(ie(A))},_subtract:function(A){return this.x-=A.x,this.y-=A.y,this},divideBy:function(A){return this.clone()._divideBy(A)},_divideBy:function(A){return this.x/=A,this.y/=A,this},multiplyBy:function(A){return this.clone()._multiplyBy(A)},_multiplyBy:function(A){return this.x*=A,this.y*=A,this},scaleBy:function(A){return new z(this.x*A.x,this.y*A.y)},unscaleBy:function(A){return new z(this.x/A.x,this.y/A.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(A){A=ie(A);var f=A.x-this.x,x=A.y-this.y;return Math.sqrt(f*f+x*x)},equals:function(A){return A=ie(A),A.x===this.x&&A.y===this.y},contains:function(A){return A=ie(A),Math.abs(A.x)<=Math.abs(this.x)&&Math.abs(A.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function ie(A,f,x){return A instanceof z?A:E(A)?new z(A[0],A[1]):A==null?A:typeof A=="object"&&"x"in A&&"y"in A?new z(A.x,A.y):new z(A,f,x)}function be(A,f){if(A)for(var x=f?[A,f]:A,P=0,$=x.length;P<$;P++)this.extend(x[P])}be.prototype={extend:function(A){var f,x;if(!A)return this;if(A instanceof z||typeof A[0]=="number"||"x"in A)f=x=ie(A);else if(A=Q(A),f=A.min,x=A.max,!f||!x)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=x.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(A){return ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,A)},getBottomLeft:function(){return ie(this.min.x,this.max.y)},getTopRight:function(){return ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(A){var f,x;return typeof A[0]=="number"||A instanceof z?A=ie(A):A=Q(A),A instanceof be?(f=A.min,x=A.max):f=x=A,f.x>=this.min.x&&x.x<=this.max.x&&f.y>=this.min.y&&x.y<=this.max.y},intersects:function(A){A=Q(A);var f=this.min,x=this.max,P=A.min,$=A.max,le=$.x>=f.x&&P.x<=x.x,_e=$.y>=f.y&&P.y<=x.y;return le&&_e},overlaps:function(A){A=Q(A);var f=this.min,x=this.max,P=A.min,$=A.max,le=$.x>f.x&&P.x<x.x,_e=$.y>f.y&&P.y<x.y;return le&&_e},isValid:function(){return!!(this.min&&this.max)},pad:function(A){var f=this.min,x=this.max,P=Math.abs(f.x-x.x)*A,$=Math.abs(f.y-x.y)*A;return Q(ie(f.x-P,f.y-$),ie(x.x+P,x.y+$))},equals:function(A){return A?(A=Q(A),this.min.equals(A.getTopLeft())&&this.max.equals(A.getBottomRight())):!1}};function Q(A,f){return!A||A instanceof be?A:new be(A,f)}function J(A,f){if(A)for(var x=f?[A,f]:A,P=0,$=x.length;P<$;P++)this.extend(x[P])}J.prototype={extend:function(A){var f=this._southWest,x=this._northEast,P,$;if(A instanceof ee)P=A,$=A;else if(A instanceof J){if(P=A._southWest,$=A._northEast,!P||!$)return this}else return A?this.extend(he(A)||re(A)):this;return!f&&!x?(this._southWest=new ee(P.lat,P.lng),this._northEast=new ee($.lat,$.lng)):(f.lat=Math.min(P.lat,f.lat),f.lng=Math.min(P.lng,f.lng),x.lat=Math.max($.lat,x.lat),x.lng=Math.max($.lng,x.lng)),this},pad:function(A){var f=this._southWest,x=this._northEast,P=Math.abs(f.lat-x.lat)*A,$=Math.abs(f.lng-x.lng)*A;return new J(new ee(f.lat-P,f.lng-$),new ee(x.lat+P,x.lng+$))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(A){typeof A[0]=="number"||A instanceof ee||"lat"in A?A=he(A):A=re(A);var f=this._southWest,x=this._northEast,P,$;return A instanceof J?(P=A.getSouthWest(),$=A.getNorthEast()):P=$=A,P.lat>=f.lat&&$.lat<=x.lat&&P.lng>=f.lng&&$.lng<=x.lng},intersects:function(A){A=re(A);var f=this._southWest,x=this._northEast,P=A.getSouthWest(),$=A.getNorthEast(),le=$.lat>=f.lat&&P.lat<=x.lat,_e=$.lng>=f.lng&&P.lng<=x.lng;return le&&_e},overlaps:function(A){A=re(A);var f=this._southWest,x=this._northEast,P=A.getSouthWest(),$=A.getNorthEast(),le=$.lat>f.lat&&P.lat<x.lat,_e=$.lng>f.lng&&P.lng<x.lng;return le&&_e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(A,f){return A?(A=re(A),this._southWest.equals(A.getSouthWest(),f)&&this._northEast.equals(A.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(A,f){return A instanceof J?A:new J(A,f)}function ee(A,f,x){if(isNaN(A)||isNaN(f))throw new Error("Invalid LatLng object: ("+A+", "+f+")");this.lat=+A,this.lng=+f,x!==void 0&&(this.alt=+x)}ee.prototype={equals:function(A,f){if(!A)return!1;A=he(A);var x=Math.max(Math.abs(this.lat-A.lat),Math.abs(this.lng-A.lng));return x<=(f===void 0?1e-9:f)},toString:function(A){return"LatLng("+p(this.lat,A)+", "+p(this.lng,A)+")"},distanceTo:function(A){return fe.distance(this,he(A))},wrap:function(){return fe.wrapLatLng(this)},toBounds:function(A){var f=180*A/40075017,x=f/Math.cos(Math.PI/180*this.lat);return re([this.lat-f,this.lng-x],[this.lat+f,this.lng+x])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function he(A,f,x){return A instanceof ee?A:E(A)&&typeof A[0]!="object"?A.length===3?new ee(A[0],A[1],A[2]):A.length===2?new ee(A[0],A[1]):null:A==null?A:typeof A=="object"&&"lat"in A?new ee(A.lat,"lng"in A?A.lng:A.lon,A.alt):f===void 0?null:new ee(A,f,x)}var ve={latLngToPoint:function(A,f){var x=this.projection.project(A),P=this.scale(f);return this.transformation._transform(x,P)},pointToLatLng:function(A,f){var x=this.scale(f),P=this.transformation.untransform(A,x);return this.projection.unproject(P)},project:function(A){return this.projection.project(A)},unproject:function(A){return this.projection.unproject(A)},scale:function(A){return 256*Math.pow(2,A)},zoom:function(A){return Math.log(A/256)/Math.LN2},getProjectedBounds:function(A){if(this.infinite)return null;var f=this.projection.bounds,x=this.scale(A),P=this.transformation.transform(f.min,x),$=this.transformation.transform(f.max,x);return new be(P,$)},infinite:!1,wrapLatLng:function(A){var f=this.wrapLng?c(A.lng,this.wrapLng,!0):A.lng,x=this.wrapLat?c(A.lat,this.wrapLat,!0):A.lat,P=A.alt;return new ee(x,f,P)},wrapLatLngBounds:function(A){var f=A.getCenter(),x=this.wrapLatLng(f),P=f.lat-x.lat,$=f.lng-x.lng;if(P===0&&$===0)return A;var le=A.getSouthWest(),_e=A.getNorthEast(),Ue=new ee(le.lat-P,le.lng-$),Me=new ee(_e.lat-P,_e.lng-$);return new J(Ue,Me)}},fe=i({},ve,{wrapLng:[-180,180],R:6371e3,distance:function(A,f){var x=Math.PI/180,P=A.lat*x,$=f.lat*x,le=Math.sin((f.lat-A.lat)*x/2),_e=Math.sin((f.lng-A.lng)*x/2),Ue=le*le+Math.cos(P)*Math.cos($)*_e*_e,Me=2*Math.atan2(Math.sqrt(Ue),Math.sqrt(1-Ue));return this.R*Me}}),ne=6378137,te={R:ne,MAX_LATITUDE:85.0511287798,project:function(A){var f=Math.PI/180,x=this.MAX_LATITUDE,P=Math.max(Math.min(x,A.lat),-x),$=Math.sin(P*f);return new z(this.R*A.lng*f,this.R*Math.log((1+$)/(1-$))/2)},unproject:function(A){var f=180/Math.PI;return new ee((2*Math.atan(Math.exp(A.y/this.R))-Math.PI/2)*f,A.x*f/this.R)},bounds:function(){var A=ne*Math.PI;return new be([-A,-A],[A,A])}()};function Ae(A,f,x,P){if(E(A)){this._a=A[0],this._b=A[1],this._c=A[2],this._d=A[3];return}this._a=A,this._b=f,this._c=x,this._d=P}Ae.prototype={transform:function(A,f){return this._transform(A.clone(),f)},_transform:function(A,f){return f=f||1,A.x=f*(this._a*A.x+this._b),A.y=f*(this._c*A.y+this._d),A},untransform:function(A,f){return f=f||1,new z((A.x/f-this._b)/this._a,(A.y/f-this._d)/this._c)}};function xe(A,f,x,P){return new Ae(A,f,x,P)}var ye=i({},fe,{code:"EPSG:3857",projection:te,transformation:function(){var A=.5/(Math.PI*te.R);return xe(A,.5,-A,.5)}()}),Fe=i({},ye,{code:"EPSG:900913"});function Ce(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function me(A,f){var x="",P,$,le,_e,Ue,Me;for(P=0,le=A.length;P<le;P++){for(Ue=A[P],$=0,_e=Ue.length;$<_e;$++)Me=Ue[$],x+=($?"L":"M")+Me.x+" "+Me.y;x+=f?ut.svg?"z":"x":""}return x||"M0 0"}var Ye=document.documentElement.style,We="ActiveXObject"in window,Qe=We&&!document.addEventListener,Ve="msLaunchUri"in navigator&&!("documentMode"in document),ze=mn("webkit"),Je=mn("android"),ft=mn("android 2")||mn("android 3"),Nt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),It=Je&&mn("Google")&&Nt<537&&!("AudioNode"in window),Ut=!!window.opera,Ft=!Ve&&mn("chrome"),Bt=mn("gecko")&&!ze&&!Ut&&!We,Pt=!Ft&&mn("safari"),Le=mn("phantom"),je="OTransition"in Ye,nt=navigator.platform.indexOf("Win")===0,it=We&&"transition"in Ye,St="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ft,pt="MozPerspective"in Ye,Ht=!window.L_DISABLE_3D&&(it||St||pt)&&!je&&!Le,kn=typeof orientation<"u"||mn("mobile"),nn=kn&&ze,Wr=kn&&St,pn=!window.PointerEvent&&window.MSPointerEvent,oi=!!(window.PointerEvent||pn),Vt="ontouchstart"in window||!!window.TouchEvent,At=!window.L_NO_TOUCH&&(Vt||oi),ot=kn&&Ut,vt=kn&&Bt,on=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,An=function(){var A=!1;try{var f=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("testPassiveEventSupport",h,f),window.removeEventListener("testPassiveEventSupport",h,f)}catch{}return A}(),ai=function(){return!!document.createElement("canvas").getContext}(),br=!!(document.createElementNS&&Ce("svg").createSVGRect),Tt=!!br&&function(){var A=document.createElement("div");return A.innerHTML="<svg/>",(A.firstChild&&A.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Rn=!br&&function(){try{var A=document.createElement("div");A.innerHTML='<v:shape adj="1"/>';var f=A.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),Bs=navigator.platform.indexOf("Mac")===0,_r=navigator.platform.indexOf("Linux")===0;function mn(A){return navigator.userAgent.toLowerCase().indexOf(A)>=0}var ut={ie:We,ielt9:Qe,edge:Ve,webkit:ze,android:Je,android23:ft,androidStock:It,opera:Ut,chrome:Ft,gecko:Bt,safari:Pt,phantom:Le,opera12:je,win:nt,ie3d:it,webkit3d:St,gecko3d:pt,any3d:Ht,mobile:kn,mobileWebkit:nn,mobileWebkit3d:Wr,msPointer:pn,pointer:oi,touch:At,touchNative:Vt,mobileOpera:ot,mobileGecko:vt,retina:on,passiveEvents:An,canvas:ai,svg:br,vml:Rn,inlineSvg:Tt,mac:Bs,linux:_r},yi=ut.msPointer?"MSPointerDown":"pointerdown",ts=ut.msPointer?"MSPointerMove":"pointermove",zs=ut.msPointer?"MSPointerUp":"pointerup",ns=ut.msPointer?"MSPointerCancel":"pointercancel",qr={touchstart:yi,touchmove:ts,touchend:zs,touchcancel:ns},ji={touchstart:yu,touchmove:Jo,touchend:Jo,touchcancel:Jo},jr={},Jr=!1;function Ur(A,f,x){return f==="touchstart"&&Ba(),ji[f]?(x=ji[f].bind(this,x),A.addEventListener(qr[f],x,!1),x):(console.warn("wrong event specified:",f),h)}function Wo(A,f,x){if(!qr[f]){console.warn("wrong event specified:",f);return}A.removeEventListener(qr[f],x,!1)}function _a(A){jr[A.pointerId]=A}function qo(A){jr[A.pointerId]&&(jr[A.pointerId]=A)}function go(A){delete jr[A.pointerId]}function Ba(){Jr||(document.addEventListener(yi,_a,!0),document.addEventListener(ts,qo,!0),document.addEventListener(zs,go,!0),document.addEventListener(ns,go,!0),Jr=!0)}function Jo(A,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var x in jr)f.touches.push(jr[x]);f.changedTouches=[f],A(f)}}function yu(A,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&tr(f),Jo(A,f)}function cl(A){var f={},x,P;for(P in A)x=A[P],f[P]=x&&x.bind?x.bind(A):x;return A=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Ca=200;function ul(A,f){A.addEventListener("dblclick",f);var x=0,P;function $(le){if(le.detail!==1){P=le.detail;return}if(!(le.pointerType==="mouse"||le.sourceCapabilities&&!le.sourceCapabilities.firesTouchEvents)){var _e=Oi(le);if(!(_e.some(function(Me){return Me instanceof HTMLLabelElement&&Me.attributes.for})&&!_e.some(function(Me){return Me instanceof HTMLInputElement||Me instanceof HTMLSelectElement}))){var Ue=Date.now();Ue-x<=Ca?(P++,P===2&&f(cl(le))):P=1,x=Ue}}}return A.addEventListener("click",$),{dblclick:f,simDblclick:$}}function Ea(A,f){A.removeEventListener("dblclick",f.dblclick),A.removeEventListener("click",f.simDblclick)}var Ui=xo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vo=xo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),eA=vo==="webkitTransition"||vo==="OTransition"?vo+"End":"transitionend";function tA(A){return typeof A=="string"?document.getElementById(A):A}function Cs(A,f){var x=A.style[f]||A.currentStyle&&A.currentStyle[f];if((!x||x==="auto")&&document.defaultView){var P=document.defaultView.getComputedStyle(A,null);x=P?P[f]:null}return x==="auto"?null:x}function cn(A,f,x){var P=document.createElement(A);return P.className=f||"",x&&x.appendChild(P),P}function $t(A){var f=A.parentNode;f&&f.removeChild(A)}function yo(A){for(;A.firstChild;)A.removeChild(A.firstChild)}function $s(A){var f=A.parentNode;f&&f.lastChild!==A&&f.appendChild(A)}function Gs(A){var f=A.parentNode;f&&f.firstChild!==A&&f.insertBefore(A,f.firstChild)}function Sa(A,f){if(A.classList!==void 0)return A.classList.contains(f);var x=kr(A);return x.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(x)}function Yt(A,f){if(A.classList!==void 0)for(var x=b(f),P=0,$=x.length;P<$;P++)A.classList.add(x[P]);else if(!Sa(A,f)){var le=kr(A);wo(A,(le?le+" ":"")+f)}}function gn(A,f){A.classList!==void 0?A.classList.remove(f):wo(A,m((" "+kr(A)+" ").replace(" "+f+" "," ")))}function wo(A,f){A.className.baseVal===void 0?A.className=f:A.className.baseVal=f}function kr(A){return A.correspondingElement&&(A=A.correspondingElement),A.className.baseVal===void 0?A.className:A.className.baseVal}function er(A,f){"opacity"in A.style?A.style.opacity=f:"filter"in A.style&&rs(A,f)}function rs(A,f){var x=!1,P="DXImageTransform.Microsoft.Alpha";try{x=A.filters.item(P)}catch{if(f===1)return}f=Math.round(f*100),x?(x.Enabled=f!==100,x.Opacity=f):A.style.filter+=" progid:"+P+"(opacity="+f+")"}function xo(A){for(var f=document.documentElement.style,x=0;x<A.length;x++)if(A[x]in f)return A[x];return!1}function ki(A,f,x){var P=f||new z(0,0);A.style[Ui]=(ut.ie3d?"translate("+P.x+"px,"+P.y+"px)":"translate3d("+P.x+"px,"+P.y+"px,0)")+(x?" scale("+x+")":"")}function qn(A,f){A._leaflet_pos=f,ut.any3d?ki(A,f):(A.style.left=f.x+"px",A.style.top=f.y+"px")}function hn(A){return A._leaflet_pos||new z(0,0)}var Ws,Ri,bo;if("onselectstart"in document)Ws=function(){Gt(window,"selectstart",tr)},Ri=function(){un(window,"selectstart",tr)};else{var Ia=xo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ws=function(){if(Ia){var A=document.documentElement.style;bo=A[Ia],A[Ia]="none"}},Ri=function(){Ia&&(document.documentElement.style[Ia]=bo,bo=void 0)}}function dl(){Gt(window,"dragstart",tr)}function Es(){un(window,"dragstart",tr)}var _o,Yo;function hl(A){for(;A.tabIndex===-1;)A=A.parentNode;A.style&&(Jn(),_o=A,Yo=A.style.outlineStyle,A.style.outlineStyle="none",Gt(window,"keydown",Jn))}function Jn(){_o&&(_o.style.outlineStyle=Yo,_o=void 0,Yo=void 0,un(window,"keydown",Jn))}function Ss(A){do A=A.parentNode;while((!A.offsetWidth||!A.offsetHeight)&&A!==document.body);return A}function Na(A){var f=A.getBoundingClientRect();return{x:f.width/A.offsetWidth||1,y:f.height/A.offsetHeight||1,boundingClientRect:f}}var Kt={__proto__:null,TRANSFORM:Ui,TRANSITION:vo,TRANSITION_END:eA,get:tA,getStyle:Cs,create:cn,remove:$t,empty:yo,toFront:$s,toBack:Gs,hasClass:Sa,addClass:Yt,removeClass:gn,setClass:wo,getClass:kr,setOpacity:er,testProp:xo,setTransform:ki,setPosition:qn,getPosition:hn,get disableTextSelection(){return Ws},get enableTextSelection(){return Ri},disableImageDrag:dl,enableImageDrag:Es,preventOutline:hl,restoreOutline:Jn,getSizedParentNode:Ss,getScale:Na};function Gt(A,f,x,P){if(f&&typeof f=="object")for(var $ in f)li(A,$,f[$],x);else{f=b(f);for(var le=0,_e=f.length;le<_e;le++)li(A,f[le],x,P)}return this}var Rr="_leaflet_events";function un(A,f,x,P){if(arguments.length===1)nA(A),delete A[Rr];else if(f&&typeof f=="object")for(var $ in f)Ta(A,$,f[$],x);else if(f=b(f),arguments.length===2)nA(A,function(Ue){return F(f,Ue)!==-1});else for(var le=0,_e=f.length;le<_e;le++)Ta(A,f[le],x,P);return this}function nA(A,f){for(var x in A[Rr]){var P=x.split(/\d/)[0];(!f||f(P))&&Ta(A,P,null,null,x)}}var fl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function li(A,f,x,P){var $=f+a(x)+(P?"_"+a(P):"");if(A[Rr]&&A[Rr][$])return this;var le=function(Ue){return x.call(P||A,Ue||window.event)},_e=le;!ut.touchNative&&ut.pointer&&f.indexOf("touch")===0?le=Ur(A,f,le):ut.touch&&f==="dblclick"?le=ul(A,le):"addEventListener"in A?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?A.addEventListener(fl[f]||f,le,ut.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(le=function(Ue){Ue=Ue||window.event,Zo(A,Ue)&&_e(Ue)},A.addEventListener(fl[f],le,!1)):A.addEventListener(f,_e,!1):A.attachEvent("on"+f,le),A[Rr]=A[Rr]||{},A[Rr][$]=le}function Ta(A,f,x,P,$){$=$||f+a(x)+(P?"_"+a(P):"");var le=A[Rr]&&A[Rr][$];if(!le)return this;!ut.touchNative&&ut.pointer&&f.indexOf("touch")===0?Wo(A,f,le):ut.touch&&f==="dblclick"?Ea(A,le):"removeEventListener"in A?A.removeEventListener(fl[f]||f,le,!1):A.detachEvent("on"+f,le),A[Rr][$]=null}function Bo(A){return A.stopPropagation?A.stopPropagation():A.originalEvent?A.originalEvent._stopped=!0:A.cancelBubble=!0,this}function Xo(A){return li(A,"wheel",Bo),this}function qs(A){return Gt(A,"mousedown touchstart dblclick contextmenu",Bo),A._leaflet_disable_click=!0,this}function tr(A){return A.preventDefault?A.preventDefault():A.returnValue=!1,this}function Or(A){return tr(A),Bo(A),this}function Oi(A){if(A.composedPath)return A.composedPath();for(var f=[],x=A.target;x;)f.push(x),x=x.parentNode;return f}function rA(A,f){if(!f)return new z(A.clientX,A.clientY);var x=Na(f),P=x.boundingClientRect;return new z((A.clientX-P.left)/x.x-f.clientLeft,(A.clientY-P.top)/x.y-f.clientTop)}var Co=ut.linux&&ut.chrome?window.devicePixelRatio:ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nn(A){return ut.edge?A.wheelDeltaY/2:A.deltaY&&A.deltaMode===0?-A.deltaY/Co:A.deltaY&&A.deltaMode===1?-A.deltaY*20:A.deltaY&&A.deltaMode===2?-A.deltaY*60:A.deltaX||A.deltaZ?0:A.wheelDelta?(A.wheelDeltaY||A.wheelDelta)/2:A.detail&&Math.abs(A.detail)<32765?-A.detail*20:A.detail?A.detail/-32765*60:0}function Zo(A,f){var x=f.relatedTarget;if(!x)return!0;try{for(;x&&x!==A;)x=x.parentNode}catch{return!1}return x!==A}var zA={__proto__:null,on:Gt,off:un,stopPropagation:Bo,disableScrollPropagation:Xo,disableClickPropagation:qs,preventDefault:tr,stop:Or,getPropagationPath:Oi,getMousePosition:rA,getWheelDelta:Nn,isExternalTarget:Zo,addListener:Gt,removeListener:un},pl=q.extend({run:function(A,f,x,P){this.stop(),this._el=A,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(P||.5,.2),this._startPos=hn(A),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(A){var f=+new Date-this._startTime,x=this._duration*1e3;f<x?this._runFrame(this._easeOut(f/x),A):(this._runFrame(1),this._complete())},_runFrame:function(A,f){var x=this._startPos.add(this._offset.multiplyBy(A));f&&x._round(),qn(this._el,x),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(A){return 1-Math.pow(1-A,this._easeOutPower)}}),rn=q.extend({options:{crs:ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(A,f){f=_(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(A),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(he(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vo&&ut.any3d&&!ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Gt(this._proxy,eA,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(A,f,x){if(f=f===void 0?this._zoom:this._limitZoom(f),A=this._limitCenter(he(A),f,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=i({animate:x.animate},x.zoom),x.pan=i({animate:x.animate,duration:x.duration},x.pan));var P=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(A,f,x.zoom):this._tryAnimatedPan(A,x.pan);if(P)return clearTimeout(this._sizeTimer),this}return this._resetView(A,f,x.pan&&x.pan.noMoveStart),this},setZoom:function(A,f){return this._loaded?this.setView(this.getCenter(),A,{zoom:f}):(this._zoom=A,this)},zoomIn:function(A,f){return A=A||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+A,f)},zoomOut:function(A,f){return A=A||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-A,f)},setZoomAround:function(A,f,x){var P=this.getZoomScale(f),$=this.getSize().divideBy(2),le=A instanceof z?A:this.latLngToContainerPoint(A),_e=le.subtract($).multiplyBy(1-1/P),Ue=this.containerPointToLatLng($.add(_e));return this.setView(Ue,f,{zoom:x})},_getBoundsCenterZoom:function(A,f){f=f||{},A=A.getBounds?A.getBounds():re(A);var x=ie(f.paddingTopLeft||f.padding||[0,0]),P=ie(f.paddingBottomRight||f.padding||[0,0]),$=this.getBoundsZoom(A,!1,x.add(P));if($=typeof f.maxZoom=="number"?Math.min(f.maxZoom,$):$,$===1/0)return{center:A.getCenter(),zoom:$};var le=P.subtract(x).divideBy(2),_e=this.project(A.getSouthWest(),$),Ue=this.project(A.getNorthEast(),$),Me=this.unproject(_e.add(Ue).divideBy(2).add(le),$);return{center:Me,zoom:$}},fitBounds:function(A,f){if(A=re(A),!A.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(A,f);return this.setView(x.center,x.zoom,f)},fitWorld:function(A){return this.fitBounds([[-90,-180],[90,180]],A)},panTo:function(A,f){return this.setView(A,this._zoom,{pan:f})},panBy:function(A,f){if(A=ie(A).round(),f=f||{},!A.x&&!A.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(A))return this._resetView(this.unproject(this.project(this.getCenter()).add(A)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Yt(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(A).round();this._panAnim.run(this._mapPane,x,f.duration||.25,f.easeLinearity)}else this._rawPanBy(A),this.fire("move").fire("moveend");return this},flyTo:function(A,f,x){if(x=x||{},x.animate===!1||!ut.any3d)return this.setView(A,f,x);this._stop();var P=this.project(this.getCenter()),$=this.project(A),le=this.getSize(),_e=this._zoom;A=he(A),f=f===void 0?_e:f;var Ue=Math.max(le.x,le.y),Me=Ue*this.getZoomScale(_e,f),Ze=$.distanceTo(P)||1,yt=1.42,kt=yt*yt;function an(Mn){var Vi=Mn?-1:1,bw=Mn?Me:Ue,_w=Me*Me-Ue*Ue+Vi*kt*kt*Ze*Ze,xg=2*bw*kt*Ze,Rd=_w/xg,If=Math.sqrt(Rd*Rd+1)-Rd,bg=If<1e-9?-18:Math.log(If);return bg}function Hi(Mn){return(Math.exp(Mn)-Math.exp(-Mn))/2}function Dr(Mn){return(Math.exp(Mn)+Math.exp(-Mn))/2}function Zs(Mn){return Hi(Mn)/Dr(Mn)}var as=an(0);function XA(Mn){return Ue*(Dr(as)/Dr(as+yt*Mn))}function ww(Mn){return Ue*(Dr(as)*Zs(as+yt*Mn)-Hi(as))/kt}function _l(Mn){return 1-Math.pow(1-Mn,1.5)}var Po=Date.now(),oa=(an(1)-as)/yt,xw=x.duration?1e3*x.duration:1e3*oa*.8;function Sf(){var Mn=(Date.now()-Po)/xw,Vi=_l(Mn)*oa;Mn<=1?(this._flyToFrame=j(Sf,this),this._move(this.unproject(P.add($.subtract(P).multiplyBy(ww(Vi)/Ze)),_e),this.getScaleZoom(Ue/XA(Vi),_e),{flyTo:!0})):this._move(A,f)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),Sf.call(this),this},flyToBounds:function(A,f){var x=this._getBoundsCenterZoom(A,f);return this.flyTo(x.center,x.zoom,f)},setMaxBounds:function(A){return A=re(A),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),A.isValid()?(this.options.maxBounds=A,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(A){var f=this.options.minZoom;return this.options.minZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(A):this},setMaxZoom:function(A){var f=this.options.maxZoom;return this.options.maxZoom=A,this._loaded&&f!==A&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(A):this},panInsideBounds:function(A,f){this._enforcingBounds=!0;var x=this.getCenter(),P=this._limitCenter(x,this._zoom,re(A));return x.equals(P)||this.panTo(P,f),this._enforcingBounds=!1,this},panInside:function(A,f){f=f||{};var x=ie(f.paddingTopLeft||f.padding||[0,0]),P=ie(f.paddingBottomRight||f.padding||[0,0]),$=this.project(this.getCenter()),le=this.project(A),_e=this.getPixelBounds(),Ue=Q([_e.min.add(x),_e.max.subtract(P)]),Me=Ue.getSize();if(!Ue.contains(le)){this._enforcingBounds=!0;var Ze=le.subtract(Ue.getCenter()),yt=Ue.extend(le).getSize().subtract(Me);$.x+=Ze.x<0?-yt.x:yt.x,$.y+=Ze.y<0?-yt.y:yt.y,this.panTo(this.unproject($),f),this._enforcingBounds=!1}return this},invalidateSize:function(A){if(!this._loaded)return this;A=i({animate:!1,pan:!0},A===!0?{animate:!0}:A);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),P=f.divideBy(2).round(),$=x.divideBy(2).round(),le=P.subtract($);return!le.x&&!le.y?this:(A.animate&&A.pan?this.panBy(le):(A.pan&&this._rawPanBy(le),this.fire("move"),A.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(A){if(A=this._locateOptions=i({timeout:1e4,watch:!1},A),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=o(this._handleGeolocationResponse,this),x=o(this._handleGeolocationError,this);return A.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,x,A):navigator.geolocation.getCurrentPosition(f,x,A),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(A){if(this._container._leaflet_id){var f=A.code,x=A.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(A){if(this._container._leaflet_id){var f=A.coords.latitude,x=A.coords.longitude,P=new ee(f,x),$=P.toBounds(A.coords.accuracy*2),le=this._locateOptions;if(le.setView){var _e=this.getBoundsZoom($);this.setView(P,le.maxZoom?Math.min(_e,le.maxZoom):_e)}var Ue={latlng:P,bounds:$,timestamp:A.timestamp};for(var Me in A.coords)typeof A.coords[Me]=="number"&&(Ue[Me]=A.coords[Me]);this.fire("locationfound",Ue)}},addHandler:function(A,f){if(!f)return this;var x=this[A]=new f(this);return this._handlers.push(x),this.options[A]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var A;for(A in this._layers)this._layers[A].remove();for(A in this._panes)$t(this._panes[A]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(A,f){var x="leaflet-pane"+(A?" leaflet-"+A.replace("Pane","")+"-pane":""),P=cn("div",x,f||this._mapPane);return A&&(this._panes[A]=P),P},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var A=this.getPixelBounds(),f=this.unproject(A.getBottomLeft()),x=this.unproject(A.getTopRight());return new J(f,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(A,f,x){A=re(A),x=ie(x||[0,0]);var P=this.getZoom()||0,$=this.getMinZoom(),le=this.getMaxZoom(),_e=A.getNorthWest(),Ue=A.getSouthEast(),Me=this.getSize().subtract(x),Ze=Q(this.project(Ue,P),this.project(_e,P)).getSize(),yt=ut.any3d?this.options.zoomSnap:1,kt=Me.x/Ze.x,an=Me.y/Ze.y,Hi=f?Math.max(kt,an):Math.min(kt,an);return P=this.getScaleZoom(Hi,P),yt&&(P=Math.round(P/(yt/100))*(yt/100),P=f?Math.ceil(P/yt)*yt:Math.floor(P/yt)*yt),Math.max($,Math.min(le,P))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(A,f){var x=this._getTopLeftPoint(A,f);return new be(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(A){return this.options.crs.getProjectedBounds(A===void 0?this.getZoom():A)},getPane:function(A){return typeof A=="string"?this._panes[A]:A},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(A,f){var x=this.options.crs;return f=f===void 0?this._zoom:f,x.scale(A)/x.scale(f)},getScaleZoom:function(A,f){var x=this.options.crs;f=f===void 0?this._zoom:f;var P=x.zoom(A*x.scale(f));return isNaN(P)?1/0:P},project:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(he(A),f)},unproject:function(A,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(ie(A),f)},layerPointToLatLng:function(A){var f=ie(A).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(A){var f=this.project(he(A))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(A){return this.options.crs.wrapLatLng(he(A))},wrapLatLngBounds:function(A){return this.options.crs.wrapLatLngBounds(re(A))},distance:function(A,f){return this.options.crs.distance(he(A),he(f))},containerPointToLayerPoint:function(A){return ie(A).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(A){return ie(A).add(this._getMapPanePos())},containerPointToLatLng:function(A){var f=this.containerPointToLayerPoint(ie(A));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(A){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(A)))},mouseEventToContainerPoint:function(A){return rA(A,this._container)},mouseEventToLayerPoint:function(A){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(A))},mouseEventToLatLng:function(A){return this.layerPointToLatLng(this.mouseEventToLayerPoint(A))},_initContainer:function(A){var f=this._container=tA(A);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Gt(f,"scroll",this._onScroll,this),this._containerId=a(f)},_initLayout:function(){var A=this._container;this._fadeAnimated=this.options.fadeAnimation&&ut.any3d,Yt(A,"leaflet-container"+(ut.touch?" leaflet-touch":"")+(ut.retina?" leaflet-retina":"")+(ut.ielt9?" leaflet-oldie":"")+(ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Cs(A,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(A.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var A=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qn(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Yt(A.markerPane,"leaflet-zoom-hide"),Yt(A.shadowPane,"leaflet-zoom-hide"))},_resetView:function(A,f,x){qn(this._mapPane,new z(0,0));var P=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var $=this._zoom!==f;this._moveStart($,x)._move(A,f)._moveEnd($),this.fire("viewreset"),P&&this.fire("load")},_moveStart:function(A,f){return A&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(A,f,x,P){f===void 0&&(f=this._zoom);var $=this._zoom!==f;return this._zoom=f,this._lastCenter=A,this._pixelOrigin=this._getNewPixelOrigin(A),P?x&&x.pinch&&this.fire("zoom",x):(($||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(A){return A&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(A){qn(this._mapPane,this._getMapPanePos().subtract(A))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(A){this._targets={},this._targets[a(this._container)]=this;var f=A?un:Gt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),ut.any3d&&this.options.transform3DLimit&&(A?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var A=this._getMapPanePos();Math.max(Math.abs(A.x),Math.abs(A.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(A,f){for(var x=[],P,$=f==="mouseout"||f==="mouseover",le=A.target||A.srcElement,_e=!1;le;){if(P=this._targets[a(le)],P&&(f==="click"||f==="preclick")&&this._draggableMoved(P)){_e=!0;break}if(P&&P.listens(f,!0)&&($&&!Zo(le,A)||(x.push(P),$))||le===this._container)break;le=le.parentNode}return!x.length&&!_e&&!$&&this.listens(f,!0)&&(x=[this]),x},_isClickDisabled:function(A){for(;A&&A!==this._container;){if(A._leaflet_disable_click)return!0;A=A.parentNode}},_handleDOMEvent:function(A){var f=A.target||A.srcElement;if(!(!this._loaded||f._leaflet_disable_events||A.type==="click"&&this._isClickDisabled(f))){var x=A.type;x==="mousedown"&&hl(f),this._fireDOMEvent(A,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(A,f,x){if(A.type==="click"){var P=i({},A);P.type="preclick",this._fireDOMEvent(P,P.type,x)}var $=this._findEventTargets(A,f);if(x){for(var le=[],_e=0;_e<x.length;_e++)x[_e].listens(f,!0)&&le.push(x[_e]);$=le.concat($)}if($.length){f==="contextmenu"&&tr(A);var Ue=$[0],Me={originalEvent:A};if(A.type!=="keypress"&&A.type!=="keydown"&&A.type!=="keyup"){var Ze=Ue.getLatLng&&(!Ue._radius||Ue._radius<=10);Me.containerPoint=Ze?this.latLngToContainerPoint(Ue.getLatLng()):this.mouseEventToContainerPoint(A),Me.layerPoint=this.containerPointToLayerPoint(Me.containerPoint),Me.latlng=Ze?Ue.getLatLng():this.layerPointToLatLng(Me.layerPoint)}for(_e=0;_e<$.length;_e++)if($[_e].fire(f,Me,!0),Me.originalEvent._stopped||$[_e].options.bubblingMouseEvents===!1&&F(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(A){return A=A.dragging&&A.dragging.enabled()?A:this,A.dragging&&A.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var A=0,f=this._handlers.length;A<f;A++)this._handlers[A].disable()},whenReady:function(A,f){return this._loaded?A.call(f||this,{target:this}):this.on("load",A,f),this},_getMapPanePos:function(){return hn(this._mapPane)||new z(0,0)},_moved:function(){var A=this._getMapPanePos();return A&&!A.equals([0,0])},_getTopLeftPoint:function(A,f){var x=A&&f!==void 0?this._getNewPixelOrigin(A,f):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(A,f){var x=this.getSize()._divideBy(2);return this.project(A,f)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(A,f,x){var P=this._getNewPixelOrigin(x,f);return this.project(A,f)._subtract(P)},_latLngBoundsToNewLayerBounds:function(A,f,x){var P=this._getNewPixelOrigin(x,f);return Q([this.project(A.getSouthWest(),f)._subtract(P),this.project(A.getNorthWest(),f)._subtract(P),this.project(A.getSouthEast(),f)._subtract(P),this.project(A.getNorthEast(),f)._subtract(P)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(A){return this.latLngToLayerPoint(A).subtract(this._getCenterLayerPoint())},_limitCenter:function(A,f,x){if(!x)return A;var P=this.project(A,f),$=this.getSize().divideBy(2),le=new be(P.subtract($),P.add($)),_e=this._getBoundsOffset(le,x,f);return Math.abs(_e.x)<=1&&Math.abs(_e.y)<=1?A:this.unproject(P.add(_e),f)},_limitOffset:function(A,f){if(!f)return A;var x=this.getPixelBounds(),P=new be(x.min.add(A),x.max.add(A));return A.add(this._getBoundsOffset(P,f))},_getBoundsOffset:function(A,f,x){var P=Q(this.project(f.getNorthEast(),x),this.project(f.getSouthWest(),x)),$=P.min.subtract(A.min),le=P.max.subtract(A.max),_e=this._rebound($.x,-le.x),Ue=this._rebound($.y,-le.y);return new z(_e,Ue)},_rebound:function(A,f){return A+f>0?Math.round(A-f)/2:Math.max(0,Math.ceil(A))-Math.max(0,Math.floor(f))},_limitZoom:function(A){var f=this.getMinZoom(),x=this.getMaxZoom(),P=ut.any3d?this.options.zoomSnap:1;return P&&(A=Math.round(A/P)*P),Math.max(f,Math.min(x,A))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(A,f){var x=this._getCenterOffset(A)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,f),!0)},_createAnimProxy:function(){var A=this._proxy=cn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(A),this.on("zoomanim",function(f){var x=Ui,P=this._proxy.style[x];ki(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),P===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var A=this.getCenter(),f=this.getZoom();ki(this._proxy,this.project(A,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(A){this._animatingZoom&&A.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(A,f,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var P=this.getZoomScale(f),$=this._getCenterOffset(A)._divideBy(1-1/P);return x.animate!==!0&&!this.getSize().contains($)?!1:(j(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(A,f,!0)},this),!0)},_animateZoom:function(A,f,x,P){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=A,this._animateToZoom=f,Yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:A,zoom:f,noUpdate:P}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function iA(A,f){return new rn(A,f)}var Yn=W.extend({options:{position:"topright"},initialize:function(A){_(this,A)},getPosition:function(){return this.options.position},setPosition:function(A){var f=this._map;return f&&f.removeControl(this),this.options.position=A,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(A){this.remove(),this._map=A;var f=this._container=this.onAdd(A),x=this.getPosition(),P=A._controlCorners[x];return Yt(f,"leaflet-control"),x.indexOf("bottom")!==-1?P.insertBefore(f,P.firstChild):P.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(A){this._map&&A&&A.screenX>0&&A.screenY>0&&this._map.getContainer().focus()}}),wi=function(A){return new Yn(A)};rn.include({addControl:function(A){return A.addTo(this),this},removeControl:function(A){return A.remove(),this},_initControlPos:function(){var A=this._controlCorners={},f="leaflet-",x=this._controlContainer=cn("div",f+"control-container",this._container);function P($,le){var _e=f+$+" "+f+le;A[$+le]=cn("div",_e,x)}P("top","left"),P("top","right"),P("bottom","left"),P("bottom","right")},_clearControlPos:function(){for(var A in this._controlCorners)$t(this._controlCorners[A]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var is=Yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(A,f,x,P){return x<P?-1:P<x?1:0}},initialize:function(A,f,x){_(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var P in A)this._addLayer(A[P],P);for(P in f)this._addLayer(f[P],P,!0)},onAdd:function(A){this._initLayout(),this._update(),this._map=A,A.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(A){return Yn.prototype.addTo.call(this,A),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(A,f){return this._addLayer(A,f),this._map?this._update():this},addOverlay:function(A,f){return this._addLayer(A,f,!0),this._map?this._update():this},removeLayer:function(A){A.off("add remove",this._onLayerChange,this);var f=this._getLayer(a(A));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var A=this._map.getSize().y-(this._container.offsetTop+50);return A<this._section.clientHeight?(Yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=A+"px"):gn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var A="leaflet-control-layers",f=this._container=cn("div",A),x=this.options.collapsed;f.setAttribute("aria-haspopup",!0),qs(f),Xo(f);var P=this._section=cn("section",A+"-list");x&&(this._map.on("click",this.collapse,this),Gt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var $=this._layersLink=cn("a",A+"-toggle",f);$.href="#",$.title="Layers",$.setAttribute("role","button"),Gt($,{keydown:function(le){le.keyCode===13&&this._expandSafely()},click:function(le){tr(le),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=cn("div",A+"-base",P),this._separator=cn("div",A+"-separator",P),this._overlaysList=cn("div",A+"-overlays",P),f.appendChild(P)},_getLayer:function(A){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&a(this._layers[f].layer)===A)return this._layers[f]},_addLayer:function(A,f,x){this._map&&A.on("add remove",this._onLayerChange,this),this._layers.push({layer:A,name:f,overlay:x}),this.options.sortLayers&&this._layers.sort(o(function(P,$){return this.options.sortFunction(P.layer,$.layer,P.name,$.name)},this)),this.options.autoZIndex&&A.setZIndex&&(this._lastZIndex++,A.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yo(this._baseLayersList),yo(this._overlaysList),this._layerControlInputs=[];var A,f,x,P,$=0;for(x=0;x<this._layers.length;x++)P=this._layers[x],this._addItem(P),f=f||P.overlay,A=A||!P.overlay,$+=P.overlay?0:1;return this.options.hideSingleBase&&(A=A&&$>1,this._baseLayersList.style.display=A?"":"none"),this._separator.style.display=f&&A?"":"none",this},_onLayerChange:function(A){this._handlingClick||this._update();var f=this._getLayer(a(A.target)),x=f.overlay?A.type==="add"?"overlayadd":"overlayremove":A.type==="add"?"baselayerchange":null;x&&this._map.fire(x,f)},_createRadioElement:function(A,f){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+A+'"'+(f?' checked="checked"':"")+"/>",P=document.createElement("div");return P.innerHTML=x,P.firstChild},_addItem:function(A){var f=document.createElement("label"),x=this._map.hasLayer(A.layer),P;A.overlay?(P=document.createElement("input"),P.type="checkbox",P.className="leaflet-control-layers-selector",P.defaultChecked=x):P=this._createRadioElement("leaflet-base-layers_"+a(this),x),this._layerControlInputs.push(P),P.layerId=a(A.layer),Gt(P,"click",this._onInputClick,this);var $=document.createElement("span");$.innerHTML=" "+A.name;var le=document.createElement("span");f.appendChild(le),le.appendChild(P),le.appendChild($);var _e=A.overlay?this._overlaysList:this._baseLayersList;return _e.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var A=this._layerControlInputs,f,x,P=[],$=[];this._handlingClick=!0;for(var le=A.length-1;le>=0;le--)f=A[le],x=this._getLayer(f.layerId).layer,f.checked?P.push(x):f.checked||$.push(x);for(le=0;le<$.length;le++)this._map.hasLayer($[le])&&this._map.removeLayer($[le]);for(le=0;le<P.length;le++)this._map.hasLayer(P[le])||this._map.addLayer(P[le]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var A=this._layerControlInputs,f,x,P=this._map.getZoom(),$=A.length-1;$>=0;$--)f=A[$],x=this._getLayer(f.layerId).layer,f.disabled=x.options.minZoom!==void 0&&P<x.options.minZoom||x.options.maxZoom!==void 0&&P>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var A=this._section;this._preventClick=!0,Gt(A,"click",tr),this.expand();var f=this;setTimeout(function(){un(A,"click",tr),f._preventClick=!1})}}),Eo=function(A,f,x){return new is(A,f,x)},Di=Yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(A){var f="leaflet-control-zoom",x=cn("div",f+" leaflet-bar"),P=this.options;return this._zoomInButton=this._createButton(P.zoomInText,P.zoomInTitle,f+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(P.zoomOutText,P.zoomOutTitle,f+"-out",x,this._zoomOut),this._updateDisabled(),A.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(A){A.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(A){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(A.shiftKey?3:1))},_zoomOut:function(A){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(A.shiftKey?3:1))},_createButton:function(A,f,x,P,$){var le=cn("a",x,P);return le.innerHTML=A,le.href="#",le.title=f,le.setAttribute("role","button"),le.setAttribute("aria-label",f),qs(le),Gt(le,"click",Or),Gt(le,"click",$,this),Gt(le,"click",this._refocusOnMap,this),le},_updateDisabled:function(){var A=this._map,f="leaflet-disabled";gn(this._zoomInButton,f),gn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||A._zoom===A.getMinZoom())&&(Yt(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||A._zoom===A.getMaxZoom())&&(Yt(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Di,this.addControl(this.zoomControl))});var So=function(A){return new Di(A)},Io=Yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(A){var f="leaflet-control-scale",x=cn("div",f),P=this.options;return this._addScales(P,f+"-line",x),A.on(P.updateWhenIdle?"moveend":"move",this._update,this),A.whenReady(this._update,this),x},onRemove:function(A){A.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(A,f,x){A.metric&&(this._mScale=cn("div",f,x)),A.imperial&&(this._iScale=cn("div",f,x))},_update:function(){var A=this._map,f=A.getSize().y/2,x=A.distance(A.containerPointToLatLng([0,f]),A.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(x)},_updateScales:function(A){this.options.metric&&A&&this._updateMetric(A),this.options.imperial&&A&&this._updateImperial(A)},_updateMetric:function(A){var f=this._getRoundNum(A),x=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,x,f/A)},_updateImperial:function(A){var f=A*3.2808399,x,P,$;f>5280?(x=f/5280,P=this._getRoundNum(x),this._updateScale(this._iScale,P+" mi",P/x)):($=this._getRoundNum(f),this._updateScale(this._iScale,$+" ft",$/f))},_updateScale:function(A,f,x){A.style.width=Math.round(this.options.maxWidth*x)+"px",A.innerHTML=f},_getRoundNum:function(A){var f=Math.pow(10,(Math.floor(A)+"").length-1),x=A/f;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,f*x}}),sA=function(A){return new Io(A)},No='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ml=Yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ut.inlineSvg?No+" ":"")+"Leaflet</a>"},initialize:function(A){_(this,A),this._attributions={}},onAdd:function(A){A.attributionControl=this,this._container=cn("div","leaflet-control-attribution"),qs(this._container);for(var f in A._layers)A._layers[f].getAttribution&&this.addAttribution(A._layers[f].getAttribution());return this._update(),A.on("layeradd",this._addAttribution,this),this._container},onRemove:function(A){A.off("layeradd",this._addAttribution,this)},_addAttribution:function(A){A.layer.getAttribution&&(this.addAttribution(A.layer.getAttribution()),A.layer.once("remove",function(){this.removeAttribution(A.layer.getAttribution())},this))},setPrefix:function(A){return this.options.prefix=A,this._update(),this},addAttribution:function(A){return A?(this._attributions[A]||(this._attributions[A]=0),this._attributions[A]++,this._update(),this):this},removeAttribution:function(A){return A?(this._attributions[A]&&(this._attributions[A]--,this._update()),this):this},_update:function(){if(this._map){var A=[];for(var f in this._attributions)this._attributions[f]&&A.push(f);var x=[];this.options.prefix&&x.push(this.options.prefix),A.length&&x.push(A.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook(function(){this.options.attributionControl&&new ml().addTo(this)});var ea=function(A){return new ml(A)};Yn.Layers=is,Yn.Zoom=Di,Yn.Scale=Io,Yn.Attribution=ml,wi.layers=Eo,wi.zoom=So,wi.scale=sA,wi.attribution=ea;var xi=W.extend({initialize:function(A){this._map=A},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xi.addTo=function(A,f){return A.addHandler(f,this),this};var oA={Events:V},Is=ut.touch?"touchstart mousedown":"mousedown",Qi=q.extend({options:{clickTolerance:3},initialize:function(A,f,x,P){_(this,P),this._element=A,this._dragStartTarget=f||A,this._preventOutline=x},enable:function(){this._enabled||(Gt(this._dragStartTarget,Is,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qi._dragging===this&&this.finishDrag(!0),un(this._dragStartTarget,Is,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(A){if(this._enabled&&(this._moved=!1,!Sa(this._element,"leaflet-zoom-anim"))){if(A.touches&&A.touches.length!==1){Qi._dragging===this&&this.finishDrag();return}if(!(Qi._dragging||A.shiftKey||A.which!==1&&A.button!==1&&!A.touches)&&(Qi._dragging=this,this._preventOutline&&hl(this._element),dl(),Ws(),!this._moving)){this.fire("down");var f=A.touches?A.touches[0]:A,x=Ss(this._element);this._startPoint=new z(f.clientX,f.clientY),this._startPos=hn(this._element),this._parentScale=Na(x);var P=A.type==="mousedown";Gt(document,P?"mousemove":"touchmove",this._onMove,this),Gt(document,P?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(A){if(this._enabled){if(A.touches&&A.touches.length>1){this._moved=!0;return}var f=A.touches&&A.touches.length===1?A.touches[0]:A,x=new z(f.clientX,f.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,tr(A),this._moved||(this.fire("dragstart"),this._moved=!0,Yt(document.body,"leaflet-dragging"),this._lastTarget=A.target||A.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=A,this._updatePosition())}},_updatePosition:function(){var A={originalEvent:this._lastEvent};this.fire("predrag",A),qn(this._element,this._newPos),this.fire("drag",A)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(A){gn(document.body,"leaflet-dragging"),this._lastTarget&&(gn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un(document,"mousemove touchmove",this._onMove,this),un(document,"mouseup touchend touchcancel",this._onUp,this),Es(),Ri();var f=this._moved&&this._moving;this._moving=!1,Qi._dragging=!1,f&&this.fire("dragend",{noInertia:A,distance:this._newPos.distanceTo(this._startPos)})}});function Fa(A,f,x){var P,$=[1,4,2,8],le,_e,Ue,Me,Ze,yt,kt,an;for(le=0,yt=A.length;le<yt;le++)A[le]._code=De(A[le],f);for(Ue=0;Ue<4;Ue++){for(kt=$[Ue],P=[],le=0,yt=A.length,_e=yt-1;le<yt;_e=le++)Me=A[le],Ze=A[_e],Me._code&kt?Ze._code&kt||(an=Pe(Ze,Me,kt,f,x),an._code=De(an,f),P.push(an)):(Ze._code&kt&&(an=Pe(Ze,Me,kt,f,x),an._code=De(an,f),P.push(an)),P.push(Me));A=P}return A}function Pa(A,f){var x,P,$,le,_e,Ue,Me,Ze,yt;if(!A||A.length===0)throw new Error("latlngs not passed");mt(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var kt=he([0,0]),an=re(A),Hi=an.getNorthWest().distanceTo(an.getSouthWest())*an.getNorthEast().distanceTo(an.getNorthWest());Hi<1700&&(kt=La(A));var Dr=A.length,Zs=[];for(x=0;x<Dr;x++){var as=he(A[x]);Zs.push(f.project(he([as.lat-kt.lat,as.lng-kt.lng])))}for(Ue=Me=Ze=0,x=0,P=Dr-1;x<Dr;P=x++)$=Zs[x],le=Zs[P],_e=$.y*le.x-le.y*$.x,Me+=($.x+le.x)*_e,Ze+=($.y+le.y)*_e,Ue+=_e*3;Ue===0?yt=Zs[0]:yt=[Me/Ue,Ze/Ue];var XA=f.unproject(ie(yt));return he([XA.lat+kt.lat,XA.lng+kt.lng])}function La(A){for(var f=0,x=0,P=0,$=0;$<A.length;$++){var le=he(A[$]);f+=le.lat,x+=le.lng,P++}return he([f/P,x/P])}var ja={__proto__:null,clipPolygon:Fa,polygonCenter:Pa,centroid:La};function Ns(A,f){if(!f||!A.length)return A.slice();var x=f*f;return A=X(A,x),A=Ts(A,x),A}function Ua(A,f,x){return Math.sqrt(ct(A,f,x,!0))}function To(A,f,x){return ct(A,f,x)}function Ts(A,f){var x=A.length,P=typeof Uint8Array!=void 0+""?Uint8Array:Array,$=new P(x);$[0]=$[x-1]=1,I(A,$,f,0,x-1);var le,_e=[];for(le=0;le<x;le++)$[le]&&_e.push(A[le]);return _e}function I(A,f,x,P,$){var le=0,_e,Ue,Me;for(Ue=P+1;Ue<=$-1;Ue++)Me=ct(A[Ue],A[P],A[$],!0),Me>le&&(_e=Ue,le=Me);le>x&&(f[_e]=1,I(A,f,x,P,_e),I(A,f,x,_e,$))}function X(A,f){for(var x=[A[0]],P=1,$=0,le=A.length;P<le;P++)et(A[P],A[$])>f&&(x.push(A[P]),$=P);return $<le-1&&x.push(A[le-1]),x}var we;function Be(A,f,x,P,$){var le=P?we:De(A,x),_e=De(f,x),Ue,Me,Ze;for(we=_e;;){if(!(le|_e))return[A,f];if(le&_e)return!1;Ue=le||_e,Me=Pe(A,f,Ue,x,$),Ze=De(Me,x),Ue===le?(A=Me,le=Ze):(f=Me,_e=Ze)}}function Pe(A,f,x,P,$){var le=f.x-A.x,_e=f.y-A.y,Ue=P.min,Me=P.max,Ze,yt;return x&8?(Ze=A.x+le*(Me.y-A.y)/_e,yt=Me.y):x&4?(Ze=A.x+le*(Ue.y-A.y)/_e,yt=Ue.y):x&2?(Ze=Me.x,yt=A.y+_e*(Me.x-A.x)/le):x&1&&(Ze=Ue.x,yt=A.y+_e*(Ue.x-A.x)/le),new z(Ze,yt,$)}function De(A,f){var x=0;return A.x<f.min.x?x|=1:A.x>f.max.x&&(x|=2),A.y<f.min.y?x|=4:A.y>f.max.y&&(x|=8),x}function et(A,f){var x=f.x-A.x,P=f.y-A.y;return x*x+P*P}function ct(A,f,x,P){var $=f.x,le=f.y,_e=x.x-$,Ue=x.y-le,Me=_e*_e+Ue*Ue,Ze;return Me>0&&(Ze=((A.x-$)*_e+(A.y-le)*Ue)/Me,Ze>1?($=x.x,le=x.y):Ze>0&&($+=_e*Ze,le+=Ue*Ze)),_e=A.x-$,Ue=A.y-le,P?_e*_e+Ue*Ue:new z($,le)}function mt(A){return!E(A[0])||typeof A[0][0]!="object"&&typeof A[0][0]<"u"}function v(A){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mt(A)}function R(A,f){var x,P,$,le,_e,Ue,Me,Ze;if(!A||A.length===0)throw new Error("latlngs not passed");mt(A)||(console.warn("latlngs are not flat! Only the first ring will be used"),A=A[0]);var yt=he([0,0]),kt=re(A),an=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());an<1700&&(yt=La(A));var Hi=A.length,Dr=[];for(x=0;x<Hi;x++){var Zs=he(A[x]);Dr.push(f.project(he([Zs.lat-yt.lat,Zs.lng-yt.lng])))}for(x=0,P=0;x<Hi-1;x++)P+=Dr[x].distanceTo(Dr[x+1])/2;if(P===0)Ze=Dr[0];else for(x=0,le=0;x<Hi-1;x++)if(_e=Dr[x],Ue=Dr[x+1],$=_e.distanceTo(Ue),le+=$,le>P){Me=(le-P)/$,Ze=[Ue.x-Me*(Ue.x-_e.x),Ue.y-Me*(Ue.y-_e.y)];break}var as=f.unproject(ie(Ze));return he([as.lat+yt.lat,as.lng+yt.lng])}var G={__proto__:null,simplify:Ns,pointToSegmentDistance:Ua,closestPointOnSegment:To,clipSegment:Be,_getEdgeIntersection:Pe,_getBitCode:De,_sqClosestPointOnSegment:ct,isFlat:mt,_flat:v,polylineCenter:R},ce={project:function(A){return new z(A.lng,A.lat)},unproject:function(A){return new ee(A.y,A.x)},bounds:new be([-180,-90],[180,90])},Ie={R:6378137,R_MINOR:6356752314245179e-9,bounds:new be([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(A){var f=Math.PI/180,x=this.R,P=A.lat*f,$=this.R_MINOR/x,le=Math.sqrt(1-$*$),_e=le*Math.sin(P),Ue=Math.tan(Math.PI/4-P/2)/Math.pow((1-_e)/(1+_e),le/2);return P=-x*Math.log(Math.max(Ue,1e-10)),new z(A.lng*f*x,P)},unproject:function(A){for(var f=180/Math.PI,x=this.R,P=this.R_MINOR/x,$=Math.sqrt(1-P*P),le=Math.exp(-A.y/x),_e=Math.PI/2-2*Math.atan(le),Ue=0,Me=.1,Ze;Ue<15&&Math.abs(Me)>1e-7;Ue++)Ze=$*Math.sin(_e),Ze=Math.pow((1-Ze)/(1+Ze),$/2),Me=Math.PI/2-2*Math.atan(le*Ze)-_e,_e+=Me;return new ee(_e*f,A.x*f/x)}},ke={__proto__:null,LonLat:ce,Mercator:Ie,SphericalMercator:te},st=i({},fe,{code:"EPSG:3395",projection:Ie,transformation:function(){var A=.5/(Math.PI*Ie.R);return xe(A,.5,-A,.5)}()}),Wt=i({},fe,{code:"EPSG:4326",projection:ce,transformation:xe(1/180,1,-1/180,.5)}),Tn=i({},ve,{projection:ce,transformation:xe(1,0,-1,0),scale:function(A){return Math.pow(2,A)},zoom:function(A){return Math.log(A)/Math.LN2},distance:function(A,f){var x=f.lng-A.lng,P=f.lat-A.lat;return Math.sqrt(x*x+P*P)},infinite:!0});ve.Earth=fe,ve.EPSG3395=st,ve.EPSG3857=ye,ve.EPSG900913=Fe,ve.EPSG4326=Wt,ve.Simple=Tn;var Lt=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(A){return A.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(A){return A&&A.removeLayer(this),this},getPane:function(A){return this._map.getPane(A?this.options[A]||A:this.options.pane)},addInteractiveTarget:function(A){return this._map._targets[a(A)]=this,this},removeInteractiveTarget:function(A){return delete this._map._targets[a(A)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(A){var f=A.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var x=this.getEvents();f.on(x,this),this.once("remove",function(){f.off(x,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(A){if(!A._layerAdd)throw new Error("The provided object is not a Layer.");var f=a(A);return this._layers[f]?this:(this._layers[f]=A,A._mapToAdd=this,A.beforeAdd&&A.beforeAdd(this),this.whenReady(A._layerAdd,A),this)},removeLayer:function(A){var f=a(A);return this._layers[f]?(this._loaded&&A.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:A}),A.fire("remove")),A._map=A._mapToAdd=null,this):this},hasLayer:function(A){return a(A)in this._layers},eachLayer:function(A,f){for(var x in this._layers)A.call(f,this._layers[x]);return this},_addLayers:function(A){A=A?E(A)?A:[A]:[];for(var f=0,x=A.length;f<x;f++)this.addLayer(A[f])},_addZoomLimit:function(A){(!isNaN(A.options.maxZoom)||!isNaN(A.options.minZoom))&&(this._zoomBoundLayers[a(A)]=A,this._updateZoomLevels())},_removeZoomLimit:function(A){var f=a(A);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var A=1/0,f=-1/0,x=this._getZoomSpan();for(var P in this._zoomBoundLayers){var $=this._zoomBoundLayers[P].options;A=$.minZoom===void 0?A:Math.min(A,$.minZoom),f=$.maxZoom===void 0?f:Math.max(f,$.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=A===1/0?void 0:A,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bn=Lt.extend({initialize:function(A,f){_(this,f),this._layers={};var x,P;if(A)for(x=0,P=A.length;x<P;x++)this.addLayer(A[x])},addLayer:function(A){var f=this.getLayerId(A);return this._layers[f]=A,this._map&&this._map.addLayer(A),this},removeLayer:function(A){var f=A in this._layers?A:this.getLayerId(A);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(A){var f=typeof A=="number"?A:this.getLayerId(A);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(A){var f=Array.prototype.slice.call(arguments,1),x,P;for(x in this._layers)P=this._layers[x],P[A]&&P[A].apply(P,f);return this},onAdd:function(A){this.eachLayer(A.addLayer,A)},onRemove:function(A){this.eachLayer(A.removeLayer,A)},eachLayer:function(A,f){for(var x in this._layers)A.call(f,this._layers[x]);return this},getLayer:function(A){return this._layers[A]},getLayers:function(){var A=[];return this.eachLayer(A.push,A),A},setZIndex:function(A){return this.invoke("setZIndex",A)},getLayerId:function(A){return a(A)}}),pr=function(A,f){return new bn(A,f)},Br=bn.extend({addLayer:function(A){return this.hasLayer(A)?this:(A.addEventParent(this),bn.prototype.addLayer.call(this,A),this.fire("layeradd",{layer:A}))},removeLayer:function(A){return this.hasLayer(A)?(A in this._layers&&(A=this._layers[A]),A.removeEventParent(this),bn.prototype.removeLayer.call(this,A),this.fire("layerremove",{layer:A})):this},setStyle:function(A){return this.invoke("setStyle",A)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var A=new J;for(var f in this._layers){var x=this._layers[f];A.extend(x.getBounds?x.getBounds():x.getLatLng())}return A}}),Ai=function(A,f){return new Br(A,f)},bi=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(A){_(this,A)},createIcon:function(A){return this._createIcon("icon",A)},createShadow:function(A){return this._createIcon("shadow",A)},_createIcon:function(A,f){var x=this._getIconUrl(A);if(!x){if(A==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var P=this._createImg(x,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(P,A),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),P},_setIconStyles:function(A,f){var x=this.options,P=x[f+"Size"];typeof P=="number"&&(P=[P,P]);var $=ie(P),le=ie(f==="shadow"&&x.shadowAnchor||x.iconAnchor||$&&$.divideBy(2,!0));A.className="leaflet-marker-"+f+" "+(x.className||""),le&&(A.style.marginLeft=-le.x+"px",A.style.marginTop=-le.y+"px"),$&&(A.style.width=$.x+"px",A.style.height=$.y+"px")},_createImg:function(A,f){return f=f||document.createElement("img"),f.src=A,f},_getIconUrl:function(A){return ut.retina&&this.options[A+"RetinaUrl"]||this.options[A+"Url"]}});function ka(A){return new bi(A)}var Ra=bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(A){return typeof Ra.imagePath!="string"&&(Ra.imagePath=this._detectIconPath()),(this.options.imagePath||Ra.imagePath)+bi.prototype._getIconUrl.call(this,A)},_stripUrl:function(A){var f=function(x,P,$){var le=P.exec(x);return le&&le[$]};return A=f(A,/^url\((['"])?(.+)\1\)$/,2),A&&f(A,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var A=cn("div","leaflet-default-icon-path",document.body),f=Cs(A,"background-image")||Cs(A,"backgroundImage");if(document.body.removeChild(A),f=this._stripUrl(f),f)return f;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),aA=xi.extend({initialize:function(A){this._marker=A},addHooks:function(){var A=this._marker._icon;this._draggable||(this._draggable=new Qi(A,A,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Yt(A,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(A){var f=this._marker,x=f._map,P=this._marker.options.autoPanSpeed,$=this._marker.options.autoPanPadding,le=hn(f._icon),_e=x.getPixelBounds(),Ue=x.getPixelOrigin(),Me=Q(_e.min._subtract(Ue).add($),_e.max._subtract(Ue).subtract($));if(!Me.contains(le)){var Ze=ie((Math.max(Me.max.x,le.x)-Me.max.x)/(_e.max.x-Me.max.x)-(Math.min(Me.min.x,le.x)-Me.min.x)/(_e.min.x-Me.min.x),(Math.max(Me.max.y,le.y)-Me.max.y)/(_e.max.y-Me.max.y)-(Math.min(Me.min.y,le.y)-Me.min.y)/(_e.min.y-Me.min.y)).multiplyBy(P);x.panBy(Ze,{animate:!1}),this._draggable._newPos._add(Ze),this._draggable._startPos._add(Ze),qn(f._icon,this._draggable._newPos),this._onDrag(A),this._panRequest=j(this._adjustPan.bind(this,A))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(A){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,A)))},_onDrag:function(A){var f=this._marker,x=f._shadow,P=hn(f._icon),$=f._map.layerPointToLatLng(P);x&&qn(x,P),f._latlng=$,A.latlng=$,A.oldLatLng=this._oldLatLng,f.fire("move",A).fire("drag",A)},_onDragEnd:function(A){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",A)}}),Cr=Lt.extend({options:{icon:new Ra,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(A,f){_(this,f),this._latlng=he(A)},onAdd:function(A){this._zoomAnimated=this._zoomAnimated&&A.options.markerZoomAnimation,this._zoomAnimated&&A.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(A){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&A.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(A){var f=this._latlng;return this._latlng=he(A),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(A){return this.options.zIndexOffset=A,this.update()},getIcon:function(){return this.options.icon},setIcon:function(A){return this.options.icon=A,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var A=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(A)}return this},_initIcon:function(){var A=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=A.icon.createIcon(this._icon),P=!1;x!==this._icon&&(this._icon&&this._removeIcon(),P=!0,A.title&&(x.title=A.title),x.tagName==="IMG"&&(x.alt=A.alt||"")),Yt(x,f),A.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,A.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Gt(x,"focus",this._panOnFocus,this);var $=A.icon.createShadow(this._shadow),le=!1;$!==this._shadow&&(this._removeShadow(),le=!0),$&&(Yt($,f),$.alt=""),this._shadow=$,A.opacity<1&&this._updateOpacity(),P&&this.getPane().appendChild(this._icon),this._initInteraction(),$&&le&&this.getPane(A.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&un(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(A){this._icon&&qn(this._icon,A),this._shadow&&qn(this._shadow,A),this._zIndex=A.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(A){this._icon&&(this._icon.style.zIndex=this._zIndex+A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),aA)){var A=this.options.draggable;this.dragging&&(A=this.dragging.enabled(),this.dragging.disable()),this.dragging=new aA(this),A&&this.dragging.enable()}},setOpacity:function(A){return this.options.opacity=A,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var A=this.options.opacity;this._icon&&er(this._icon,A),this._shadow&&er(this._shadow,A)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var A=this._map;if(A){var f=this.options.icon.options,x=f.iconSize?ie(f.iconSize):ie(0,0),P=f.iconAnchor?ie(f.iconAnchor):ie(0,0);A.panInside(this._latlng,{paddingTopLeft:P,paddingBottomRight:x.subtract(P)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $A(A,f){return new Cr(A,f)}var Fs=Lt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(A){this._renderer=A.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(A){return _(this,A),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&A&&Object.prototype.hasOwnProperty.call(A,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oa=Fs.extend({options:{fill:!0,radius:10},initialize:function(A,f){_(this,f),this._latlng=he(A),this._radius=this.options.radius},setLatLng:function(A){var f=this._latlng;return this._latlng=he(A),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(A){return this.options.radius=this._radius=A,this.redraw()},getRadius:function(){return this._radius},setStyle:function(A){var f=A&&A.radius||this._radius;return Fs.prototype.setStyle.call(this,A),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var A=this._radius,f=this._radiusY||A,x=this._clickTolerance(),P=[A+x,f+x];this._pxBounds=new be(this._point.subtract(P),this._point.add(P))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(A){return A.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wu(A,f){return new Oa(A,f)}var _i=Oa.extend({initialize:function(A,f,x){if(typeof f=="number"&&(f=i({},x,{radius:f})),_(this,f),this._latlng=he(A),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(A){return this._mRadius=A,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var A=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(A)),this._map.layerPointToLatLng(this._point.add(A)))},setStyle:Fs.prototype.setStyle,_project:function(){var A=this._latlng.lng,f=this._latlng.lat,x=this._map,P=x.options.crs;if(P.distance===fe.distance){var $=Math.PI/180,le=this._mRadius/fe.R/$,_e=x.project([f+le,A]),Ue=x.project([f-le,A]),Me=_e.add(Ue).divideBy(2),Ze=x.unproject(Me).lat,yt=Math.acos((Math.cos(le*$)-Math.sin(f*$)*Math.sin(Ze*$))/(Math.cos(f*$)*Math.cos(Ze*$)))/$;(isNaN(yt)||yt===0)&&(yt=le/Math.cos(Math.PI/180*f)),this._point=Me.subtract(x.getPixelOrigin()),this._radius=isNaN(yt)?0:Me.x-x.project([Ze,A-yt]).x,this._radiusY=Me.y-_e.y}else{var kt=P.unproject(P.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(kt).x}this._updateBounds()}});function Cf(A,f,x){return new _i(A,f,x)}var Ps=Fs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(A,f){_(this,f),this._setLatLngs(A)},getLatLngs:function(){return this._latlngs},setLatLngs:function(A){return this._setLatLngs(A),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(A){for(var f=1/0,x=null,P=ct,$,le,_e=0,Ue=this._parts.length;_e<Ue;_e++)for(var Me=this._parts[_e],Ze=1,yt=Me.length;Ze<yt;Ze++){$=Me[Ze-1],le=Me[Ze];var kt=P(A,$,le,!0);kt<f&&(f=kt,x=P(A,$,le))}return x&&(x.distance=Math.sqrt(f)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return R(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(A,f){return f=f||this._defaultShape(),A=he(A),f.push(A),this._bounds.extend(A),this.redraw()},_setLatLngs:function(A){this._bounds=new J,this._latlngs=this._convertLatLngs(A)},_defaultShape:function(){return mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(A){for(var f=[],x=mt(A),P=0,$=A.length;P<$;P++)x?(f[P]=he(A[P]),this._bounds.extend(f[P])):f[P]=this._convertLatLngs(A[P]);return f},_project:function(){var A=new be;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,A),this._bounds.isValid()&&A.isValid()&&(this._rawPxBounds=A,this._updateBounds())},_updateBounds:function(){var A=this._clickTolerance(),f=new z(A,A);this._rawPxBounds&&(this._pxBounds=new be([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(A,f,x){var P=A[0]instanceof ee,$=A.length,le,_e;if(P){for(_e=[],le=0;le<$;le++)_e[le]=this._map.latLngToLayerPoint(A[le]),x.extend(_e[le]);f.push(_e)}else for(le=0;le<$;le++)this._projectLatlngs(A[le],f,x)},_clipPoints:function(){var A=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,x,P,$,le,_e,Ue,Me;for(x=0,$=0,le=this._rings.length;x<le;x++)for(Me=this._rings[x],P=0,_e=Me.length;P<_e-1;P++)Ue=Be(Me[P],Me[P+1],A,P,!0),Ue&&(f[$]=f[$]||[],f[$].push(Ue[0]),(Ue[1]!==Me[P+1]||P===_e-2)&&(f[$].push(Ue[1]),$++))}},_simplifyPoints:function(){for(var A=this._parts,f=this.options.smoothFactor,x=0,P=A.length;x<P;x++)A[x]=Ns(A[x],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(A,f){var x,P,$,le,_e,Ue,Me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(x=0,le=this._parts.length;x<le;x++)for(Ue=this._parts[x],P=0,_e=Ue.length,$=_e-1;P<_e;$=P++)if(!(!f&&P===0)&&Ua(A,Ue[$],Ue[P])<=Me)return!0;return!1}});function Td(A,f){return new Ps(A,f)}Ps._flat=v;var ci=Ps.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(A){var f=Ps.prototype._convertLatLngs.call(this,A),x=f.length;return x>=2&&f[0]instanceof ee&&f[0].equals(f[x-1])&&f.pop(),f},_setLatLngs:function(A){Ps.prototype._setLatLngs.call(this,A),mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var A=this._renderer._bounds,f=this.options.weight,x=new z(f,f);if(A=new be(A.min.subtract(x),A.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(A))){if(this.options.noClip){this._parts=this._rings;return}for(var P=0,$=this._rings.length,le;P<$;P++)le=Fa(this._rings[P],A,!0),le.length&&this._parts.push(le)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(A){var f=!1,x,P,$,le,_e,Ue,Me,Ze;if(!this._pxBounds||!this._pxBounds.contains(A))return!1;for(le=0,Me=this._parts.length;le<Me;le++)for(x=this._parts[le],_e=0,Ze=x.length,Ue=Ze-1;_e<Ze;Ue=_e++)P=x[_e],$=x[Ue],P.y>A.y!=$.y>A.y&&A.x<($.x-P.x)*(A.y-P.y)/($.y-P.y)+P.x&&(f=!f);return f||Ps.prototype._containsPoint.call(this,A,!0)}});function GA(A,f){return new ci(A,f)}var Js=Br.extend({initialize:function(A,f){_(this,f),this._layers={},A&&this.addData(A)},addData:function(A){var f=E(A)?A:A.features,x,P,$;if(f){for(x=0,P=f.length;x<P;x++)$=f[x],($.geometries||$.geometry||$.features||$.coordinates)&&this.addData($);return this}var le=this.options;if(le.filter&&!le.filter(A))return this;var _e=lA(A,le);return _e?(_e.feature=Ys(A),_e.defaultOptions=_e.options,this.resetStyle(_e),le.onEachFeature&&le.onEachFeature(A,_e),this.addLayer(_e)):this},resetStyle:function(A){return A===void 0?this.eachLayer(this.resetStyle,this):(A.options=i({},A.defaultOptions),this._setLayerStyle(A,this.options.style),this)},setStyle:function(A){return this.eachLayer(function(f){this._setLayerStyle(f,A)},this)},_setLayerStyle:function(A,f){A.setStyle&&(typeof f=="function"&&(f=f(A.feature)),A.setStyle(f))}});function lA(A,f){var x=A.type==="Feature"?A.geometry:A,P=x?x.coordinates:null,$=[],le=f&&f.pointToLayer,_e=f&&f.coordsToLatLng||Qa,Ue,Me,Ze,yt;if(!P&&!x)return null;switch(x.type){case"Point":return Ue=_e(P),Da(le,A,Ue,f);case"MultiPoint":for(Ze=0,yt=P.length;Ze<yt;Ze++)Ue=_e(P[Ze]),$.push(Da(le,A,Ue,f));return new Br($);case"LineString":case"MultiLineString":return Me=ui(P,x.type==="LineString"?0:1,_e),new Ps(Me,f);case"Polygon":case"MultiPolygon":return Me=ui(P,x.type==="Polygon"?1:2,_e),new ci(Me,f);case"GeometryCollection":for(Ze=0,yt=x.geometries.length;Ze<yt;Ze++){var kt=lA({geometry:x.geometries[Ze],type:"Feature",properties:A.properties},f);kt&&$.push(kt)}return new Br($);case"FeatureCollection":for(Ze=0,yt=x.features.length;Ze<yt;Ze++){var an=lA(x.features[Ze],f);an&&$.push(an)}return new Br($);default:throw new Error("Invalid GeoJSON object.")}}function Da(A,f,x,P){return A?A(f,x):new Cr(x,P&&P.markersInheritOptions&&P)}function Qa(A){return new ee(A[1],A[0],A[2])}function ui(A,f,x){for(var P=[],$=0,le=A.length,_e;$<le;$++)_e=f?ui(A[$],f-1,x):(x||Qa)(A[$]),P.push(_e);return P}function di(A,f){return A=he(A),A.alt!==void 0?[p(A.lng,f),p(A.lat,f),p(A.alt,f)]:[p(A.lng,f),p(A.lat,f)]}function Fo(A,f,x,P){for(var $=[],le=0,_e=A.length;le<_e;le++)$.push(f?Fo(A[le],mt(A[le])?0:f-1,x,P):di(A[le],P));return!f&&x&&$.length>0&&$.push($[0].slice()),$}function ss(A,f){return A.feature?i({},A.feature,{geometry:f}):Ys(f)}function Ys(A){return A.type==="Feature"||A.type==="FeatureCollection"?A:{type:"Feature",properties:{},geometry:A}}var gl={toGeoJSON:function(A){return ss(this,{type:"Point",coordinates:di(this.getLatLng(),A)})}};Cr.include(gl),_i.include(gl),Oa.include(gl),Ps.include({toGeoJSON:function(A){var f=!mt(this._latlngs),x=Fo(this._latlngs,f?1:0,!1,A);return ss(this,{type:(f?"Multi":"")+"LineString",coordinates:x})}}),ci.include({toGeoJSON:function(A){var f=!mt(this._latlngs),x=f&&!mt(this._latlngs[0]),P=Fo(this._latlngs,x?2:f?1:0,!0,A);return f||(P=[P]),ss(this,{type:(x?"Multi":"")+"Polygon",coordinates:P})}}),bn.include({toMultiPoint:function(A){var f=[];return this.eachLayer(function(x){f.push(x.toGeoJSON(A).geometry.coordinates)}),ss(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(A){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(A);var x=f==="GeometryCollection",P=[];return this.eachLayer(function($){if($.toGeoJSON){var le=$.toGeoJSON(A);if(x)P.push(le.geometry);else{var _e=Ys(le);_e.type==="FeatureCollection"?P.push.apply(P,_e.features):P.push(_e)}}}),x?ss(this,{geometries:P,type:"GeometryCollection"}):{type:"FeatureCollection",features:P}}});function ta(A,f){return new Js(A,f)}var mr=ta,vl=Lt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(A,f,x){this._url=A,this._bounds=re(f),_(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(A){return this.options.opacity=A,this._image&&this._updateOpacity(),this},setStyle:function(A){return A.opacity&&this.setOpacity(A.opacity),this},bringToFront:function(){return this._map&&$s(this._image),this},bringToBack:function(){return this._map&&Gs(this._image),this},setUrl:function(A){return this._url=A,this._image&&(this._image.src=A),this},setBounds:function(A){return this._bounds=re(A),this._map&&this._reset(),this},getEvents:function(){var A={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var A=this._url.tagName==="IMG",f=this._image=A?this._url:cn("img");if(Yt(f,"leaflet-image-layer"),this._zoomAnimated&&Yt(f,"leaflet-zoom-animated"),this.options.className&&Yt(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onload=o(this.fire,this,"load"),f.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),A){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(A){var f=this._map.getZoomScale(A.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,A.zoom,A.center).min;ki(this._image,x,f)},_reset:function(){var A=this._image,f=new be(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=f.getSize();qn(A,f.min),A.style.width=x.x+"px",A.style.height=x.y+"px"},_updateOpacity:function(){er(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var A=this.options.errorOverlayUrl;A&&this._url!==A&&(this._url=A,this._image.src=A)},getCenter:function(){return this._bounds.getCenter()}}),Mi=function(A,f,x){return new vl(A,f,x)},Ls=vl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var A=this._url.tagName==="VIDEO",f=this._image=A?this._url:cn("video");if(Yt(f,"leaflet-image-layer"),this._zoomAnimated&&Yt(f,"leaflet-zoom-animated"),this.options.className&&Yt(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onloadeddata=o(this.fire,this,"load"),A){for(var x=f.getElementsByTagName("source"),P=[],$=0;$<x.length;$++)P.push(x[$].src);this._url=x.length>0?P:[f.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var le=0;le<this._url.length;le++){var _e=cn("source");_e.src=this._url[le],f.appendChild(_e)}}});function WA(A,f,x){return new Ls(A,f,x)}var xu=vl.extend({_initImage:function(){var A=this._image=this._url;Yt(A,"leaflet-image-layer"),this._zoomAnimated&&Yt(A,"leaflet-zoom-animated"),this.options.className&&Yt(A,this.options.className),A.onselectstart=h,A.onmousemove=h}});function bu(A,f,x){return new xu(A,f,x)}var Bi=Lt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(A,f){A&&(A instanceof ee||E(A))?(this._latlng=he(A),_(this,f)):(_(this,A),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(A){return A=arguments.length?A:this._source._map,A.hasLayer(this)||A.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(A){return this._map?this.close():(arguments.length?this._source=A:A=this._source,this._prepareOpen(),this.openOn(A._map)),this},onAdd:function(A){this._zoomAnimated=A._zoomAnimated,this._container||this._initLayout(),A._fadeAnimated&&er(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),A._fadeAnimated&&er(this._container,1),this.bringToFront(),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(A){A._fadeAnimated?(er(this._container,0),this._removeTimeout=setTimeout(o($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(gn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(A){return this._latlng=he(A),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(A){return this._content=A,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var A={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$s(this._container),this},bringToBack:function(){return this._map&&Gs(this._container),this},_prepareOpen:function(A){var f=this._source;if(!f._map)return!1;if(f instanceof Br){f=null;var x=this._source._layers;for(var P in x)if(x[P]._map){f=x[P];break}if(!f)return!1;this._source=f}if(!A)if(f.getCenter)A=f.getCenter();else if(f.getLatLng)A=f.getLatLng();else if(f.getBounds)A=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(A),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var A=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")A.innerHTML=f;else{for(;A.hasChildNodes();)A.removeChild(A.firstChild);A.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var A=this._map.latLngToLayerPoint(this._latlng),f=ie(this.options.offset),x=this._getAnchor();this._zoomAnimated?qn(this._container,A.add(x)):f=f.add(A).add(x);var P=this._containerBottom=-f.y,$=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=P+"px",this._container.style.left=$+"px"}},_getAnchor:function(){return[0,0]}});rn.include({_initOverlay:function(A,f,x,P){var $=f;return $ instanceof A||($=new A(P).setContent(f)),x&&$.setLatLng(x),$}}),Lt.include({_initOverlay:function(A,f,x,P){var $=x;return $ instanceof A?(_($,P),$._source=this):($=f&&!P?f:new A(P,this),$.setContent(x)),$}});var na=Bi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(A){return A=arguments.length?A:this._source._map,!A.hasLayer(this)&&A._popup&&A._popup.options.autoClose&&A.removeLayer(A._popup),A._popup=this,Bi.prototype.openOn.call(this,A)},onAdd:function(A){Bi.prototype.onAdd.call(this,A),A.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fs||this._source.on("preclick",Bo))},onRemove:function(A){Bi.prototype.onRemove.call(this,A),A.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fs||this._source.off("preclick",Bo))},getEvents:function(){var A=Bi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(A.preclick=this.close),this.options.keepInView&&(A.moveend=this._adjustPan),A},_initLayout:function(){var A="leaflet-popup",f=this._container=cn("div",A+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=cn("div",A+"-content-wrapper",f);if(this._contentNode=cn("div",A+"-content",x),qs(f),Xo(this._contentNode),Gt(f,"contextmenu",Bo),this._tipContainer=cn("div",A+"-tip-container",f),this._tip=cn("div",A+"-tip",this._tipContainer),this.options.closeButton){var P=this._closeButton=cn("a",A+"-close-button",f);P.setAttribute("role","button"),P.setAttribute("aria-label","Close popup"),P.href="#close",P.innerHTML='<span aria-hidden="true">&#215;</span>',Gt(P,"click",function($){tr($),this.close()},this)}},_updateLayout:function(){var A=this._contentNode,f=A.style;f.width="",f.whiteSpace="nowrap";var x=A.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),f.width=x+1+"px",f.whiteSpace="",f.height="";var P=A.offsetHeight,$=this.options.maxHeight,le="leaflet-popup-scrolled";$&&P>$?(f.height=$+"px",Yt(A,le)):gn(A,le),this._containerWidth=this._container.offsetWidth},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center),x=this._getAnchor();qn(this._container,f.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var A=this._map,f=parseInt(Cs(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+f,P=this._containerWidth,$=new z(this._containerLeft,-x-this._containerBottom);$._add(hn(this._container));var le=A.layerPointToContainerPoint($),_e=ie(this.options.autoPanPadding),Ue=ie(this.options.autoPanPaddingTopLeft||_e),Me=ie(this.options.autoPanPaddingBottomRight||_e),Ze=A.getSize(),yt=0,kt=0;le.x+P+Me.x>Ze.x&&(yt=le.x+P-Ze.x+Me.x),le.x-yt-Ue.x<0&&(yt=le.x-Ue.x),le.y+x+Me.y>Ze.y&&(kt=le.y+x-Ze.y+Me.y),le.y-kt-Ue.y<0&&(kt=le.y-Ue.y),(yt||kt)&&(this.options.keepInView&&(this._autopanning=!0),A.fire("autopanstart").panBy([yt,kt]))}},_getAnchor:function(){return ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yl=function(A,f){return new na(A,f)};rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(A,f,x){return this._initOverlay(na,A,f,x).openOn(this),this},closePopup:function(A){return A=arguments.length?A:this._popup,A&&A.close(),this}}),Lt.include({bindPopup:function(A,f){return this._popup=this._initOverlay(na,this._popup,A,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(A){return this._popup&&(this instanceof Br||(this._popup._source=this),this._popup._prepareOpen(A||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(A){return this._popup&&this._popup.setContent(A),this},getPopup:function(){return this._popup},_openPopup:function(A){if(!(!this._popup||!this._map)){Or(A);var f=A.layer||A.target;if(this._popup._source===f&&!(f instanceof Fs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(A.latlng);return}this._popup._source=f,this.openPopup(A.latlng)}},_movePopup:function(A){this._popup.setLatLng(A.latlng)},_onKeyPress:function(A){A.originalEvent.keyCode===13&&this._openPopup(A)}});var ra=Bi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(A){Bi.prototype.onAdd.call(this,A),this.setOpacity(this.options.opacity),A.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(A){Bi.prototype.onRemove.call(this,A),A.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var A=Bi.prototype.getEvents.call(this);return this.options.permanent||(A.preclick=this.close),A},_initLayout:function(){var A="leaflet-tooltip",f=A+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=cn("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(A){var f,x,P=this._map,$=this._container,le=P.latLngToContainerPoint(P.getCenter()),_e=P.layerPointToContainerPoint(A),Ue=this.options.direction,Me=$.offsetWidth,Ze=$.offsetHeight,yt=ie(this.options.offset),kt=this._getAnchor();Ue==="top"?(f=Me/2,x=Ze):Ue==="bottom"?(f=Me/2,x=0):Ue==="center"?(f=Me/2,x=Ze/2):Ue==="right"?(f=0,x=Ze/2):Ue==="left"?(f=Me,x=Ze/2):_e.x<le.x?(Ue="right",f=0,x=Ze/2):(Ue="left",f=Me+(yt.x+kt.x)*2,x=Ze/2),A=A.subtract(ie(f,x,!0)).add(yt).add(kt),gn($,"leaflet-tooltip-right"),gn($,"leaflet-tooltip-left"),gn($,"leaflet-tooltip-top"),gn($,"leaflet-tooltip-bottom"),Yt($,"leaflet-tooltip-"+Ue),qn($,A)},_updatePosition:function(){var A=this._map.latLngToLayerPoint(this._latlng);this._setPosition(A)},setOpacity:function(A){this.options.opacity=A,this._container&&er(this._container,A)},_animateZoom:function(A){var f=this._map._latLngToNewLayerPoint(this._latlng,A.zoom,A.center);this._setPosition(f)},_getAnchor:function(){return ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qA=function(A,f){return new ra(A,f)};rn.include({openTooltip:function(A,f,x){return this._initOverlay(ra,A,f,x).openOn(this),this},closeTooltip:function(A){return A.close(),this}}),Lt.include({bindTooltip:function(A,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ra,this._tooltip,A,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(A){if(!(!A&&this._tooltipHandlersAdded)){var f=A?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[f](x),this._tooltipHandlersAdded=!A}},openTooltip:function(A){return this._tooltip&&(this instanceof Br||(this._tooltip._source=this),this._tooltip._prepareOpen(A)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(A){return this._tooltip&&this._tooltip.setContent(A),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&(Gt(f,"focus",function(){this._tooltip._source=A,this.openTooltip()},this),Gt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(A){var f=typeof A.getElement=="function"&&A.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(A){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(A)});return}this._tooltip._source=A.layer||A.target,this.openTooltip(this._tooltip.options.sticky?A.latlng:void 0)}},_moveTooltip:function(A){var f=A.latlng,x,P;this._tooltip.options.sticky&&A.originalEvent&&(x=this._map.mouseEventToContainerPoint(A.originalEvent),P=this._map.containerPointToLayerPoint(x),f=this._map.layerPointToLatLng(P)),this._tooltip.setLatLng(f)}});var wl=bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(A){var f=A&&A.tagName==="DIV"?A:document.createElement("div"),x=this.options;if(x.html instanceof Element?(yo(f),f.appendChild(x.html)):f.innerHTML=x.html!==!1?x.html:"",x.bgPos){var P=ie(x.bgPos);f.style.backgroundPosition=-P.x+"px "+-P.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function xl(A){return new wl(A)}bi.Default=Ra;var Ma=Lt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(A){_(this,A)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(A){A._addZoomLimit(this)},onRemove:function(A){this._removeAllTiles(),$t(this._container),A._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($s(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(A){return this.options.opacity=A,this._updateOpacity(),this},setZIndex:function(A){return this.options.zIndex=A,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var A=this._clampZoom(this._map.getZoom());A!==this._tileZoom&&(this._tileZoom=A,this._updateLevels()),this._update()}return this},getEvents:function(){var A={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),A.move=this._onMove),this._zoomAnimated&&(A.zoomanim=this._animateZoom),A},createTile:function(){return document.createElement("div")},getTileSize:function(){var A=this.options.tileSize;return A instanceof z?A:new z(A,A)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(A){for(var f=this.getPane().children,x=-A(-1/0,1/0),P=0,$=f.length,le;P<$;P++)le=f[P].style.zIndex,f[P]!==this._container&&le&&(x=A(x,+le));isFinite(x)&&(this.options.zIndex=x+A(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ut.ielt9){er(this._container,this.options.opacity);var A=+new Date,f=!1,x=!1;for(var P in this._tiles){var $=this._tiles[P];if(!(!$.current||!$.loaded)){var le=Math.min(1,(A-$.loaded)/200);er($.el,le),le<1?f=!0:($.active?x=!0:this._onOpaqueTile($),$.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),f&&(T(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=cn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var A=this._tileZoom,f=this.options.maxZoom;if(A!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===A?(this._levels[x].el.style.zIndex=f-Math.abs(A-x),this._onUpdateLevel(x)):($t(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var P=this._levels[A],$=this._map;return P||(P=this._levels[A]={},P.el=cn("div","leaflet-tile-container leaflet-zoom-animated",this._container),P.el.style.zIndex=f,P.origin=$.project($.unproject($.getPixelOrigin()),A).round(),P.zoom=A,this._setZoomTransform(P,$.getCenter(),$.getZoom()),h(P.el.offsetWidth),this._onCreateLevel(P)),this._level=P,P}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var A,f,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(A in this._tiles)f=this._tiles[A],f.retain=f.current;for(A in this._tiles)if(f=this._tiles[A],f.current&&!f.active){var P=f.coords;this._retainParent(P.x,P.y,P.z,P.z-5)||this._retainChildren(P.x,P.y,P.z,P.z+2)}for(A in this._tiles)this._tiles[A].retain||this._removeTile(A)}},_removeTilesAtZoom:function(A){for(var f in this._tiles)this._tiles[f].coords.z===A&&this._removeTile(f)},_removeAllTiles:function(){for(var A in this._tiles)this._removeTile(A)},_invalidateAll:function(){for(var A in this._levels)$t(this._levels[A].el),this._onRemoveLevel(Number(A)),delete this._levels[A];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(A,f,x,P){var $=Math.floor(A/2),le=Math.floor(f/2),_e=x-1,Ue=new z(+$,+le);Ue.z=+_e;var Me=this._tileCoordsToKey(Ue),Ze=this._tiles[Me];return Ze&&Ze.active?(Ze.retain=!0,!0):(Ze&&Ze.loaded&&(Ze.retain=!0),_e>P?this._retainParent($,le,_e,P):!1)},_retainChildren:function(A,f,x,P){for(var $=2*A;$<2*A+2;$++)for(var le=2*f;le<2*f+2;le++){var _e=new z($,le);_e.z=x+1;var Ue=this._tileCoordsToKey(_e),Me=this._tiles[Ue];if(Me&&Me.active){Me.retain=!0;continue}else Me&&Me.loaded&&(Me.retain=!0);x+1<P&&this._retainChildren($,le,x+1,P)}},_resetView:function(A){var f=A&&(A.pinch||A.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(A){this._setView(A.center,A.zoom,!0,A.noUpdate)},_clampZoom:function(A){var f=this.options;return f.minNativeZoom!==void 0&&A<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<A?f.maxNativeZoom:A},_setView:function(A,f,x,P){var $=Math.round(f);this.options.maxZoom!==void 0&&$>this.options.maxZoom||this.options.minZoom!==void 0&&$<this.options.minZoom?$=void 0:$=this._clampZoom($);var le=this.options.updateWhenZooming&&$!==this._tileZoom;(!P||le)&&(this._tileZoom=$,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),$!==void 0&&this._update(A),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(A,f)},_setZoomTransforms:function(A,f){for(var x in this._levels)this._setZoomTransform(this._levels[x],A,f)},_setZoomTransform:function(A,f,x){var P=this._map.getZoomScale(x,A.zoom),$=A.origin.multiplyBy(P).subtract(this._map._getNewPixelOrigin(f,x)).round();ut.any3d?ki(A.el,$,P):qn(A.el,$)},_resetGrid:function(){var A=this._map,f=A.options.crs,x=this._tileSize=this.getTileSize(),P=this._tileZoom,$=this._map.getPixelWorldBounds(this._tileZoom);$&&(this._globalTileRange=this._pxBoundsToTileRange($)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(A.project([0,f.wrapLng[0]],P).x/x.x),Math.ceil(A.project([0,f.wrapLng[1]],P).x/x.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(A.project([f.wrapLat[0],0],P).y/x.x),Math.ceil(A.project([f.wrapLat[1],0],P).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(A){var f=this._map,x=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),P=f.getZoomScale(x,this._tileZoom),$=f.project(A,this._tileZoom).floor(),le=f.getSize().divideBy(P*2);return new be($.subtract(le),$.add(le))},_update:function(A){var f=this._map;if(f){var x=this._clampZoom(f.getZoom());if(A===void 0&&(A=f.getCenter()),this._tileZoom!==void 0){var P=this._getTiledPixelBounds(A),$=this._pxBoundsToTileRange(P),le=$.getCenter(),_e=[],Ue=this.options.keepBuffer,Me=new be($.getBottomLeft().subtract([Ue,-Ue]),$.getTopRight().add([Ue,-Ue]));if(!(isFinite($.min.x)&&isFinite($.min.y)&&isFinite($.max.x)&&isFinite($.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ze in this._tiles){var yt=this._tiles[Ze].coords;(yt.z!==this._tileZoom||!Me.contains(new z(yt.x,yt.y)))&&(this._tiles[Ze].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(A,x);return}for(var kt=$.min.y;kt<=$.max.y;kt++)for(var an=$.min.x;an<=$.max.x;an++){var Hi=new z(an,kt);if(Hi.z=this._tileZoom,!!this._isValidTile(Hi)){var Dr=this._tiles[this._tileCoordsToKey(Hi)];Dr?Dr.current=!0:_e.push(Hi)}}if(_e.sort(function(as,XA){return as.distanceTo(le)-XA.distanceTo(le)}),_e.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zs=document.createDocumentFragment();for(an=0;an<_e.length;an++)this._addTile(_e[an],Zs);this._level.el.appendChild(Zs)}}}},_isValidTile:function(A){var f=this._map.options.crs;if(!f.infinite){var x=this._globalTileRange;if(!f.wrapLng&&(A.x<x.min.x||A.x>x.max.x)||!f.wrapLat&&(A.y<x.min.y||A.y>x.max.y))return!1}if(!this.options.bounds)return!0;var P=this._tileCoordsToBounds(A);return re(this.options.bounds).overlaps(P)},_keyToBounds:function(A){return this._tileCoordsToBounds(this._keyToTileCoords(A))},_tileCoordsToNwSe:function(A){var f=this._map,x=this.getTileSize(),P=A.scaleBy(x),$=P.add(x),le=f.unproject(P,A.z),_e=f.unproject($,A.z);return[le,_e]},_tileCoordsToBounds:function(A){var f=this._tileCoordsToNwSe(A),x=new J(f[0],f[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(A){return A.x+":"+A.y+":"+A.z},_keyToTileCoords:function(A){var f=A.split(":"),x=new z(+f[0],+f[1]);return x.z=+f[2],x},_removeTile:function(A){var f=this._tiles[A];f&&($t(f.el),delete this._tiles[A],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(A)}))},_initTile:function(A){Yt(A,"leaflet-tile");var f=this.getTileSize();A.style.width=f.x+"px",A.style.height=f.y+"px",A.onselectstart=h,A.onmousemove=h,ut.ielt9&&this.options.opacity<1&&er(A,this.options.opacity)},_addTile:function(A,f){var x=this._getTilePos(A),P=this._tileCoordsToKey(A),$=this.createTile(this._wrapCoords(A),o(this._tileReady,this,A));this._initTile($),this.createTile.length<2&&j(o(this._tileReady,this,A,null,$)),qn($,x),this._tiles[P]={el:$,coords:A,current:!0},f.appendChild($),this.fire("tileloadstart",{tile:$,coords:A})},_tileReady:function(A,f,x){f&&this.fire("tileerror",{error:f,tile:x,coords:A});var P=this._tileCoordsToKey(A);x=this._tiles[P],x&&(x.loaded=+new Date,this._map._fadeAnimated?(er(x.el,0),T(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),f||(Yt(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:A})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ut.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(A){return A.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(A){var f=new z(this._wrapX?c(A.x,this._wrapX):A.x,this._wrapY?c(A.y,this._wrapY):A.y);return f.z=A.z,f},_pxBoundsToTileRange:function(A){var f=this.getTileSize();return new be(A.min.unscaleBy(f).floor(),A.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var A in this._tiles)if(!this._tiles[A].loaded)return!1;return!0}});function Xs(A){return new Ma(A)}var hi=Ma.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(A,f){this._url=A,f=_(this,f),f.detectRetina&&ut.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(A,f){return this._url===A&&f===void 0&&(f=!0),this._url=A,f||this.redraw(),this},createTile:function(A,f){var x=document.createElement("img");return Gt(x,"load",o(this._tileOnLoad,this,f,x)),Gt(x,"error",o(this._tileOnError,this,f,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(A),x},getTileUrl:function(A){var f={r:ut.retina?"@2x":"",s:this._getSubdomain(A),x:A.x,y:A.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-A.y;this.options.tms&&(f.y=x),f["-y"]=x}return y(this._url,i(f,this.options))},_tileOnLoad:function(A,f){ut.ielt9?setTimeout(o(A,this,null,f),0):A(null,f)},_tileOnError:function(A,f,x){var P=this.options.errorTileUrl;P&&f.getAttribute("src")!==P&&(f.src=P),A(x,f)},_onTileRemove:function(A){A.tile.onload=null},_getZoomForUrl:function(){var A=this._tileZoom,f=this.options.maxZoom,x=this.options.zoomReverse,P=this.options.zoomOffset;return x&&(A=f-A),A+P},_getSubdomain:function(A){var f=Math.abs(A.x+A.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var A,f;for(A in this._tiles)if(this._tiles[A].coords.z!==this._tileZoom&&(f=this._tiles[A].el,f.onload=h,f.onerror=h,!f.complete)){f.src=M;var x=this._tiles[A].coords;$t(f),delete this._tiles[A],this.fire("tileabort",{tile:f,coords:x})}},_removeTile:function(A){var f=this._tiles[A];if(f)return f.el.setAttribute("src",M),Ma.prototype._removeTile.call(this,A)},_tileReady:function(A,f,x){if(!(!this._map||x&&x.getAttribute("src")===M))return Ma.prototype._tileReady.call(this,A,f,x)}});function On(A,f){return new hi(A,f)}var Dn=hi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(A,f){this._url=A;var x=i({},this.defaultWmsParams);for(var P in f)P in this.options||(x[P]=f[P]);f=_(this,f);var $=f.detectRetina&&ut.retina?2:1,le=this.getTileSize();x.width=le.x*$,x.height=le.y*$,this.wmsParams=x},onAdd:function(A){this._crs=this.options.crs||A.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,hi.prototype.onAdd.call(this,A)},getTileUrl:function(A){var f=this._tileCoordsToNwSe(A),x=this._crs,P=Q(x.project(f[0]),x.project(f[1])),$=P.min,le=P.max,_e=(this._wmsVersion>=1.3&&this._crs===Wt?[$.y,$.x,le.y,le.x]:[$.x,$.y,le.x,le.y]).join(","),Ue=hi.prototype.getTileUrl.call(this,A);return Ue+C(this.wmsParams,Ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_e},setParams:function(A,f){return i(this.wmsParams,A),f||this.redraw(),this}});function gr(A,f){return new Dn(A,f)}hi.WMS=Dn,On.wms=gr;var Qn=Lt.extend({options:{padding:.1},initialize:function(A){_(this,A),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var A={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(A.zoomanim=this._onAnimZoom),A},_onAnimZoom:function(A){this._updateTransform(A.center,A.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(A,f){var x=this._map.getZoomScale(f,this._zoom),P=this._map.getSize().multiplyBy(.5+this.options.padding),$=this._map.project(this._center,f),le=P.multiplyBy(-x).add($).subtract(this._map._getNewPixelOrigin(A,f));ut.any3d?ki(this._container,le,x):qn(this._container,le)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var A in this._layers)this._layers[A]._reset()},_onZoomEnd:function(){for(var A in this._layers)this._layers[A]._project()},_updatePaths:function(){for(var A in this._layers)this._layers[A]._update()},_update:function(){var A=this.options.padding,f=this._map.getSize(),x=this._map.containerPointToLayerPoint(f.multiplyBy(-A)).round();this._bounds=new be(x,x.add(f.multiplyBy(1+A*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ia=Qn.extend({options:{tolerance:0},getEvents:function(){var A=Qn.prototype.getEvents.call(this);return A.viewprereset=this._onViewPreReset,A},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var A=this._container=document.createElement("canvas");Gt(A,"mousemove",this._onMouseMove,this),Gt(A,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Gt(A,"mouseout",this._handleMouseOut,this),A._leaflet_disable_events=!0,this._ctx=A.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,$t(this._container),un(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var A;this._redrawBounds=null;for(var f in this._layers)A=this._layers[f],A._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var A=this._bounds,f=this._container,x=A.getSize(),P=ut.retina?2:1;qn(f,A.min),f.width=P*x.x,f.height=P*x.y,f.style.width=x.x+"px",f.style.height=x.y+"px",ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-A.min.x,-A.min.y),this.fire("update")}},_reset:function(){Qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(A){this._updateDashArray(A),this._layers[a(A)]=A;var f=A._order={layer:A,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(A){this._requestRedraw(A)},_removePath:function(A){var f=A._order,x=f.next,P=f.prev;x?x.prev=P:this._drawLast=P,P?P.next=x:this._drawFirst=x,delete A._order,delete this._layers[a(A)],this._requestRedraw(A)},_updatePath:function(A){this._extendRedrawBounds(A),A._project(),A._update(),this._requestRedraw(A)},_updateStyle:function(A){this._updateDashArray(A),this._requestRedraw(A)},_updateDashArray:function(A){if(typeof A.options.dashArray=="string"){var f=A.options.dashArray.split(/[, ]+/),x=[],P,$;for($=0;$<f.length;$++){if(P=Number(f[$]),isNaN(P))return;x.push(P)}A.options._dashArray=x}else A.options._dashArray=A.options.dashArray},_requestRedraw:function(A){this._map&&(this._extendRedrawBounds(A),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(A){if(A._pxBounds){var f=(A.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new be,this._redrawBounds.extend(A._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(A._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var A=this._redrawBounds;if(A){var f=A.getSize();this._ctx.clearRect(A.min.x,A.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var A,f=this._redrawBounds;if(this._ctx.save(),f){var x=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var P=this._drawFirst;P;P=P.next)A=P.layer,(!f||A._pxBounds&&A._pxBounds.intersects(f))&&A._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(A,f){if(this._drawing){var x,P,$,le,_e=A._parts,Ue=_e.length,Me=this._ctx;if(Ue){for(Me.beginPath(),x=0;x<Ue;x++){for(P=0,$=_e[x].length;P<$;P++)le=_e[x][P],Me[P?"lineTo":"moveTo"](le.x,le.y);f&&Me.closePath()}this._fillStroke(Me,A)}}},_updateCircle:function(A){if(!(!this._drawing||A._empty())){var f=A._point,x=this._ctx,P=Math.max(Math.round(A._radius),1),$=(Math.max(Math.round(A._radiusY),1)||P)/P;$!==1&&(x.save(),x.scale(1,$)),x.beginPath(),x.arc(f.x,f.y/$,P,0,Math.PI*2,!1),$!==1&&x.restore(),this._fillStroke(x,A)}},_fillStroke:function(A,f){var x=f.options;x.fill&&(A.globalAlpha=x.fillOpacity,A.fillStyle=x.fillColor||x.color,A.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(A.setLineDash&&A.setLineDash(f.options&&f.options._dashArray||[]),A.globalAlpha=x.opacity,A.lineWidth=x.weight,A.strokeStyle=x.color,A.lineCap=x.lineCap,A.lineJoin=x.lineJoin,A.stroke())},_onClick:function(A){for(var f=this._map.mouseEventToLayerPoint(A),x,P,$=this._drawFirst;$;$=$.next)x=$.layer,x.options.interactive&&x._containsPoint(f)&&(!(A.type==="click"||A.type==="preclick")||!this._map._draggableMoved(x))&&(P=x);this._fireEvent(P?[P]:!1,A)},_onMouseMove:function(A){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(A);this._handleMouseHover(A,f)}},_handleMouseOut:function(A){var f=this._hoveredLayer;f&&(gn(this._container,"leaflet-interactive"),this._fireEvent([f],A,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(A,f){if(!this._mouseHoverThrottled){for(var x,P,$=this._drawFirst;$;$=$.next)x=$.layer,x.options.interactive&&x._containsPoint(f)&&(P=x);P!==this._hoveredLayer&&(this._handleMouseOut(A),P&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([P],A,"mouseover"),this._hoveredLayer=P)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,A),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(A,f,x){this._map._fireDOMEvent(f,x||f.type,A)},_bringToFront:function(A){var f=A._order;if(f){var x=f.next,P=f.prev;if(x)x.prev=P;else return;P?P.next=x:x&&(this._drawFirst=x),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(A)}},_bringToBack:function(A){var f=A._order;if(f){var x=f.next,P=f.prev;if(P)P.next=x;else return;x?x.prev=P:P&&(this._drawLast=P),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(A)}}});function JA(A){return ut.canvas?new ia(A):null}var sa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(A){return document.createElement("<lvml:"+A+' class="lvml">')}}catch{}return function(A){return document.createElement("<"+A+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Fd={_initContainer:function(){this._container=cn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qn.prototype._update.call(this),this.fire("update"))},_initPath:function(A){var f=A._container=sa("shape");Yt(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",A._path=sa("path"),f.appendChild(A._path),this._updateStyle(A),this._layers[a(A)]=A},_addPath:function(A){var f=A._container;this._container.appendChild(f),A.options.interactive&&A.addInteractiveTarget(f)},_removePath:function(A){var f=A._container;$t(f),A.removeInteractiveTarget(f),delete this._layers[a(A)]},_updateStyle:function(A){var f=A._stroke,x=A._fill,P=A.options,$=A._container;$.stroked=!!P.stroke,$.filled=!!P.fill,P.stroke?(f||(f=A._stroke=sa("stroke")),$.appendChild(f),f.weight=P.weight+"px",f.color=P.color,f.opacity=P.opacity,P.dashArray?f.dashStyle=E(P.dashArray)?P.dashArray.join(" "):P.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=P.lineCap.replace("butt","flat"),f.joinstyle=P.lineJoin):f&&($.removeChild(f),A._stroke=null),P.fill?(x||(x=A._fill=sa("fill")),$.appendChild(x),x.color=P.fillColor||P.color,x.opacity=P.fillOpacity):x&&($.removeChild(x),A._fill=null)},_updateCircle:function(A){var f=A._point.round(),x=Math.round(A._radius),P=Math.round(A._radiusY||x);this._setPath(A,A._empty()?"M0 0":"AL "+f.x+","+f.y+" "+x+","+P+" 0,"+65535*360)},_setPath:function(A,f){A._path.v=f},_bringToFront:function(A){$s(A._container)},_bringToBack:function(A){Gs(A._container)}},YA=ut.vml?sa:Ce,bl=Qn.extend({_initContainer:function(){this._container=YA("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=YA("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),un(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var A=this._bounds,f=A.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,x.setAttribute("width",f.x),x.setAttribute("height",f.y)),qn(x,A.min),x.setAttribute("viewBox",[A.min.x,A.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(A){var f=A._path=YA("path");A.options.className&&Yt(f,A.options.className),A.options.interactive&&Yt(f,"leaflet-interactive"),this._updateStyle(A),this._layers[a(A)]=A},_addPath:function(A){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(A._path),A.addInteractiveTarget(A._path)},_removePath:function(A){$t(A._path),A.removeInteractiveTarget(A._path),delete this._layers[a(A)]},_updatePath:function(A){A._project(),A._update()},_updateStyle:function(A){var f=A._path,x=A.options;f&&(x.stroke?(f.setAttribute("stroke",x.color),f.setAttribute("stroke-opacity",x.opacity),f.setAttribute("stroke-width",x.weight),f.setAttribute("stroke-linecap",x.lineCap),f.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?f.setAttribute("stroke-dasharray",x.dashArray):f.removeAttribute("stroke-dasharray"),x.dashOffset?f.setAttribute("stroke-dashoffset",x.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),x.fill?(f.setAttribute("fill",x.fillColor||x.color),f.setAttribute("fill-opacity",x.fillOpacity),f.setAttribute("fill-rule",x.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(A,f){this._setPath(A,me(A._parts,f))},_updateCircle:function(A){var f=A._point,x=Math.max(Math.round(A._radius),1),P=Math.max(Math.round(A._radiusY),1)||x,$="a"+x+","+P+" 0 1,0 ",le=A._empty()?"M0 0":"M"+(f.x-x)+","+f.y+$+x*2+",0 "+$+-x*2+",0 ";this._setPath(A,le)},_setPath:function(A,f){A._path.setAttribute("d",f)},_bringToFront:function(A){$s(A._path)},_bringToBack:function(A){Gs(A._path)}});ut.vml&&bl.include(Fd);function os(A){return ut.svg||ut.vml?new bl(A):null}rn.include({getRenderer:function(A){var f=A.options.renderer||this._getPaneRenderer(A.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(A){if(A==="overlayPane"||A===void 0)return!1;var f=this._paneRenderers[A];return f===void 0&&(f=this._createRenderer({pane:A}),this._paneRenderers[A]=f),f},_createRenderer:function(A){return this.options.preferCanvas&&JA(A)||os(A)}});var js=ci.extend({initialize:function(A,f){ci.prototype.initialize.call(this,this._boundsToLatLngs(A),f)},setBounds:function(A){return this.setLatLngs(this._boundsToLatLngs(A))},_boundsToLatLngs:function(A){return A=re(A),[A.getSouthWest(),A.getNorthWest(),A.getNorthEast(),A.getSouthEast()]}});function Pd(A,f){return new js(A,f)}bl.create=YA,bl.pointsToPath=me,Js.geometryToLayer=lA,Js.coordsToLatLng=Qa,Js.coordsToLatLngs=ui,Js.latLngToCoords=di,Js.latLngsToCoords=Fo,Js.getFeature=ss,Js.asFeature=Ys,rn.mergeOptions({boxZoom:!0});var _u=xi.extend({initialize:function(A){this._map=A,this._container=A._container,this._pane=A._panes.overlayPane,this._resetStateTimeout=0,A.on("unload",this._destroy,this)},addHooks:function(){Gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){un(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(A){if(!A.shiftKey||A.which!==1&&A.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ws(),dl(),this._startPoint=this._map.mouseEventToContainerPoint(A),Gt(document,{contextmenu:Or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(A){this._moved||(this._moved=!0,this._box=cn("div","leaflet-zoom-box",this._container),Yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(A);var f=new be(this._point,this._startPoint),x=f.getSize();qn(this._box,f.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&($t(this._box),gn(this._container,"leaflet-crosshair")),Ri(),Es(),un(document,{contextmenu:Or,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(A){if(!(A.which!==1&&A.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var f=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(A){A.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rn.addInitHook("addHandler","boxZoom",_u),rn.mergeOptions({doubleClickZoom:!0});var Ef=xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(A){var f=this._map,x=f.getZoom(),P=f.options.zoomDelta,$=A.originalEvent.shiftKey?x-P:x+P;f.options.doubleClickZoom==="center"?f.setZoom($):f.setZoomAround(A.containerPoint,$)}});rn.addInitHook("addHandler","doubleClickZoom",Ef),rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Bu=xi.extend({addHooks:function(){if(!this._draggable){var A=this._map;this._draggable=new Qi(A._mapPane,A._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),A.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),A.on("zoomend",this._onZoomEnd,this),A.whenReady(this._onZoomEnd,this))}Yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gn(this._map._container,"leaflet-grab"),gn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var A=this._map;if(A._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=re(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;A.fire("movestart").fire("dragstart"),A.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(A){if(this._map.options.inertia){var f=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(f),this._prunePositions(f)}this._map.fire("move",A).fire("drag",A)},_prunePositions:function(A){for(;this._positions.length>1&&A-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var A=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(A).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(A,f){return A-(A-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var A=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;A.x<f.min.x&&(A.x=this._viscousLimit(A.x,f.min.x)),A.y<f.min.y&&(A.y=this._viscousLimit(A.y,f.min.y)),A.x>f.max.x&&(A.x=this._viscousLimit(A.x,f.max.x)),A.y>f.max.y&&(A.y=this._viscousLimit(A.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(A)}},_onPreDragWrap:function(){var A=this._worldWidth,f=Math.round(A/2),x=this._initialWorldOffset,P=this._draggable._newPos.x,$=(P-f+x)%A+f-x,le=(P+f+x)%A-f-x,_e=Math.abs($+x)<Math.abs(le+x)?$:le;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_e},_onDragEnd:function(A){var f=this._map,x=f.options,P=!x.inertia||A.noInertia||this._times.length<2;if(f.fire("dragend",A),P)f.fire("moveend");else{this._prunePositions(+new Date);var $=this._lastPos.subtract(this._positions[0]),le=(this._lastTime-this._times[0])/1e3,_e=x.easeLinearity,Ue=$.multiplyBy(_e/le),Me=Ue.distanceTo([0,0]),Ze=Math.min(x.inertiaMaxSpeed,Me),yt=Ue.multiplyBy(Ze/Me),kt=Ze/(x.inertiaDeceleration*_e),an=yt.multiplyBy(-kt/2).round();!an.x&&!an.y?f.fire("moveend"):(an=f._limitOffset(an,f.options.maxBounds),j(function(){f.panBy(an,{duration:kt,easeLinearity:_e,noMoveStart:!0,animate:!0})}))}}});rn.addInitHook("addHandler","dragging",Bu),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Cu=xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(A){this._map=A,this._setPanDelta(A.options.keyboardPanDelta),this._setZoomDelta(A.options.zoomDelta)},addHooks:function(){var A=this._map._container;A.tabIndex<=0&&(A.tabIndex="0"),Gt(A,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),un(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var A=document.body,f=document.documentElement,x=A.scrollTop||f.scrollTop,P=A.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(P,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(A){var f=this._panKeys={},x=this.keyCodes,P,$;for(P=0,$=x.left.length;P<$;P++)f[x.left[P]]=[-1*A,0];for(P=0,$=x.right.length;P<$;P++)f[x.right[P]]=[A,0];for(P=0,$=x.down.length;P<$;P++)f[x.down[P]]=[0,A];for(P=0,$=x.up.length;P<$;P++)f[x.up[P]]=[0,-1*A]},_setZoomDelta:function(A){var f=this._zoomKeys={},x=this.keyCodes,P,$;for(P=0,$=x.zoomIn.length;P<$;P++)f[x.zoomIn[P]]=A;for(P=0,$=x.zoomOut.length;P<$;P++)f[x.zoomOut[P]]=-A},_addHooks:function(){Gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){un(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(A){if(!(A.altKey||A.ctrlKey||A.metaKey)){var f=A.keyCode,x=this._map,P;if(f in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(P=this._panKeys[f],A.shiftKey&&(P=ie(P).multiplyBy(3)),x.options.maxBounds&&(P=x._limitOffset(ie(P),x.options.maxBounds)),x.options.worldCopyJump){var $=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(P)));x.panTo($)}else x.panBy(P)}else if(f in this._zoomKeys)x.setZoom(x.getZoom()+(A.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;Or(A)}}});rn.addInitHook("addHandler","keyboard",Cu),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ld=xi.extend({addHooks:function(){Gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){un(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(A){var f=Nn(A),x=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(A),this._startTime||(this._startTime=+new Date);var P=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),P),Or(A)},_performZoom:function(){var A=this._map,f=A.getZoom(),x=this._map.options.zoomSnap||0;A._stop();var P=this._delta/(this._map.options.wheelPxPerZoomLevel*4),$=4*Math.log(2/(1+Math.exp(-Math.abs(P))))/Math.LN2,le=x?Math.ceil($/x)*x:$,_e=A._limitZoom(f+(this._delta>0?le:-le))-f;this._delta=0,this._startTime=null,_e&&(A.options.scrollWheelZoom==="center"?A.setZoom(f+_e):A.setZoomAround(this._lastMousePos,f+_e))}});rn.addInitHook("addHandler","scrollWheelZoom",Ld);var wg=600;rn.mergeOptions({tapHold:ut.touchNative&&ut.safari&&ut.mobile,tapTolerance:15});var jd=xi.extend({addHooks:function(){Gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){un(this._map._container,"touchstart",this._onDown,this)},_onDown:function(A){if(clearTimeout(this._holdTimeout),A.touches.length===1){var f=A.touches[0];this._startPos=this._newPos=new z(f.clientX,f.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Gt(document,"touchend",tr),Gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),wg),Gt(document,"touchend touchcancel contextmenu",this._cancel,this),Gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function A(){un(document,"touchend",tr),un(document,"touchend touchcancel",A)},_cancel:function(){clearTimeout(this._holdTimeout),un(document,"touchend touchcancel contextmenu",this._cancel,this),un(document,"touchmove",this._onMove,this)},_onMove:function(A){var f=A.touches[0];this._newPos=new z(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(A,f){var x=new MouseEvent(A,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});x._simulated=!0,f.target.dispatchEvent(x)}});rn.addInitHook("addHandler","tapHold",jd),rn.mergeOptions({touchZoom:ut.touch,bounceAtZoomLimits:!0});var Ud=xi.extend({addHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),Gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gn(this._map._container,"leaflet-touch-zoom"),un(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(A){var f=this._map;if(!(!A.touches||A.touches.length!==2||f._animatingZoom||this._zooming)){var x=f.mouseEventToContainerPoint(A.touches[0]),P=f.mouseEventToContainerPoint(A.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(x.add(P)._divideBy(2))),this._startDist=x.distanceTo(P),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Gt(document,"touchmove",this._onTouchMove,this),Gt(document,"touchend touchcancel",this._onTouchEnd,this),tr(A)}},_onTouchMove:function(A){if(!(!A.touches||A.touches.length!==2||!this._zooming)){var f=this._map,x=f.mouseEventToContainerPoint(A.touches[0]),P=f.mouseEventToContainerPoint(A.touches[1]),$=x.distanceTo(P)/this._startDist;if(this._zoom=f.getScaleZoom($,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&$<1||this._zoom>f.getMaxZoom()&&$>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,$===1)return}else{var le=x._add(P)._divideBy(2)._subtract(this._centerPoint);if($===1&&le.x===0&&le.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(le),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var _e=o(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(_e,this,!0),tr(A)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,T(this._animRequest),un(document,"touchmove",this._onTouchMove,this),un(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rn.addInitHook("addHandler","touchZoom",Ud),rn.BoxZoom=_u,rn.DoubleClickZoom=Ef,rn.Drag=Bu,rn.Keyboard=Cu,rn.ScrollWheelZoom=Ld,rn.TapHold=jd,rn.TouchZoom=Ud,n.Bounds=be,n.Browser=ut,n.CRS=ve,n.Canvas=ia,n.Circle=_i,n.CircleMarker=Oa,n.Class=W,n.Control=Yn,n.DivIcon=wl,n.DivOverlay=Bi,n.DomEvent=zA,n.DomUtil=Kt,n.Draggable=Qi,n.Evented=q,n.FeatureGroup=Br,n.GeoJSON=Js,n.GridLayer=Ma,n.Handler=xi,n.Icon=bi,n.ImageOverlay=vl,n.LatLng=ee,n.LatLngBounds=J,n.Layer=Lt,n.LayerGroup=bn,n.LineUtil=G,n.Map=rn,n.Marker=Cr,n.Mixin=oA,n.Path=Fs,n.Point=z,n.PolyUtil=ja,n.Polygon=ci,n.Polyline=Ps,n.Popup=na,n.PosAnimation=pl,n.Projection=ke,n.Rectangle=js,n.Renderer=Qn,n.SVG=bl,n.SVGOverlay=xu,n.TileLayer=hi,n.Tooltip=ra,n.Transformation=Ae,n.Util=D,n.VideoOverlay=Ls,n.bind=o,n.bounds=Q,n.canvas=JA,n.circle=Cf,n.circleMarker=wu,n.control=wi,n.divIcon=xl,n.extend=i,n.featureGroup=Ai,n.geoJSON=ta,n.geoJson=mr,n.gridLayer=Xs,n.icon=ka,n.imageOverlay=Mi,n.latLng=he,n.latLngBounds=re,n.layerGroup=pr,n.map=iA,n.marker=$A,n.point=ie,n.polygon=GA,n.polyline=Td,n.popup=yl,n.rectangle=Pd,n.setOptions=_,n.stamp=a,n.svg=os,n.svgOverlay=bu,n.tileLayer=On,n.tooltip=qA,n.transformation=xe,n.version=r,n.videoOverlay=WA;var kd=window.L;n.noConflict=function(){return window.L=kd,this},window.L=n})})(A_,A_.exports);var mg=A_.exports;const iX=$y(mg);function vE(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function yE(t,e){return e==null?function(r,i){const s=Y.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=Y.useRef();s.current||(s.current=t(r,i));const o=Y.useRef(r),{instance:l}=s.current;return Y.useEffect(function(){o.current!==r&&(e(l,r,o.current),o.current=r)},[l,r,i]),s}}function sX(t,e){Y.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function rR(t){return function(n){const r=tR(),i=t(gE(n,r),r);return Xk(r.map,n.attribution),nR(i.current,n.eventHandlers),sX(i.current,r),i}}function oX(t,e){const n=yE(t,e),r=rR(n);return eX(r)}function aX(t,e){const n=yE(t),r=rX(n,e);return tX(r)}function lX(t,e){const n=yE(t,e),r=rR(n);return nX(r)}function AX(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function c_(){return c_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function cX({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:o,style:l,whenReady:a,zoom:u,...c},h){const[p]=Y.useState({className:i,id:s,style:l}),[m,b]=Y.useState(null);Y.useImperativeHandle(h,()=>(m==null?void 0:m.map)??null,[m]);const _=Y.useCallback(w=>{if(w!==null&&m===null){const y=new mg.Map(w,c);n!=null&&u!=null?y.setView(n,u):t!=null&&y.fitBounds(t,e),a!=null&&y.whenReady(a),b(XY(y))}},[]);Y.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const C=m?Sn.createElement(eR,{value:m},r):o??null;return Sn.createElement("div",c_({},p,{ref:_}),C)}const uX=Y.forwardRef(cX),dX=oX(function({position:e,...n},r){const i=new mg.Marker(e,n);return vE(i,ZY(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),hX=lX(function({url:e,...n},r){const i=new mg.TileLayer(e,gE(n,r));return vE(i,r)},function(e,n,r){AX(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),fX=aX(function(e,n){const r=new mg.Tooltip(e,n.overlayContainer);return vE(r,n)},function(e,n,{position:r},i){Y.useEffect(function(){const o=n.overlayContainer;if(o==null)return;const{instance:l}=e,a=c=>{c.tooltip===l&&(r!=null&&l.setLatLng(r),l.update(),i(!0))},u=c=>{c.tooltip===l&&i(!1)};return o.on({tooltipopen:a,tooltipclose:u}),o.bindTooltip(l),function(){o.off({tooltipopen:a,tooltipclose:u}),o._map!=null&&o.unbindTooltip()}},[e,n,i,r])});var iR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Y4=Sn.createContext&&Sn.createContext(iR),pX=["attr","size","title"];function mX(t,e){if(t==null)return{};var n=gX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ey.apply(this,arguments)}function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){vX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vX(t,e,n){return e=yX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yX(t){var e=wX(t,"string");return typeof e=="symbol"?e:e+""}function wX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sR(t){return t&&t.map((e,n)=>Sn.createElement(e.tag,Sy({key:n},e.attr),sR(e.child)))}function xX(t){return e=>Sn.createElement(bX,Ey({attr:Sy({},t.attr)},e),sR(t.child))}function bX(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=mX(t,pX),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),Sn.createElement("svg",Ey({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:Sy(Sy({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Sn.createElement("title",null,s),t.children)};return Y4!==void 0?Sn.createElement(Y4.Consumer,null,n=>e(n)):e(iR)}function _X(t){return xX({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}const p0=[{id:"1",name:"佐藤太郎",position:[35.6895,139.6917],color:"#ffffff",gpsEnabled:!0,address:"所在地未登録"},{id:"2",name:"鈴木花子",position:[34.6937,135.5023],color:"#ffffff",gpsEnabled:!0,address:"所在地未登録"}],BX=["#ffffff","#f8d7da","#d1ecf1","#d4edda","#fff3cd","#f0f0f0","#e2e3e5","#cfe2ff","#f5c6cb","#c3e6cb"],CX=()=>{const t=localStorage.getItem("loginId")||"",e=localStorage.getItem("company")||"";localStorage.getItem("role");const[n,r]=Y.useState(p0),[i,s]=Y.useState({}),[o,l]=Y.useState(""),[a,u]=Y.useState(null),[c,h]=Y.useState(null),[p,m]=Y.useState(!1),[b,_]=Y.useState(!1),[C,w]=Y.useState(""),y=async()=>{var k;_(!0);try{const S=await((k=Bn().currentUser)==null?void 0:k.getIdToken());if(!S){alert("未ログインです"),_(!1);return}const O=await fetch(`/api/driver-locations?company=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${S}`}});if(!O.ok)throw new Error(`HTTP ${O.status}`);const j=(await O.json()).map(T=>({id:T.driverId,name:T.name,position:[T.lat,T.lng],color:"#ffffff",gpsEnabled:!0,address:`最終更新: ${new Date(T.updatedAt).toLocaleString()}`}));r(j),w(new Date().toLocaleString())}catch(N){console.error("位置情報の取得に失敗しました。ローカル保存にフォールバックします。",N);const S=localStorage.getItem("driverList");if(S)try{const H=JSON.parse(S).filter(j=>j.isWorking).map((j,T)=>({id:j.id||`driver${T}`,name:j.name,position:j.position||[35.6895,139.6917],color:"#ffffff",gpsEnabled:!0,address:j.address||"所在地未登録"}));r(H.length?H:p0)}catch{r(p0)}else r(p0)}finally{_(!1)}};Y.useEffect(()=>{y();const k=setInterval(y,3e5);return()=>clearInterval(k)},[]),Y.useEffect(()=>{const k=o.trim().toLowerCase();if(k){const N=n.find(S=>S.name.toLowerCase().includes(k));u((N==null?void 0:N.id)||null)}else u(null)},[o,n]);const E=(k,N)=>{s(S=>({...S,[k]:N}))},F=()=>{r(k=>k.map(N=>i[N.id]?{...N,color:i[N.id]}:N)),s({}),m(!1)},M=n.filter(k=>k.gpsEnabled&&k.id===t);return d.jsxs("div",{className:"p-4 relative w-full",children:[d.jsxs("h2",{className:"text-2xl font-bold flex items-center mb-4",children:[d.jsx("span",{role:"img","aria-label":"map",className:"text-blue-600 text-3xl mr-2",children:"🗺️"}),"ドライバー位置情報マップ ",d.jsx("span",{className:"ml-2 text-gray-500 text-base",children:"-Driver Map-"})]}),d.jsxs("div",{className:"flex flex-wrap items-center mb-2 space-x-4 z-20 relative",children:[d.jsx("input",{type:"text",placeholder:"ドライバー名で検索",value:o,onChange:k=>l(k.target.value),className:"border px-3 py-1 rounded shadow"}),o&&d.jsx("button",{className:"px-3 py-1 border rounded hover:bg-gray-50",onClick:()=>l(""),title:"検索クリア",children:"クリア"}),d.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:y,disabled:b,children:b?"更新中...":"手動更新"}),d.jsxs("span",{className:"text-sm text-gray-600",children:["最終更新: ",C||"-"]}),d.jsxs("button",{className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 flex items-center",onClick:()=>m(!p),children:[d.jsx(_X,{className:"mr-1"})," 設定"]})]}),p&&d.jsxs("div",{className:"absolute left-4 top-40 bg-white border p-4 rounded shadow-lg z-30 w-96",children:[d.jsx("h3",{className:"font-bold mb-2",children:"色の設定"}),n.map(k=>d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx("span",{className:"w-24",children:k.name}),d.jsx("div",{className:"flex flex-wrap gap-1",children:BX.map(N=>d.jsx("button",{className:"w-5 h-5 rounded border border-gray-400",style:{backgroundColor:N},onClick:()=>E(k.id,N)},N))})]},k.id)),d.jsx("button",{className:"mt-4 px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:F,children:"保存"})]}),d.jsx("div",{className:"w-full mt-4",style:{height:"calc(100vh - 260px)",minHeight:"500px"},children:d.jsxs(uX,{center:[35.6895,139.6917],zoom:6,className:"h-full w-full z-10",children:[d.jsx(hX,{attribution:"© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),M.map(k=>d.jsx(dX,{position:k.position,icon:iX.icon({iconUrl:k.id===a?"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png":"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png",iconSize:[32,32],iconAnchor:[16,32]}),eventHandlers:{mouseover:()=>h(k.id),mouseout:()=>h(null)},children:d.jsx(fX,{permanent:!0,direction:"top",offset:[0,-20],children:d.jsxs("div",{style:{backgroundColor:k.color,padding:"4px 6px",borderRadius:"4px",border:"1px solid #000",whiteSpace:"nowrap",fontSize:"12px"},children:[c===k.id&&d.jsx("div",{style:{fontSize:"10px",color:"#555",marginBottom:"2px"},children:k.address}),d.jsx("div",{style:{fontWeight:"bold"},children:k.name})]})})},k.id))]})})]})},EX=""+new URL("発注書テンプレート-aeb00e5c.pdf",import.meta.url).href,SX=""+new URL("支払明細書テンプレート-82f8884a.pdf",import.meta.url).href,IX=""+new URL("請求書テンプレート-66ba8897.pdf",import.meta.url).href;function NX({open:t,onClose:e,fileName:n,pdfBlob:r,to:i,onSent:s}){if(!t)return null;const o=()=>{console.log(`送信先: ${i.name} に ${n} を送信（仮動作）`),s(),e()};return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white p-6 rounded shadow w-96",children:[d.jsx("h2",{className:"text-lg font-bold mb-4",children:"📤 確認"}),d.jsxs("p",{className:"mb-4",children:[d.jsx("strong",{children:i.name})," さんに",d.jsx("br",{}),d.jsx("strong",{children:n})," を送信しますか？"]}),d.jsxs("div",{className:"text-right space-x-4",children:[d.jsx("button",{onClick:e,className:"px-4 py-1 text-gray-600",children:"キャンセル"}),d.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-1 rounded",children:"送信"})]})]})})}var aF,lF,AF,cF;const TX=((lF=(aF=typeof process<"u"?process:void 0)==null?void 0:aF.env)==null?void 0:lF.NEXT_PUBLIC_API_BASE)||((cF=(AF=typeof import.meta<"u"?import.meta:void 0)==null?void 0:AF.env)==null?void 0:cF.VITE_API_BASE_URL)||"",FX=TX.replace(/\/$/,""),oR=t=>`${FX}${t.startsWith("/")?t:`/${t}`}`;async function wE(t,e){const n=await fetch(oR(t),{credentials:"include",...e,headers:{Accept:"application/json",...(e==null?void 0:e.headers)||{}}});if(!n.ok){const i=await n.text().catch(()=>""),s=new Error(`HTTP ${n.status} at ${t}
${i.slice(0,200)}`);throw s.status=n.status,s}const r=n.headers.get("content-type")||"";if(!r.includes("application/json")){const i=await n.text().catch(()=>""),s=new Error(`Expected JSON but got "${r||"unknown"}" from ${t}
${i.slice(0,200)}`);throw s.status=415,s}return n.json()}async function xE(){var t,e;try{const n=await((e=(t=Bn().currentUser)==null?void 0:t.getIdToken)==null?void 0:e.call(t));return n?{Authorization:`Bearer ${n}`}:{}}catch{return{}}}globalThis.DEFAULT_MAPS_ALIAS??(globalThis.DEFAULT_MAPS_ALIAS={PO:{},PS:{},INV:{}});const z2={発注書:{"{{発注No}}":"{{発注No}}","{{today}}":"{{today}}","{{担当者}}":"{{担当者}}","{{ドライバー名}}":"name","{{会社名}}":"company","{{電話}}":"phone","{{住所}}":"address","{{item_1_desc}}":"実績_item1_desc","{{item_1_qty}}":"実績_item1_qty","{{item_1_price}}":"実績_item1_price"},支払明細書:{"{{today}}":"{{today}}","{{ドライバー名}}":"name","{{会社名}}":"company","{{合計配達数}}":"実績_totalDeliveries","{{総稼働時間}}":"実績_totalHours","{{走行距離}}":"実績_totalDistance","{{支払総額}}":"実績_totalPay"},請求書:{"{{today}}":"{{today}}","{{請求先}}":"company","{{担当者}}":"{{担当者}}","{{請求番号}}":"{{発注No}}","{{請求対象名}}":"name","{{小計}}":"実績_subtotal","{{税額}}":"実績_tax","{{合計}}":"実績_total"}};function m0(t){switch(t){case"発注書":case"PO":return z2.発注書;case"支払明細書":case"PS":return z2.支払明細書;case"請求書":case"INV":return z2.請求書;default:return{}}}const Z4={"{{ドライバー名}}":"name","{{name}}":"name","{{会社名}}":"company","{{company}}":"company","{{電話}}":"phone","{{tel}}":"phone","{{住所}}":"address","{{請求先}}":"company","{{請求対象名}}":"name","{{合計配達数}}":"実績_totalDeliveries","{{総稼働時間}}":"実績_totalHours","{{走行距離}}":"実績_totalDistance","{{支払総額}}":"実績_totalPay","{{小計}}":"実績_subtotal","{{税額}}":"実績_tax","{{合計}}":"実績_total","{{today}}":"{{today}}","{{発注No}}":"{{発注No}}","{{担当者}}":"{{担当者}}"};function eN(t){const e={...t};for(const n of Object.keys(e))(!e[n]||String(e[n]).trim()==="")&&n in Z4&&(e[n]=Z4[n]);return e}async function Wd(t){return wE(t,{headers:await xE()})}async function $2(t,e){return wE(t,{method:"POST",headers:{"Content-Type":"application/json",...await xE()},body:JSON.stringify(e)})}async function tN(t){await wE(t,{method:"DELETE",headers:await xE()})}async function PX(t){var p,m;const{dataUrl:e,fileName:n,company:r,driverId:i,type:s}=t,o=b=>String(b).replace(/[\/#?]/g,"_"),l=`pdfs/${o(r)}/${o(i)}/${o(s)}/${o(n)}`,a=iE(sE,l);await Ak(a,e,"data_url",{contentType:"application/pdf"});const u=await rE(a),c=await((m=(p=wd.currentUser)==null?void 0:p.getIdToken)==null?void 0:m.call(p));if(!c)throw new Error("未ログインです");const h=await fetch(oR("/api/pdfs/save"),{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({company:r,driverId:i,type:s,fileName:n,url:u,createdAt:new Date().toISOString()})});if(!h.ok)throw new Error(`POST /api/pdfs/save -> ${h.status}`)}const qd=()=>new Date().toISOString().split("T")[0];function bE(t){var s;const e=t.split(","),n=((s=e[0].match(/:(.*?);/))==null?void 0:s[1])||"",r=atob(e[1]||""),i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return new Blob([i],{type:n||"application/pdf"})}async function LX(t){if(typeof t=="string"&&t.startsWith("data:"))return bE(t);const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch: ${e.status}`);return await e.blob()}async function G2(t){try{const n=await bE(t).arrayBuffer(),r=await crypto.subtle.digest("SHA-256",n);return btoa(String.fromCharCode(...new Uint8Array(r)))}catch{const e=t.slice(0,1024)+"|"+t.slice(-1024);let n=0;for(let r=0;r<e.length;r++)n=n*31+e.charCodeAt(r)>>>0;return String(n)}}function g0(t){const e=new Map;for(const n of t){const r=`${n.type}@${n.hash||"_nohash"}`,i=e.get(r);if(!i)e.set(r,n);else{const s=Date.parse(i.date||""),o=Date.parse(n.date||"");Number.isFinite(o)&&Number.isFinite(s)&&o>=s&&e.set(r,n)}}return Array.from(e.values())}const Nu=(t,e)=>`tpl_${t}_${e}`;function jX(){const[t,e]=Y.useState([]),[n,r]=Y.useState([]),[i,s]=Y.useState(null),[o,l]=Y.useState("PO"),[a,u]=Y.useState([]),[c,h]=Y.useState("発注書"),[p,m]=Y.useState(null),[b,_]=Y.useState(null),[C,w]=Y.useState([]),[y,E]=Y.useState(null),F=(typeof window<"u"?localStorage.getItem("company"):"")||"default";function M(Q){try{return typeof Q=="string"&&Q.startsWith("data:application/pdf")?URL.createObjectURL(bE(Q)):Q}catch{return Q}}Y.useEffect(()=>{(async()=>{try{const Q=await Wd(`/api/drivers?company=${encodeURIComponent(F)}`);w(Q||[])}catch(Q){console.warn("drivers API 取得失敗。localStorageへフォールバック",Q);const J=localStorage.getItem(`driverList_${F}`);if(J)try{w(JSON.parse(J))}catch{}}})()},[F]),Y.useEffect(()=>{if(y==null?void 0:y.open){const J=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=J}}},[y]),Y.useEffect(()=>{(async()=>{const Q=`defaultTemplatesInitialized_${F}`;if(localStorage.getItem(Q))return;try{const ee=await Wd(`/api/templates?company=${encodeURIComponent(F)}`),he=new Set((ee==null?void 0:ee.map(ve=>ve.type))||[]);if(he.has("発注書")&&he.has("支払明細書")&&he.has("請求書")){localStorage.setItem(Q,"true");return}}catch{if(!!localStorage.getItem(Nu(F,"発注書"))&&!!localStorage.getItem(Nu(F,"支払明細書"))&&!!localStorage.getItem(Nu(F,"請求書"))){localStorage.setItem(Q,"true");return}}const J=[{type:"発注書",name:"発注書テンプレート.pdf",url:EX},{type:"支払明細書",name:"支払明細書テンプレート.pdf",url:SX},{type:"請求書",name:"請求書テンプレート.pdf",url:IX}],re=[];for(const{type:ee,name:he,url:ve}of J){const fe=await fetch(ve).then(xe=>xe.blob()),ne=await new Promise((xe,ye)=>{const Fe=new FileReader;Fe.onloadend=()=>{const Ce=Fe.result;Ce.startsWith("data:application/pdf;base64,")?xe(Ce):ye(new Error("base64ではない"))},Fe.onerror=ye,Fe.readAsDataURL(fe)}),te=await G2(ne),Ae=m0(ee);try{const xe=await $2("/api/templates/upload",{company:F,type:ee,name:he,dataUrl:ne,map:Ae,hash:te,idempotencyKey:`${F}:${ee}:${te}`,upsert:!0});re.push(xe)}catch{const xe=Nu(F,ee),ye={key:xe,name:he,type:ee,date:qd(),dataUrl:ne,map:Ae,hash:te};localStorage.setItem(xe,JSON.stringify(ye)),re.push(ye)}}u(ee=>g0([...re,...ee])),localStorage.setItem(Q,"true")})()},[F]);const k=async()=>{var re;const Q=new Date().toISOString().slice(0,7);let J=[];try{J=await Wd(`/api/templates?company=${encodeURIComponent(F)}`)||[]}catch{}for(const ee of["発注書","支払明細書","請求書"]){const he=localStorage.getItem(Nu(F,ee));if(he)try{J.push(JSON.parse(he))}catch{}}Object.entries(localStorage).forEach(([ee,he])=>{if(/^tpl_(発注書|支払明細書|請求書)/.test(ee))try{J.push({key:ee,...JSON.parse(String(he))})}catch{}});for(const ee of J)if(!ee.hash&&((re=ee.dataUrl)!=null&&re.startsWith("data:")))try{ee.hash=await G2(ee.dataUrl)}catch{}u(g0(J));try{const ee=await Wd(`/api/pdfs?company=${encodeURIComponent(F)}&ym=${Q}`);e(ee||[])}catch{const ee=Object.entries(localStorage).filter(([he])=>(he.startsWith("po_")||he.startsWith("ps_")||he.startsWith("inv_"))&&he.includes(Q)).map(([he,ve])=>({key:he,...JSON.parse(ve)}));e(ee)}try{const ee=await Wd(`/api/zips?company=${encodeURIComponent(F)}`);r(ee||[])}catch{const ee=Object.entries(localStorage).filter(([he])=>he.startsWith("monthlyZip_")||he.startsWith("yearZip_")).map(([he,ve])=>{const[,fe,ne]=he.split("_");return{key:he,ym:fe,driverName:ne,dataUrl:ve}});r(ee)}};Y.useEffect(()=>{k()},[]);const N=()=>{if(!p)return;const Q=new FileReader;Q.onload=async()=>{try{const J=Q.result;if(!J.startsWith("data:application/pdf;base64,")){alert("無効なPDFファイルです（base64形式でない）");return}const re=p.name.replace(/\.(pdf)$/i,""),ee=m0(c),he=await G2(J);try{const ve=await $2("/api/templates/upload",{company:F,type:c,name:re,dataUrl:J,map:ee,hash:he,idempotencyKey:`${F}:${c}:${he}`,upsert:!0});u(fe=>g0([ve,...fe.filter(ne=>ne.type!==c)]))}catch{const ve=Nu(F,c),fe={key:ve,name:re,type:c,date:qd(),dataUrl:J,map:ee,hash:he};localStorage.setItem(ve,JSON.stringify(fe)),u(ne=>g0([fe,...ne.filter(te=>te.type!==c)]))}m(null),alert("テンプレートを保存しました。"),k()}catch(J){console.error(J),alert("アップロードに失敗しました")}},Q.readAsDataURL(p)},S=async Q=>{if(window.confirm("本当に削除しますか？"))try{await tN(`/api/zips/${encodeURIComponent(Q)}`),r(J=>J.filter(re=>re.key!==Q))}catch{localStorage.removeItem(Q),r(J=>J.filter(re=>re.key!==Q))}};function O(Q,J){const re=`achievement_${Q}_${J}`,ee=localStorage.getItem(re);if(!ee)return{};try{return JSON.parse(ee)}catch{return{}}}async function H(Q,J){const re={},ee=`poCounter_${F}`;let he;try{he=(await Wd(`/api/counters/next?type=po&company=${encodeURIComponent(F)}`)).next}catch{he=parseInt(localStorage.getItem(ee)||"0")+1,localStorage.setItem(ee,String(he))}re["{{発注No}}"]=String(he).padStart(4,"0");const ve=JSON.parse(localStorage.getItem(`adminList_${F}`)||"[]"),fe=JSON.parse(localStorage.getItem("adminMaster")||"[]"),te=(Array.isArray(ve)&&ve.length>0?ve:fe).find(ye=>ye.loginId===localStorage.getItem("loginId"));re["{{担当者}}"]=(te==null?void 0:te.name)||"",re["{{today}}"]=qd(),Object.entries(Q).forEach(([ye,Fe])=>{!ye.startsWith("{{")||ye in re||typeof Fe=="string"&&Fe.startsWith("実績_")||(re[ye]=J[Fe]??"")});const Ae=O(J.uid,qd());Object.entries(Q).forEach(([ye,Fe])=>{if(typeof Fe!="string"||!Fe.startsWith("実績_"))return;const Ce=Fe.replace("実績_","");re[ye]=Ae[Ce]??""});let xe=0;for(let ye=1;ye<=5;ye++){const Fe=parseFloat(re[`{{item_${ye}_qty}}`]??"0"),Ce=parseFloat(re[`{{item_${ye}_price}}`]??"0"),me=Fe*Ce;re[`{{item_${ye}_amount}}`]=String(me),xe+=me}return re["{{totalAmount}}"]=String(xe),re}const j={発注書:["{{item_1_desc}}","{{item_1_qty}}","{{item_1_price}}"],支払明細書:["{{合計配達数}}","{{総稼働時間}}","{{走行距離}}","{{支払総額}}"],請求書:["{{小計}}","{{税額}}","{{合計}}"]};async function T(Q,J){const re=j[Q]||[];for(const ee of re)if(!J[ee]||String(J[ee]).trim()===""){const he=ee.replace(/[{}]/g,""),ve=window.prompt(`「${he}」の値を入力してください`,"");ve!==null&&(J[ee]=ve)}if(Q==="発注書"){let ee=0;for(let he=1;he<=5;he++){const ve=parseFloat(J[`{{item_${he}_qty}}`]??"0"),fe=parseFloat(J[`{{item_${he}_price}}`]??"0"),ne=ve*fe;J[`{{item_${he}_amount}}`]=String(ne),ee+=ne}J["{{totalAmount}}"]=String(ee)}if(Q==="請求書"){const ee=parseFloat(J["{{小計}}"]??"0"),he=parseFloat(J["{{税額}}"]??"0");(!J["{{合計}}"]||J["{{合計}}"]==="0")&&(J["{{合計}}"]=String(ee+he))}}function D(Q,J){if(!(Q!=null&&Q.startsWith("data:application/pdf;base64,")))return console.warn("invalid template data url"),Q;const re=Q.split(",")[1];let ee=atob(re);for(const[he,ve]of Object.entries(J))try{ee=ee.replaceAll(he,String(ve??""))}catch{const fe=new RegExp(he.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");ee=ee.replace(fe,String(ve??""))}return`data:application/pdf;base64,${btoa(ee)}`}const[W,oe]=Y.useState(null),[V,q]=Y.useState([]),[z,ue]=Y.useState({});function ie(Q){const J=Q.map&&Object.keys(Q.map).length>0?Q.map:m0(Q.type);oe(Q.key),q(Object.keys(J)),ue(J)}async function be(){if(W){try{await $2("/api/templates/update-map",{key:W,map:z})}catch{const Q=localStorage.getItem(W);if(Q){const J=JSON.parse(Q);localStorage.setItem(W,JSON.stringify({...J,map:z}))}else u(J=>J.map(re=>re.key===W?{...re,map:z}:re))}oe(null),k()}}return d.jsxs("div",{className:"p-6",children:[d.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["🖨️ファイル管理",d.jsx("span",{className:"text-sm text-gray-500",children:" - FileManager -"})]}),d.jsxs("div",{className:"mb-10 border p-4 rounded shadow",children:[d.jsx("h2",{className:"text-lg font-bold mb-3",children:"📑 テンプレート管理（会社共有・重複防止）"}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsxs("select",{value:c,onChange:Q=>h(Q.target.value),className:"border px-2 py-1 rounded",children:[d.jsx("option",{value:"発注書",children:"発注書 (PO)"}),d.jsx("option",{value:"支払明細書",children:"支払明細書 (PS)"}),d.jsx("option",{value:"請求書",children:"請求書 (INV)"})]}),d.jsx("input",{type:"file",accept:"application/pdf",onChange:Q=>{var J;return m(((J=Q.target.files)==null?void 0:J[0])??null)}}),d.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded disabled:opacity-50",disabled:!p,onClick:N,children:"アップロード（上書き）"})]}),d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"📌 帳票作成対象のドライバー："}),d.jsxs("select",{className:"border px-2 py-1 rounded",value:(b==null?void 0:b.uid)??"",onChange:Q=>{const J=C.find(re=>re.uid===Q.target.value);_(J??null)},children:[d.jsx("option",{value:"",children:"-- 選択してください --"}),C.map(Q=>d.jsxs("option",{value:Q.uid,children:[Q.name,"（",Q.contractType,"）"]},Q.uid))]}),d.jsxs("select",{className:"border px-2 py-1 rounded",value:o,onChange:Q=>l(Q.target.value),children:[d.jsx("option",{value:"PO",children:"発注書"}),d.jsx("option",{value:"PS",children:"支払明細書"}),d.jsx("option",{value:"INV",children:"請求書"})]}),d.jsx("button",{className:"bg-indigo-600 text-white px-4 py-1 rounded",onClick:async()=>{if(!b){alert("ドライバーを選択してください");return}const Q=o==="PO"?"発注書":o==="PS"?"支払明細書":"請求書",J=a.filter(Ae=>Ae.type===Q);if(J.length===0){alert("該当テンプレートが見つかりません");return}const re=J.sort((Ae,xe)=>Date.parse(xe.date)-Date.parse(Ae.date))[0],ee=re.map&&Object.keys(re.map).length>0?re.map:m0(re.type),he=eN(ee),ve=await H(he,b);await T(re.type,ve);const fe=D(re.dataUrl,ve),ne=`${qd()}_${b.name}_${re.type}.pdf`,te=o==="PO"?"po_":o==="PS"?"ps_":"inv_";try{await PX({dataUrl:fe,fileName:ne,company:F,driverId:b.uid,type:re.type})}catch(Ae){console.error("Storage/Neon 保存に失敗。localStorage にフォールバックします。",Ae);const xe=`${te}${Date.now()}`;localStorage.setItem(xe,JSON.stringify({driverName:b.name,date:qd(),fileName:ne,dataUrl:fe}))}alert("PDFを作成しました"),k()},children:"作成"})]}),d.jsxs("table",{className:"table-auto w-full border",children:[d.jsx("thead",{className:"bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border px-2 py-1",children:"種別"}),d.jsx("th",{className:"border px-2 py-1",children:"ファイル名"}),d.jsx("th",{className:"border px-2 py-1",children:"登録日時"}),d.jsx("th",{className:"border px-2 py-1",children:"操作"})]})}),d.jsxs("tbody",{children:[a.map(Q=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-2 py-1",children:Q.type}),d.jsx("td",{className:"border px-2 py-1",children:Q.name}),d.jsx("td",{className:"border px-2 py-1",children:Q.date}),d.jsxs("td",{className:"border px-2 py-1",children:[d.jsx("button",{type:"button",className:"text-blue-600 underline mr-3",onClick:()=>{const J=M(Q.dataUrl);E({open:!0,url:J,title:Q.name})},children:"表示"}),d.jsx("button",{className:"text-green-600 underline mr-3",onClick:()=>ie(Q),children:"マッピング編集"}),d.jsx("button",{className:"text-red-600 underline mr-3",onClick:async()=>{if(window.confirm("本当に削除しますか？")){try{await tN(`/api/templates/${encodeURIComponent(Q.key)}`)}catch{Q.type&&localStorage.removeItem(Nu(F,Q.type)),localStorage.removeItem(Q.key)}u(J=>J.filter(re=>re.key!==Q.key))}},children:"削除"})]})]},Q.key)),a.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center py-3",children:"まだ何もありません"})})]})]})]}),d.jsx("h2",{className:"text-lg font-bold mt-8 mb-2 text-slate-900",children:"📄 当月提出 PDF"}),d.jsxs("table",{className:"table-auto w-full border mb-8 text-slate-900",children:[d.jsx("thead",{className:"bg-gray-100 text-slate-900",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border px-4 py-2",children:"日付"}),d.jsx("th",{className:"border px-4 py-2",children:"ドライバー"}),d.jsx("th",{className:"border px-4 py-2",children:"ファイル名"}),d.jsx("th",{className:"border px-4 py-2",children:"DL"})]})}),d.jsxs("tbody",{children:[t.map(Q=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:Q.date}),d.jsx("td",{className:"border px-4 py-2",children:Q.driverName}),d.jsx("td",{className:"border px-4 py-2",children:Q.fileName}),d.jsxs("td",{className:"border px-4 py-2",children:[d.jsx("a",{href:Q.dataUrl,download:Q.fileName,className:"text-blue-600 underline",children:"DL"}),d.jsx("button",{type:"button",className:"text-blue-600 underline ml-2",onClick:()=>{const J=M(Q.dataUrl);E({open:!0,url:J,title:Q.fileName})},children:"表示"})]})]},Q.key)),t.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center py-4",children:"当月の提出はまだありません。"})})]})]}),d.jsx("h2",{className:"text-lg font-bold mb-2",children:"📦 過去 ZIP（前月以前）"}),d.jsxs("table",{className:"table-auto w-full border",children:[d.jsx("thead",{className:"bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border px-4 py-2",children:"対象"}),d.jsx("th",{className:"border px-4 py-2",children:"ドライバー"}),d.jsx("th",{className:"border px-4 py-2",children:"DL"}),d.jsx("th",{className:"border px-4 py-2",children:"操作"}),d.jsx("th",{className:"border px-4 py-2",children:"送信"})]})}),d.jsxs("tbody",{children:[n.map(Q=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-4 py-2",children:Q.ym}),d.jsx("td",{className:"border px-4 py-2",children:Q.driverName}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("a",{href:Q.dataUrl,download:`${Q.ym}_${Q.driverName}.zip`,className:"text-blue-600 underline",children:"DL"})}),d.jsx("td",{className:"border px-4 py-2",children:d.jsx("button",{onClick:()=>S(Q.key),className:"text-red-600 underline",children:"削除"})}),d.jsx("td",{className:"px-2 py-1 text-center",children:d.jsx("button",{className:"text-blue-600 underline",onClick:async()=>{try{const J=await LX(Q.dataUrl);s({open:!0,fileName:`${Q.ym}_${Q.driverName}.zip`,blob:J,to:{uid:"dummy-uid",name:Q.driverName}})}catch(J){console.error(J),alert("ZIPの取得に失敗しました")}},children:"送信"})})]},Q.key)),n.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"text-center py-4",children:"過去 ZIP はありません。"})})]})]}),i&&d.jsx(NX,{open:i.open,onClose:()=>s(null),fileName:i.fileName,pdfBlob:i.blob,to:i.to,onSent:()=>alert("送信しました！")}),d.jsx("h2",{className:"text-lg font-bold mt-8 mb-2",children:"📦 年次 ZIP"}),d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"※年次ZIPの一覧は現在準備中です。"}),(y==null?void 0:y.open)&&wm.createPortal(d.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/50 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white w-[92vw] h-[92vh] rounded shadow flex flex-col",children:[d.jsxs("div",{className:"p-3 border-b flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold",children:y.title}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("a",{href:y.url,download:(y.title||"preview").replace(/\.(pdf)?$/i,"")+".pdf",className:"text-blue-600 underline",children:"ダウンロード"}),d.jsx("a",{href:y.url,target:"_blank",rel:"noreferrer",className:"text-gray-600 underline",children:"新しいタブで開く"}),d.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>{try{y.url.startsWith("blob:")&&URL.revokeObjectURL(y.url)}catch{}E(null)},children:"閉じる"})]})]}),d.jsx("iframe",{src:y.url,title:"PDF",className:"flex-1 w-full",style:{border:"none"}})]})}),document.body),W&&wm.createPortal(d.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/50 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white w-[92vw] max-w-5xl h-[88vh] rounded-xl shadow-2xl flex flex-col",children:[d.jsxs("div",{className:"px-4 h-12 border-b flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold",children:"マッピング編集"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded",onClick:()=>{const Q=window.prompt("追加するプレースホルダー名（例：{{foo}}）","");Q&&(q(J=>J.includes(Q)?J:[...J,Q]),ue(J=>({...J,[Q]:J[Q]??""})))},children:"＋ 追加"}),d.jsx("button",{className:"px-3 py-1 bg-indigo-600 text-white rounded",onClick:()=>ue(Q=>eN(Object.fromEntries(V.map(J=>[J,Q[J]??""])))),children:"自動推測で埋める"}),d.jsx("button",{className:"px-3 py-1 bg-gray-200 rounded",onClick:()=>oe(null),children:"閉じる"}),d.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:be,children:"保存"})]})]}),d.jsxs("div",{className:"p-4 overflow-auto flex-1",children:[d.jsxs("table",{className:"table-auto w-full border",children:[d.jsx("thead",{className:"bg-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border px-2 py-1 w-1/2",children:"プレースホルダー（PDF側）"}),d.jsx("th",{className:"border px-2 py-1",children:"アプリの項目キー（例：name / address / 実績_totalPay など）"})]})}),d.jsx("tbody",{children:V.map(Q=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-2 py-1 font-mono text-xs",children:Q}),d.jsx("td",{className:"border px-2 py-1",children:d.jsx("input",{className:"w-full border rounded px-2 py-1",value:z[Q]??"",onChange:J=>ue(re=>({...re,[Q]:J.target.value})),placeholder:"例）name / company / 実績_totalPay"})})]},Q))})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["※ 実績系は ",d.jsx("code",{children:"実績_"})," プレフィックスで紐づけ（例：",d.jsx("code",{children:"実績_totalHours"}),"）。保存後、「作成」で反映されます。"]})]})]})}),document.body)]})}const UX="https://asia-northeast1-anborco-app.cloudfunctions.net/complianceNews";var uF;const kX=((uF="https://asia-northeast1-anborco-app.cloudfunctions.net/complianceNews"==null?void 0:"https://asia-northeast1-anborco-app.cloudfunctions.net/complianceNews".trim)==null?void 0:uF.call("https://asia-northeast1-anborco-app.cloudfunctions.net/complianceNews"))||UX;function RX(){const t=Bn();return t.currentUser?Promise.resolve(t.currentUser):new Promise(e=>{const n=ig(t,r=>{n(),e(r)})})}async function OX(t={filter:!0,limit:20}){const e=new URL(kX);t.q&&e.searchParams.set("q",t.q),t.filter&&e.searchParams.set("filter","1"),t.limit&&e.searchParams.set("limit",String(t.limit));const n=await RX(),r=n?await n.getIdToken():null,i={};r&&(i.Authorization=`Bearer ${r}`);const s=await fetch(e.toString(),{mode:"cors",credentials:"omit",headers:i});if(!s.ok)throw new Error(`HTTP ${s.status}`);return(await s.json()).items??[]}const aR="compliance_news_cache_v1",lc=5,nN=10;function rN(){try{const t=localStorage.getItem(aR);if(!t)return[];const{items:e}=JSON.parse(t);return Array.isArray(e)?e:[]}catch{return[]}}function DX(t){try{localStorage.setItem(aR,JSON.stringify({items:t,savedAt:Date.now()}))}catch{}}const QX=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;function MX(t=0){const e=new Date;return e.setDate(e.getDate()+t),QX(e)}function HX(){const[t,e]=Y.useState(""),[n,r]=Y.useState("default"),[i,s]=Y.useState(!1);Y.useEffect(()=>{const V=ig(wd,async q=>{if(!q)return;e(q.uid);const z=await Vp(nr(ln,"users",q.uid)),ue=z.exists()?z.data():{},ie=(ue==null?void 0:ue.company)||localStorage.getItem("company")||"default";r(ie),s(String((ue==null?void 0:ue.role)||"").toLowerCase().includes("admin"))});return()=>V()},[]);const[o,l]=Y.useState([]),[a,u]=Y.useState(lc),[c,h]=Y.useState(!1),[p,m]=Y.useState(null),b=V=>new Date(V).toLocaleString("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit"}),_=Y.useCallback(async()=>{u(lc),h(!0),m(null);try{const V=await OX({filter:!0,limit:20});l(V),DX(V)}catch(V){console.error("[news] failed",V);const q=rN();l(q),q.length||m("ニュース取得に失敗しました")}finally{h(!1)}},[]);Y.useEffect(()=>{const V=rN();V.length>0&&l(V),u(lc),_()},[_]);const[C,w]=Y.useState([]),[y,E]=Y.useState(""),[F,M]=Y.useState([]);Y.useEffect(()=>{if(!n)return;const V=Tl(ro(ln,"companies",n,"drivers"),Om("createdAt","asc")),q=pa(V,z=>{const ue=z.docs.map(ie=>({id:ie.id,...ie.data()}));w(ue)},z=>{console.warn("[drivers onSnapshot] error:",z),w([])});return()=>q()},[n]),Y.useEffect(()=>{if(!n)return;const V=nr(ln,"companies",n,"complianceSettings","global"),q=pa(V,z=>{const ie=((z.data()||{}).taskTemplates||[]).filter(be=>!!be.active);M(ie)},z=>{console.warn("[settings onSnapshot] error:",z),M([])});return()=>q()},[n]);const[k,N]=Y.useState([]);Y.useEffect(()=>{if(!n||!y){N([]);return}const V=Tl(ro(ln,"companies",n,"complianceTasks"),ko("driverId","==",y),Om("createdAt","asc")),q=pa(V,z=>{const ue=z.docs.map(ie=>({id:ie.id,...ie.data()}));N(ue)});return()=>q()},[n,y]),Y.useEffect(()=>{if(!n||!y||F.length===0)return;const V=C.find(z=>z.id===y);if(!V)return;const q=new Set(k.map(z=>z.tplId).filter(Boolean));(async()=>{const z=F.filter(ue=>!q.has(ue.id));if(z.length!==0)for(const ue of z)await xy(ro(ln,"companies",n,"complianceTasks"),{label:ue.label,lawTag:ue.lawTag||"",owner:ue.defaultOwner||"",due:ue.defaultDueDays?MX(ue.defaultDueDays):"",note:"",done:!1,excluded:!1,driverId:V.id,driverName:V.name||"",tplId:ue.id,createdAt:$i()})})()},[n,y,F]);const S=async V=>{if(!y){alert("先にドライバーを選択してください");return}const q=C.find(z=>z.id===y);await xy(ro(ln,"companies",n,"complianceTasks"),{...V,driverId:y,driverName:(q==null?void 0:q.name)||"",createdAt:$i()})},O=async V=>{V&&await h4(nr(ln,"companies",n,"complianceTasks",V))},H=async V=>{V.id&&await Aa(nr(ln,"companies",n,"complianceTasks",V.id),{done:!V.done})},j=async V=>{V.id&&await Aa(nr(ln,"companies",n,"complianceTasks",V.id),{excluded:!V.excluded})},T=async()=>{!i||k.length===0||confirm("このドライバーの全タスクを削除します。元に戻せません。よろしいですか？")&&await Promise.all(k.map(V=>V.id&&h4(nr(ln,"companies",n,"complianceTasks",V.id))))},[D,W]=Y.useState({label:"",done:!1,excluded:!1,lawTag:"",owner:"",due:"",note:"",tplId:void 0}),oe=Y.useMemo(()=>{const V=k.filter(ue=>!ue.excluded),q=V.length,z=V.filter(ue=>ue.done).length;return q?Math.round(z/q*100):0},[k]);return d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center gap-2",children:["📚 法改正ダッシュボード ",d.jsx("span",{className:"text-base text-gray-500",children:"/ Law Compliance Dashboard"})]}),d.jsxs("section",{className:"bg-white text-gray-900 rounded-xl shadow p-5",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"📰 最新ニュース（燃料・運送の法令等）"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"件"]}),d.jsxs("button",{onClick:_,className:"inline-flex items-center gap-1 px-3 py-1 rounded bg-gray-100 hover:bg-gray-200 text-sm text-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",title:"手動更新",children:[d.jsx(wY,{size:16})," 更新"]})]})]}),c&&d.jsx("p",{className:"text-gray-500",children:"読み込み中…"}),p&&d.jsx("p",{className:"text-red-600",children:p}),d.jsxs("ul",{className:"divide-y divide-gray-200 text-gray-900",children:[o.slice(0,Math.max(a,lc)).map((V,q)=>d.jsxs("li",{className:"py-3",children:[d.jsx("a",{className:"text-blue-700 underline font-medium",href:V.link,target:"_blank",rel:"noopener noreferrer",children:V.title}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[V.source," ・ ",b(V.isoDate)]})]},`${V.link}-${q}`)),o.length===0&&!c&&d.jsx("li",{className:"py-3 text-gray-500",children:"（キャッシュがないため初回は空の場合があります。上の「更新」を押すと取得を再試行します）"})]}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[Math.max(a,lc)<o.length&&d.jsxs("button",{onClick:()=>u(V=>V+nN),className:"px-3 py-1.5 text-sm rounded bg-gray-100 hover:bg-gray-200 text-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:["もっと見る（+",nN,"件）"]}),o.length>0&&Math.max(a,lc)<o.length&&d.jsxs("button",{onClick:()=>u(9999),className:"px-3 py-1.5 text-sm rounded bg-gray-100 hover:bg-gray-200 text-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:["すべて表示（",o.length,"件）"]}),o.length>lc&&d.jsx("button",{onClick:()=>u(lc),className:"px-3 py-1.5 text-sm rounded bg-gray-100 hover:bg-gray-200 text-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"最新5件のみ"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"※ 見出し・リンク・日付のみ表示（本文転載なし）。情報源は国交省・経産省などの公式RSS。失敗時は前回キャッシュを表示します。"})]}),d.jsxs("section",{className:"bg-white text-gray-900 rounded-xl shadow p-5",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"📋 対応タスクリスト / Compliance Tasks"}),d.jsxs("div",{className:"text-sm text-gray-500",children:["達成率: ",oe,"%"]})]}),d.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"ドライバー:"}),d.jsxs("select",{className:"border border-gray-300 rounded px-3 py-2 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:y,onChange:V=>E(V.target.value),children:[d.jsx("option",{value:"",children:"-- 選択してください --"}),C.map(V=>d.jsx("option",{value:V.id,children:V.name||V.id},V.id))]}),i&&d.jsx("button",{onClick:T,disabled:!k.length,className:"ml-auto px-3 py-1.5 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500",title:"選択中ドライバーの全タスク削除",children:"全削除"})]}),i&&y&&d.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-6 gap-2",children:[d.jsx("input",{className:"border border-gray-300 rounded px-3 py-2 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ...",placeholder:"タスク名（必須）",value:D.label,onChange:V=>W(q=>({...q,label:V.target.value}))}),d.jsx("input",{className:"border border-gray-300 rounded px-3 py-2 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ...",placeholder:"法令タグ 例: 電帳法",value:D.lawTag||"",onChange:V=>W(q=>({...q,lawTag:V.target.value}))}),d.jsx("input",{className:"border border-gray-300 rounded px-3 py-2 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ...",placeholder:"担当 例: 管理部",value:D.owner||"",onChange:V=>W(q=>({...q,owner:V.target.value}))}),d.jsx("input",{className:"border border-gray-300 rounded px-3 py-2 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ...",placeholder:"期限 YYYY-MM-DD",value:D.due||"",onChange:V=>W(q=>({...q,due:V.target.value}))}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>{if(!D.label.trim())return alert("タスク名は必須です");S({...D,done:!1}),W({label:"",done:!1,excluded:!1,lawTag:"",owner:"",due:"",note:"",tplId:void 0})},className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:[d.jsx(Gk,{size:16})," 追加"]})}),d.jsx("textarea",{className:"border border-gray-300 rounded px-3 py-2 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ...",placeholder:"メモ（任意）",value:D.note||"",onChange:V=>W(q=>({...q,note:V.target.value})),rows:2})]}),!y&&d.jsx("p",{className:"text-gray-500",children:"ドライバーを選択すると、そのドライバーのタスクが表示されます。"}),y&&d.jsxs("ul",{className:"space-y-3 text-gray-900",children:[k.map(V=>{const q=V.excluded||V.done;return d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx("button",{onClick:()=>H(V),"aria-label":"toggle",className:"mt-0.5",children:V.done?d.jsx(Nh,{className:"text-green-500",size:20}):d.jsx(AY,{className:"text-yellow-500",size:20})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",className:"mr-2 accent-blue-600",checked:V.done||!1,onChange:()=>H(V),disabled:V.excluded===!0}),d.jsx("span",{className:q?"line-through text-gray-500":"",children:V.label})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 space-x-2",children:[V.lawTag&&d.jsxs("span",{children:["#",V.lawTag]}),V.owner&&d.jsxs("span",{children:["担当: ",V.owner]}),V.due&&d.jsxs("span",{children:["期限: ",V.due]})]}),V.note&&d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:V.note}),d.jsx("div",{className:"mt-1 text-xs",children:d.jsxs("label",{className:"inline-flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",className:"accent-gray-600",checked:V.excluded||!1,onChange:()=>j(V)}),d.jsx("span",{children:"対象外"})]})})]}),i&&d.jsx("button",{onClick:()=>O(V.id),className:"text-red-600 hover:text-red-800 mt-0.5",title:"タスクを削除",children:d.jsx(pE,{size:18})})]},V.id)}),k.length===0&&d.jsx("li",{className:"text-gray-500",children:"タスクはまだありません。"})]})]}),d.jsxs("section",{className:"bg-white text-gray-900 rounded-xl shadow p-5",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"📂 保存記録ガイド / Record Retention Guide"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full table-auto border border-gray-300 text-gray-900",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[d.jsx("th",{className:"px-4 py-2 border text-left",children:"書類名 / Document"}),d.jsx("th",{className:"px-4 py-2 border text-left",children:"保存期間 / Retention"}),d.jsx("th",{className:"px-4 py-2 border text-left",children:"関連法令 / Related Law"})]})}),d.jsx("tbody",{children:[{name:"請求書・領収書 / Invoices & Receipts",period:"7年 / 7 years",law:"電子帳簿保存法"},{name:"契約書・見積書 / Contracts & Estimates",period:"7年 / 7 years",law:"法人税法 他"},{name:"賃金台帳・出勤簿 / Wage & Attendance Books",period:"3年 / 3 years",law:"労働基準法"},{name:"労働者名簿 / Employee Registry",period:"3年 / 3 years",law:"労働基準法"},{name:"点呼記録・運転日報 / Driving Logs & Check Records",period:"1年 / 1 year",law:"運送法・安全規則"},{name:"事故記録 / Accident Records",period:"3年 / 3 years",law:"運送法"}].map((V,q)=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-2 border",children:V.name}),d.jsx("td",{className:"px-4 py-2 border",children:V.period}),d.jsx("td",{className:"px-4 py-2 border",children:V.law})]},q))})]})})]})]})}var q0,dF,J0,hF;const Tu={notificationSetting:"全員に通知",driverCustomFields:[],adminCustomFields:[],vehicleCustomFields:[],projectCustomFields:[],taskTemplates:[{id:(((dF=(q0=globalThis.crypto)==null?void 0:q0.randomUUID)==null?void 0:dF.call(q0))??String(Date.now()))+"-a",label:"運転者の労働時間改善（点呼・休息・拘束時間の順守）",lawTag:"改善基準",defaultOwner:"運行管理",defaultDueDays:30,active:!0},{id:(((hF=(J0=globalThis.crypto)==null?void 0:J0.randomUUID)==null?void 0:hF.call(J0))??String(Date.now()))+"-b",label:"点呼記録・運転日報・事故記録の保存期間整備",lawTag:"運送法/安全規則",defaultOwner:"運行管理",defaultDueDays:30,active:!0}]},Jd=t=>`complianceSettings:${t||"default"}`,Yd=(t,e)=>`complianceOverrides:${t||"default"}:${e||"guest"}`;function Xd(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch{return null}}function Zd(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch{}}const v0=t=>Array.from(new Set(t.filter(Boolean)));function VX(t,e){if(!e||e.length===0)return t;const n=new Map;t.forEach(i=>n.set(i.id,i)),e.forEach(i=>n.set(i.id,{...n.get(i.id)||{},...i}));const r=[];return e.forEach(i=>{n.has(i.id)&&r.push(n.get(i.id))}),t.forEach(i=>{r.find(s=>s.id===i.id)||r.push(n.get(i.id))}),r}function KX(t,e){return e?{notificationSetting:e.notificationSetting??t.notificationSetting,driverCustomFields:v0([...t.driverCustomFields||[],...e.driverCustomFields||[]]),adminCustomFields:v0([...t.adminCustomFields||[],...e.adminCustomFields||[]]),vehicleCustomFields:v0([...t.vehicleCustomFields||[],...e.vehicleCustomFields||[]]),projectCustomFields:v0([...t.projectCustomFields||[],...e.projectCustomFields||[]]),taskTemplates:VX(t.taskTemplates||[],e.taskTemplates||[]),updatedAt:t.updatedAt}:t}function zX(){const[t,e]=Y.useState(""),[n,r]=Y.useState("default"),[i,s]=Y.useState(!1),[o,l]=Y.useState(Tu),[a,u]=Y.useState({}),c=Y.useMemo(()=>KX(o,a),[o,a]),[h,p]=Y.useState("company"),[m,b]=Y.useState(!0),[_,C]=Y.useState(!1),[w,y]=Y.useState(null),[E,F]=Y.useState(!1),[M,k]=Y.useState({label:"",lawTag:"",defaultOwner:"",defaultDueDays:30,active:!0});Y.useEffect(()=>{const V=ig(wd,async q=>{const z=localStorage.getItem("company")||"default";if(!q){e(""),s(!1),r(z),p("company");return}e(q.uid);try{const ue=await Vp(nr(ln,"users",q.uid)),ie=ue.exists()?ue.data():{},be=(ie==null?void 0:ie.company)||z;r(be);const Q=String((ie==null?void 0:ie.role)||"").toLowerCase().includes("admin");s(Q),p(Q?"company":"user")}catch{r(z),s(!1),p("user")}});return()=>V()},[]);const N=Y.useMemo(()=>n?nr(ln,"companies",n,"complianceSettings","global"):null,[n]),S=Y.useMemo(()=>n&&t?nr(ln,"companies",n,"complianceOverrides",t):null,[n,t]);Y.useEffect(()=>{if(!N)return;b(!0),y(null);const V=pa(N,async q=>{try{if(!q.exists()){try{await Xa(N,{...Tu,updatedAt:$i()},{merge:!0}),l(Tu),Zd(Jd(n),Tu),F(!1)}catch{const ue=Xd(Jd(n))||Tu;l(ue),F(!0),y("Firestore に書き込みできません。ローカル保存で動作中（会社設定）。")}finally{b(!1)}return}const z=q.data();l(z),Zd(Jd(n),z),F(!1),b(!1)}catch{const z=Xd(Jd(n))||Tu;l(z),F(!0),y("会社設定の読込に失敗したためローカル保存に切り替えました。"),b(!1)}},q=>{console.error("[company settings onSnapshot error]",q);const z=Xd(Jd(n))||Tu;l(z),F(!0),y("会社設定の監視に失敗したためローカル保存に切り替えました。"),b(!1)});return()=>V()},[N,n]),Y.useEffect(()=>{if(!S){const q=Xd(Yd(n,t))||{};u(q);return}y(null);const V=pa(S,q=>{try{if(!q.exists()){u({}),Zd(Yd(n,t),{});return}const z=q.data();u(z||{}),Zd(Yd(n,t),z||{})}catch{const z=Xd(Yd(n,t))||{};u(z),F(!0),y("ユーザー上書きの読込に失敗しました。ローカル保存に切替。")}},q=>{console.error("[user overrides onSnapshot error]",q);const z=Xd(Yd(n,t))||{};u(z),F(!0),y("ユーザー上書きの監視に失敗しました。ローカル保存に切替。")});return()=>V()},[S,n,t]);const O=h==="company"?!i:!t;async function H(V){C(!0),y(null);try{if(h==="company"){const q={...o,...V};if(l(q),Zd(Jd(n),q),!N)throw new Error("refCompany missing");await Aa(N,{...V,updatedAt:$i()}),F(!1)}else{const q={...a,...V};if(u(q),Zd(Yd(n,t),q),!S)throw new Error("refUser missing");await Xa(S,{...q,updatedAt:$i()},{merge:!0}),F(!1)}}catch{F(!0),y("Firestore に保存できませんでした。ローカル保存で継続します。")}finally{C(!1)}}async function j(V){var ue,ie,be,Q,J;if(!((ue=V.label)!=null&&ue.trim())){alert("タスク名は必須です");return}const q=V.id||(((be=(ie=globalThis.crypto)==null?void 0:ie.randomUUID)==null?void 0:be.call(ie))??String(Date.now())),z={id:q,label:V.label.trim(),lawTag:((Q=V.lawTag)==null?void 0:Q.trim())||void 0,defaultOwner:((J=V.defaultOwner)==null?void 0:J.trim())||void 0,defaultDueDays:Number.isFinite(V.defaultDueDays)?Number(V.defaultDueDays):30,active:V.active??!0};if(h==="company"){const re=c.taskTemplates.find(ve=>ve.id===q),ee=o.taskTemplates||[],he=re?ee.map(ve=>ve.id===q?z:ve):[...ee,z];await H({taskTemplates:he})}else{const re=(a.taskTemplates||[]).filter(Boolean),ee=re.findIndex(he=>he.id===q);ee>=0?re[ee]={...re[ee],...z}:re.push(z),await H({taskTemplates:re})}k({label:"",lawTag:"",defaultOwner:"",defaultDueDays:30,active:!0})}async function T(V){if(h==="company"){const q=(o.taskTemplates||[]).filter(z=>z.id!==V);await H({taskTemplates:q})}else{const q=(a.taskTemplates||[]).filter(z=>z.id!==V);await H({taskTemplates:q})}}async function D(V){if(h==="company"){const q=(o.taskTemplates||[]).map(z=>z.id===V?{...z,active:!z.active}:z);await H({taskTemplates:q})}else{const q=c.taskTemplates.find(be=>be.id===V);if(!q)return;const z=[...a.taskTemplates||[]],ue=z.findIndex(be=>be.id===V),ie={...ue>=0?z[ue]:{id:V,active:q.active},active:!q.active};ue>=0?z[ue]=ie:z.push(ie),await H({taskTemplates:z})}}async function W(V,q){if(h==="company"){const z=[...o.taskTemplates||[]],ue=z.findIndex(Q=>Q.id===V),ie=ue+q;if(ue===-1||ie<0||ie>=z.length)return;const[be]=z.splice(ue,1);z.splice(ie,0,be),await H({taskTemplates:z})}else{const z=[...a.taskTemplates||[]],ue=z.findIndex(ie=>ie.id===V);if(ue===-1){const ie=(o.taskTemplates||[]).map(re=>({...re})),be=ie.findIndex(re=>re.id===V),Q=be+q;if(be===-1||Q<0||Q>=ie.length)return;const[J]=ie.splice(be,1);ie.splice(Q,0,J),await H({taskTemplates:ie})}else{const ie=ue+q;if(ie<0||ie>=z.length)return;const[be]=z.splice(ue,1);z.splice(ie,0,be),await H({taskTemplates:z})}}}async function oe(){C(!0),y(null);try{if(h==="company"){if(!N)throw new Error("refCompany missing");await Xa(N,{...o,updatedAt:$i()},{merge:!0})}else{if(!S)throw new Error("refUser missing");await Xa(S,{...a,updatedAt:$i()},{merge:!0})}F(!1)}catch{F(!0),y("再同期に失敗しました。ログイン/権限/ルールをご確認ください。")}finally{C(!1)}}return m?d.jsx("div",{className:"p-6 text-gray-500",children:"読み込み中…"}):d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:["⚙️ システム設定 ",d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"- System Settings -"}),i&&d.jsxs("span",{className:"ml-2 text-emerald-700 text-sm inline-flex items-center",children:[d.jsx(Wk,{size:16,className:"mr-1"}),"管理者"]}),_&&d.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"保存中…"})]}),d.jsxs("div",{className:"bg-white text-gray-900 p-4 rounded shadow flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold",children:"適用スコープ / Scope"}),d.jsx("div",{className:"text-xs text-gray-500",children:"会社共有設定（Company-wide）と自分だけの上書き（My overrides）を切替"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"inline-flex items-center gap-2",children:[d.jsx("input",{type:"radio",checked:h==="company",onChange:()=>p("company"),disabled:!i}),d.jsx("span",{children:"会社共有（Company）"})]}),d.jsxs("label",{className:"inline-flex items-center gap-2",children:[d.jsx("input",{type:"radio",checked:h==="user",onChange:()=>p("user")}),d.jsx("span",{children:"自分だけ（My overrides）"})]}),(w||E)&&d.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded border hover:bg-gray-50",children:[d.jsx(yY,{size:16})," 再接続"]})]})]}),(w||E)&&d.jsxs("div",{className:`p-3 rounded ${E?"bg-yellow-50 border border-yellow-300 text-yellow-900":"bg-red-50 border border-red-300 text-red-900"}`,children:[d.jsxs("div",{className:"font-medium",children:[E?"ローカル保存で動作中":"エラー",d.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:["（対象：",h==="company"?"会社共有設定":"ユーザー上書き","）"]})]}),w&&d.jsx("p",{className:"text-sm mt-1",children:w})]}),d.jsxs("div",{className:"bg-white text-gray-900 p-4 rounded shadow",children:[d.jsxs("label",{className:"block mb-2 font-semibold text-gray-900",children:["通知設定 ",d.jsx("span",{className:"ml-2 text-xs text-black",children:"- Notifications -"})]}),d.jsxs("select",{disabled:O,className:"border border-gray-300 rounded p-2 w-full bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:h==="company"?o.notificationSetting:a.notificationSetting??c.notificationSetting,onChange:V=>H({notificationSetting:V.target.value}),children:[d.jsx("option",{value:"全員に通知",children:"全員に通知"}),d.jsx("option",{value:"管理者のみ",children:"管理者のみ"}),d.jsx("option",{value:"通知しない",children:"通知しない"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"表示は適用結果（会社＋自分）の値、保存は現在のスコープに入ります。"})]}),d.jsxs("div",{className:"bg-white text-gray-900 p-4 rounded shadow",children:[d.jsxs("h2",{className:"text-lg font-semibold mb-2",children:["🧩 対応タスクリスト・テンプレ設定",d.jsx("span",{className:"ml-2 text-xs text-black",children:"- Task Templates -"})]}),d.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"画面の一覧は「適用結果（会社＋自分）」です。追加・編集・並び替え・削除は現在のスコープに対して行われます。"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full table-auto border border-gray-300 text-sm text-gray-900",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 text-gray-900",children:[d.jsx("th",{className:"px-2 py-2 border w-16",children:"有効"}),d.jsx("th",{className:"px-2 py-2 border",children:"タスク名"}),d.jsx("th",{className:"px-2 py-2 border w-28",children:"法令タグ"}),d.jsx("th",{className:"px-2 py-2 border w-28",children:"既定担当"}),d.jsx("th",{className:"px-2 py-2 border w-28",children:"期限(日)"}),d.jsx("th",{className:"px-2 py-2 border w-28",children:"並び替え"}),d.jsx("th",{className:"px-2 py-2 border w-16",children:"削除"})]})}),d.jsxs("tbody",{children:[c.taskTemplates.map(V=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-2 py-2 border text-center",children:d.jsx("input",{type:"checkbox",disabled:O,checked:!!V.active,onChange:()=>D(V.id),title:h==="company"?"会社共有の有効フラグを切替":"自分の上書きとして有効フラグを切替"})}),d.jsx("td",{className:"px-2 py-2 border",children:V.label}),d.jsx("td",{className:"px-2 py-2 border",children:V.lawTag||"-"}),d.jsx("td",{className:"px-2 py-2 border",children:V.defaultOwner||"-"}),d.jsx("td",{className:"px-2 py-2 border text-right",children:V.defaultDueDays??"-"}),d.jsx("td",{className:"px-2 py-2 border text-center",children:d.jsxs("div",{className:"inline-flex gap-2",children:[d.jsx("button",{disabled:O,className:"px-2 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",onClick:()=>W(V.id,-1),title:"上へ",children:"↑"}),d.jsx("button",{disabled:O,className:"px-2 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",onClick:()=>W(V.id,1),title:"下へ",children:"↓"})]})}),d.jsx("td",{className:"px-2 py-2 border text-center",children:d.jsx("button",{disabled:O,className:"text-red-600 hover:text-red-800",onClick:()=>T(V.id),title:h==="company"?"会社共有から削除":"自分の上書きから削除",children:d.jsx(pE,{size:16})})})]},V.id)),c.taskTemplates.length===0&&d.jsx("tr",{children:d.jsx("td",{className:"px-2 py-4 border text-center text-gray-500",colSpan:7,children:"テンプレはまだありません"})})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mt-3",children:[d.jsx("input",{disabled:O,className:"border border-gray-300 rounded px-3 py-2 md:col-span-2 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"タスク名（必須）",value:M.label||"",onChange:V=>k(q=>({...q,label:V.target.value}))}),d.jsx("input",{disabled:O,className:"border rounded px-3 py-2",placeholder:"法令タグ 例: 改善基準",value:M.lawTag||"",onChange:V=>k(q=>({...q,lawTag:V.target.value}))}),d.jsx("input",{disabled:O,className:"border rounded px-3 py-2",placeholder:"既定担当 例: 運行管理",value:M.defaultOwner||"",onChange:V=>k(q=>({...q,defaultOwner:V.target.value}))}),d.jsx("input",{disabled:O,type:"number",className:"border rounded px-3 py-2",placeholder:"期限(日) 例: 30",value:String(M.defaultDueDays??30),onChange:V=>k(q=>({...q,defaultDueDays:Number(V.target.value||30)}))}),d.jsxs("button",{disabled:O,onClick:()=>j(M),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 inline-flex items-center justify-center disabled:opacity-50",title:h==="company"?"会社共有に追加":"自分の上書きに追加",children:[d.jsx(Gk,{size:16,className:"mr-1"})," 追加"]})]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsx(y0,{title:"📝 ドライバー情報のカスタム項目",en:"- Driver custom fields -",placeholder:"例：生年月日",items:c.driverCustomFields,onAdd:V=>{if(h==="company"){const q=Array.from(new Set([...o.driverCustomFields||[],V]));H({driverCustomFields:q})}else{const q=Array.from(new Set([...a.driverCustomFields||[],V]));H({driverCustomFields:q})}},onDelete:V=>{H(h==="company"?{driverCustomFields:(o.driverCustomFields||[]).filter(q=>q!==V)}:{driverCustomFields:(a.driverCustomFields||[]).filter(q=>q!==V)})},readOnly:O}),d.jsx(y0,{title:"🧑‍💼 管理者情報のカスタム項目",en:"- Admin custom fields -",placeholder:"例：得意分野",items:c.adminCustomFields,onAdd:V=>{if(h==="company"){const q=Array.from(new Set([...o.adminCustomFields||[],V]));H({adminCustomFields:q})}else{const q=Array.from(new Set([...a.adminCustomFields||[],V]));H({adminCustomFields:q})}},onDelete:V=>{H(h==="company"?{adminCustomFields:(o.adminCustomFields||[]).filter(q=>q!==V)}:{adminCustomFields:(a.adminCustomFields||[]).filter(q=>q!==V)})},readOnly:O}),d.jsx(y0,{title:"🚗 車両情報のカスタム項目",en:"- Vehicle custom fields -",placeholder:"例：車種",items:c.vehicleCustomFields,onAdd:V=>{if(h==="company"){const q=Array.from(new Set([...o.vehicleCustomFields||[],V]));H({vehicleCustomFields:q})}else{const q=Array.from(new Set([...a.vehicleCustomFields||[],V]));H({vehicleCustomFields:q})}},onDelete:V=>{H(h==="company"?{vehicleCustomFields:(o.vehicleCustomFields||[]).filter(q=>q!==V)}:{vehicleCustomFields:(a.vehicleCustomFields||[]).filter(q=>q!==V)})},readOnly:O}),d.jsx(y0,{title:"📦 案件情報のカスタム項目",en:"- Project custom fields -",placeholder:"例：荷物サイズ",items:c.projectCustomFields,onAdd:V=>{if(h==="company"){const q=Array.from(new Set([...o.projectCustomFields||[],V]));H({projectCustomFields:q})}else{const q=Array.from(new Set([...a.projectCustomFields||[],V]));H({projectCustomFields:q})}},onDelete:V=>{H(h==="company"?{projectCustomFields:(o.projectCustomFields||[]).filter(q=>q!==V)}:{projectCustomFields:(a.projectCustomFields||[]).filter(q=>q!==V)})},readOnly:O})]})]})}function y0(t){const{title:e,en:n,items:r,placeholder:i,onAdd:s,onDelete:o,readOnly:l}=t,[a,u]=Y.useState("");return d.jsxs("div",{className:"bg-white text-gray-900 p-4 rounded shadow",children:[d.jsxs("h2",{className:"text-lg font-semibold mb-2",children:[e," ",d.jsx("span",{className:"ml-2 text-xs text-black",children:n})]}),d.jsxs("ul",{className:"space-y-2 mb-4",children:[r.length===0&&d.jsx("li",{className:"text-gray-500",children:"項目はまだありません"}),r.map((c,h)=>d.jsxs("li",{className:"flex justify-between items-center border-b pb-1",children:[d.jsx("span",{children:c}),d.jsx("button",{disabled:l,className:"text-red-500 text-sm hover:underline disabled:opacity-50",onClick:()=>o(c),children:"削除"})]},h))]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{disabled:l,type:"text",value:a,onChange:c=>u(c.target.value),placeholder:i,className:"border border-gray-300 px-3 py-2 rounded w-full bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("button",{disabled:l,onClick:()=>{a.trim()&&(s(a.trim()),u(""))},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:"追加"})]})]})}var fF,pF,mF,gF;const _E=((pF=(fF=typeof process<"u"?process:void 0)==null?void 0:fF.env)==null?void 0:pF.NEXT_PUBLIC_API_BASE)||((gF=(mF=typeof import.meta<"u"?import.meta:void 0)==null?void 0:mF.env)==null?void 0:gF.VITE_API_BASE_URL)||"";if(typeof window<"u"&&!_E)throw new Error("NEXT_PUBLIC_API_BASE / VITE_API_BASE_URL が本番で未設定です");function $X(t,e){if(!t)return e;const n=t.replace(/\/+$/,""),r=e.replace(/^\/+/,"");return`${n}/${r}`}async function Th(t,e){const n=$X(_E,t),r=await fetch(n,{credentials:"include",headers:{Accept:"application/json",...(e==null?void 0:e.headers)||{}},...e});if(!r.ok){const s=await r.text().catch(()=>""),o=new Error(`HTTP ${r.status} at ${n}
${s.slice(0,200)}`);throw o.status=r.status,o}const i=r.headers.get("content-type")||"";if(!i.includes("application/json")){const s=await r.text().catch(()=>""),o=new Error(`Expected JSON but got "${i||"unknown"}" from ${n}
`+s.slice(0,200));throw o.status=415,o}return r.json()}async function pp(t){var n,r;const e=await((r=(n=Bn().currentUser)==null?void 0:n.getIdToken)==null?void 0:r.call(n));return{...t||{},headers:{...(t==null?void 0:t.headers)||{},...e?{Authorization:`Bearer ${e}`}:{}}}}const Fu={list:async(t,e)=>Th(`/api/admins?company=${encodeURIComponent(t)}`,await pp(e)),create:async t=>{try{return await Th("/api/admins",await pp({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}))}catch(e){throw e}},update:async(t,e)=>Th(`/api/admins/${t}`,await pp({method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),remove:async t=>Th(`/api/admins/${t}`,await pp({method:"DELETE"}))};async function GX(){var n,r,i,s,o;try{const l=await((r=(n=Bn().currentUser)==null?void 0:n.getIdTokenResult)==null?void 0:r.call(n,!0)),a=(i=l==null?void 0:l.claims)==null?void 0:i.company;if(a)return String(a).trim()}catch{}try{const l=JSON.parse(localStorage.getItem("loggedInAdmin")||"{}");if(l!=null&&l.company)return String(l.company).trim()}catch{}const t=(localStorage.getItem("company")||"").trim();if(t)return t;const e=new URLSearchParams(window.location.search).get("company");if(e)return e.trim();try{const l=await((o=(s=Bn().currentUser)==null?void 0:s.getIdToken)==null?void 0:o.call(s)),a=await Th("/api/me",{headers:l?{Authorization:`Bearer ${l}`}:{}}).catch(()=>null);if(a!=null&&a.company)return String(a.company).trim()}catch{}return""}const WX=t=>{const e=t.map(s=>s.loginId);let n=1;for(;;){const s=`admin${String(n).padStart(4,"0")}`;if(!e.includes(s))break;n++}const r=`admin${String(n).padStart(4,"0")}`,i=Math.random().toString(36).slice(-8);return{loginId:r,password:i}},qX=async(t,e,n)=>Th("/api/admins/provision",await pp({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:t,loginId:e,password:n})}));function JX({att:t}){const e=Sn.useMemo(()=>{var n;try{const[r,i]=(t.dataUrl||"").split(","),s=((n=r==null?void 0:r.split(":")[1])==null?void 0:n.split(";")[0])||"application/octet-stream",o=atob(i||""),l=new Uint8Array(o.length);for(let a=0;a<o.length;a++)l[a]=o.charCodeAt(a);return URL.createObjectURL(new Blob([l],{type:s}))}catch{return""}},[t.dataUrl]);return Sn.useEffect(()=>()=>{e&&URL.revokeObjectURL(e)},[e]),e?d.jsx("a",{href:e,download:t.name,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline hover:text-blue-800",children:t.name}):null}const YX=()=>{const t=k=>`adminMaster_${k||"unknown"}`,[e,n]=Y.useState(""),[r,i]=Y.useState([]),[s,o]=Y.useState(!1),[l,a]=Y.useState(null),[u,c]=Y.useState([]),h=Y.useMemo(()=>({id:-1,company:"",contactPerson:"",phone:"",uid:"",loginId:"",attachments:[]}),[]),[p,m]=Y.useState(h);Y.useEffect(()=>{(async()=>{const N=await GX();n(N),N&&localStorage.setItem("company",N)})();const k=localStorage.getItem("adminCustomFields");k&&c(JSON.parse(k))},[]),Y.useEffect(()=>{if(!e)return;try{const N=localStorage.getItem("adminMaster"),S=t(e),O=localStorage.getItem(S);if(N&&!O){const H=JSON.parse(N),j=Array.isArray(H)?H.filter(T=>(T==null?void 0:T.company)===e):[];j.length&&(localStorage.setItem(S,JSON.stringify(j)),console.info(`[migrate] moved ${j.length} admins to ${S}`))}}catch(N){console.warn("adminMaster migration skipped:",N)}const k=new AbortController;return(async()=>{try{const N=await Fu.list(e,{signal:k.signal});k.signal.aborted||i(N??[])}catch(N){const S=(N==null?void 0:N.status)??0;if([0,401,403,404,415,500,502,503].includes(S)){const O=k.signal.aborted?null:localStorage.getItem(t(e));k.signal.aborted||i(O?JSON.parse(O):[])}else if(!k.signal.aborted)throw N}})(),()=>k.abort()},[e]);const b=k=>{localStorage.setItem(t(e),JSON.stringify(k)),i(k)},_=async()=>{var j;if(!e){alert("会社が未確定です。ログインまたは URL の ?company=… を確認してください。");return}const{loginId:k}=WX(r);let N=k,S="",O="",H=0;try{for(;H<5;){S=Math.random().toString(36).slice(-8);try{O=(await qX(e,N,S)).uid;break}catch(D){if((D==null?void 0:D.status)===409){const W=N.match(/^admin(\d{4})$/);N=`admin${W?String(Number(W[1])+1).padStart(4,"0"):"0001"}`,H++;continue}throw D}}if(!O){alert("ログインIDの重複で作成できませんでした。もう一度お試しください。");return}await Fu.create({company:e,contactPerson:p.contactPerson||"",phone:p.phone||"",uid:O,loginId:N,attachments:p.attachments||[],...u.reduce((D,W)=>(D[W]=p[W]??"",D),{})});const T=await Fu.list(e);i(T??[]);try{await navigator.clipboard.writeText(`loginId: ${N}
password: ${S}`)}catch{}alert(`✅ 管理者を追加しました（会社: ${e}）
ログイン情報をクリップボードにコピーしました。`),m(h),o(!1)}catch(T){const D=(T==null?void 0:T.status)??0;if([0,401,403,404,415,500,502,503].includes(D)){const W=[...r,{...p,id:Date.now(),company:e,uid:p.uid||`local-${((j=crypto==null?void 0:crypto.randomUUID)==null?void 0:j.call(crypto))||Date.now()}`,loginId:N}];b(W),alert(`（ローカルに）管理者を追加しました。
ログインID: ${N}
初回パスワード: ${S}
※ API 実装後はサーバ保存に切り替わります。`),m(h),o(!1)}else console.error(T),alert(`追加に失敗しました。権限・ネットワーク・API設定を確認してください。
API_BASE=${_E||"(relative)"}`)}},C=async()=>{if(l!=null)try{await Fu.update(l,{contactPerson:p.contactPerson,phone:p.phone,attachments:p.attachments,...u.reduce((N,S)=>(N[S]=p[S]??"",N),{})});const k=await Fu.list(e);i(k??[]),a(null),m(h)}catch(k){const N=(k==null?void 0:k.status)??0;if([0,401,403,404,415,500,502,503].includes(N)){const S=r.map(O=>O.id===l?{...p,company:e}:O);b(S),a(null),m(h)}else console.error(k),alert("保存に失敗しました。")}},w=async k=>{if(window.confirm("本当に削除しますか？"))try{await Fu.remove(k);const N=await Fu.list(e);i(N??[])}catch(N){const S=(N==null?void 0:N.status)??0;if([0,401,403,404,415,500,502,503].includes(S)){const O=r.filter(H=>H.id!==k);b(O),alert("（ローカル上で）削除しました。API接続時はサーバ側でも削除されます。")}else console.error(N),alert("削除に失敗しました。")}},y=async k=>{if(!k.target.files)return;const N=Array.from(k.target.files).slice(0,10).filter(O=>{const H=/^(image\/|application\/pdf)/.test(O.type),j=O.size<=10*1024*1024;return H&&j}),S=await Promise.all(N.map(O=>new Promise(H=>{const j=new FileReader;j.onload=()=>H({name:O.name,dataUrl:j.result}),j.readAsDataURL(O)})));m({...p,attachments:S})},E=k=>{const N=p.attachments.filter((S,O)=>O!==k);m({...p,attachments:N})},F=k=>{m({...k}),a(k.id)},M=k=>{var S;const N=l===k.id;return d.jsxs("tr",{className:"group text-center bg-white hover:bg-emerald-50 transition-colors",children:[d.jsx("td",{className:"sm:sticky sm:left-0 z-[1] bg-white border-r border-slate-200 px-3 py-2 w-36 shadow-[1px_0_0_0_rgba(226,232,240,1)]",children:N?d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{className:"bg-emerald-600 text-white px-3 py-1 rounded-md text-xs hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400",onClick:C,children:"保存"}),d.jsx("button",{className:"bg-slate-400 text-white px-3 py-1 rounded-md text-xs hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-300",onClick:()=>{a(null),m(h)},children:"ｷｬﾝｾﾙ"})]}):d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{className:"bg-blue-600 text-white px-3 py-2 rounded-md text-sm sm:text-xs hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300",onClick:()=>F(k),children:"編集"}),d.jsx("button",{className:"bg-rose-600 text-white px-3 py-1 rounded-md text-xs hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-300",onClick:()=>w(k.id),children:"削除"})]})}),d.jsx("td",{className:"px-4 py-2 text-slate-800",children:k.company}),d.jsx("td",{className:"px-4 py-2",children:N?d.jsx("input",{className:"w-full border border-slate-300 rounded-md px-2 py-1 text-slate-800 focus:outline-none focus:ring-2 focus:ring-emerald-400",value:p.contactPerson,onChange:O=>m({...p,contactPerson:O.target.value})}):d.jsx("span",{className:"text-slate-900",children:k.contactPerson})}),d.jsx("td",{className:"px-4 py-2",children:N?d.jsx("input",{className:"w-full border border-slate-300 rounded-md px-2 py-1 text-slate-800 focus:outline-none focus:ring-2 focus:ring-emerald-400",value:p.phone,onChange:O=>m({...p,phone:O.target.value})}):d.jsx("span",{className:"text-slate-900",children:k.phone})}),d.jsx("td",{className:"px-4 py-2",children:d.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-300 bg-slate-100 px-2 py-0.5 text-xs font-medium text-slate-700",children:k.uid})}),d.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[d.jsx("span",{title:k.loginId,className:"inline-flex items-center rounded-full border border-indigo-300 bg-indigo-50 px-2 py-0.5 text-xs font-medium text-indigo-700 font-mono tracking-wide select-all",children:k.loginId}),d.jsx("button",{onClick:()=>navigator.clipboard.writeText(k.loginId),className:"ml-2 align-middle text-[11px] underline text-indigo-700 hover:text-indigo-800 focus:outline-none focus:ring-2 focus:ring-indigo-300 rounded-sm px-1","aria-label":"ログインIDをコピー",type:"button",children:"コピー"})]}),d.jsx("td",{className:"px-4 py-2",children:d.jsx("span",{className:"tracking-widest text-slate-500",children:"••••••"})}),u.map((O,H)=>d.jsx("td",{className:"px-4 py-2",children:N?d.jsx("input",{className:"w-full border border-slate-300 rounded-md px-2 py-1 text-slate-800 focus:outline-none focus:ring-2 focus:ring-emerald-400",value:p[O]||"",onChange:j=>m({...p,[O]:j.target.value})}):d.jsx("span",{className:"text-slate-900",children:k[O]||""})},H)),d.jsx("td",{className:"px-4 py-2 text-left",children:N?d.jsxs("div",{children:[d.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",onChange:y,className:"mb-2 block text-sm text-slate-700"}),d.jsx("ul",{className:"text-xs space-y-1",children:p.attachments.map((O,H)=>d.jsxs("li",{className:"flex items-center justify-between",children:[d.jsx("a",{href:O.dataUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline hover:text-blue-800",children:O.name}),d.jsx("button",{onClick:()=>E(H),className:"text-rose-600 hover:text-rose-700 ml-2",children:"削除"})]},H))})]}):d.jsx("ul",{className:"text-xs space-y-1",children:(S=k.attachments)==null?void 0:S.map((O,H)=>d.jsx("li",{children:d.jsx(JX,{att:O})},H))})})]},k.id)};return d.jsxs("div",{className:"p-6 font-sans",children:[d.jsxs("h1",{className:"text-2xl font-bold mb-4 text-white",children:["👤 ",d.jsx("span",{className:"align-middle",children:"管理者管理"}),d.jsx("span",{className:"ml-2 text-sm text-white/70",children:"- AdminManager -"})]}),d.jsx("button",{className:"mb-4 bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300",onClick:()=>{m({...h,company:e}),o(!0)},children:"＋ ユーザー追加"}),d.jsxs("div",{className:"overflow-x-auto rounded-2xl border border-slate-200 bg-white shadow-sm relative [-webkit-overflow-scrolling:touch]",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-slate-200 bg-gradient-to-r from-emerald-50 to-teal-50",children:[d.jsx("span",{className:"text-xs text-slate-600",children:"テーブルは横スクロール対応 / 操作列は左固定"}),d.jsxs("span",{className:"text-xs text-slate-500",children:["合計: ",d.jsx("span",{className:"font-semibold text-slate-700",children:r.length})," 件"]})]}),d.jsxs("table",{className:"min-w-[900px] sm:min-w-full text-sm",children:[d.jsx("thead",{className:"sticky top-0 z-[2] bg-slate-50/95 backdrop-blur supports-[backdrop-filter]:bg-slate-50/80",children:d.jsxs("tr",{className:"text-left text-slate-700",children:[d.jsx("th",{className:"sticky left-0 z-[3] bg-slate-50/95 px-3 py-3 w-36 font-semibold border-r border-slate-200",children:"操作"}),d.jsx("th",{className:"px-4 py-3 font-semibold",children:"会社名"}),d.jsx("th",{className:"px-4 py-3 font-semibold",children:"担当者"}),d.jsx("th",{className:"px-4 py-3 font-semibold",children:"電話番号"}),d.jsx("th",{className:"px-4 py-3 font-semibold",children:"UID"}),d.jsx("th",{className:"px-4 py-3 font-semibold",children:"ログインID"}),d.jsx("th",{className:"px-4 py-3 font-semibold",children:"パスワード（非表示）"}),u.map((k,N)=>d.jsx("th",{className:"px-4 py-3 font-semibold",children:k},N)),d.jsx("th",{className:"px-4 py-3 font-semibold",children:"添付ファイル"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r.map(M),s&&d.jsxs("tr",{className:"text-center bg-yellow-50",children:[d.jsx("td",{className:"sticky left-0 z-[1] bg-yellow-50 px-3 py-2 w-36 border-r border-slate-200",children:"追加中"}),d.jsx("td",{className:"px-4 py-2",children:d.jsx("span",{className:"text-slate-800",children:e||"—"})}),d.jsx("td",{className:"px-4 py-2",children:d.jsx("input",{className:"w-full border border-slate-300 rounded-md px-2 py-1 text-slate-800 focus:outline-none focus:ring-2 focus:ring-emerald-400",value:p.contactPerson,onChange:k=>m({...p,contactPerson:k.target.value})})}),d.jsx("td",{className:"px-4 py-2",children:d.jsx("input",{className:"w-full border border-slate-300 rounded-md px-2 py-1 text-slate-800 focus:outline-none focus:ring-2 focus:ring-emerald-400",value:p.phone,onChange:k=>m({...p,phone:k.target.value})})}),d.jsx("td",{className:"px-4 py-2 text-slate-500",children:"作成時に自動設定"}),d.jsx("td",{className:"px-4 py-2 text-slate-500",children:"自動発行"}),d.jsx("td",{className:"px-4 py-2 text-slate-500",children:"自動発行"}),u.map((k,N)=>d.jsx("td",{className:"px-4 py-2",children:d.jsx("input",{className:"w-full border border-slate-300 rounded-md px-2 py-1 text-slate-800 focus:outline-none focus:ring-2 focus:ring-emerald-400",value:p[k]||"",onChange:S=>m({...p,[k]:S.target.value})})},N)),d.jsxs("td",{className:"px-4 py-2",children:[d.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",onChange:y,className:"mb-2 block text-sm text-slate-700"}),d.jsx("ul",{className:"text-xs space-y-1",children:p.attachments.map((k,N)=>d.jsxs("li",{className:"flex justify-between",children:[d.jsx("a",{href:k.dataUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline hover:text-blue-800",children:k.name}),d.jsx("button",{onClick:()=>E(N),className:"text-rose-600 hover:text-rose-700 ml-2",children:"削除"})]},N))})]})]})]})]})]}),s&&d.jsxs("div",{className:"mt-4 flex gap-4",children:[d.jsx("button",{onClick:_,className:"bg-emerald-600 text-white px-4 py-2 rounded-md shadow hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400",children:"追加"}),d.jsx("button",{onClick:()=>{o(!1),m(h)},className:"bg-slate-400 text-white px-4 py-2 rounded-md shadow hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-300",children:"キャンセル"})]})]})},XX=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState(""),[i,s]=Y.useState(""),o=()=>{if(n!==i){alert("新しいパスワードが一致しません。");return}const l=localStorage.getItem("loggedInAdmin");if(!l){alert("ログイン情報が取得できません。");return}const a=JSON.parse(l);if(t!==a.password){alert("現在のパスワードが正しくありません。");return}a.password=n,localStorage.setItem("loggedInAdmin",JSON.stringify(a)),alert("パスワードが変更されました"),e(""),r(""),s("")};return d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"🔐 パスワード変更"}),d.jsxs("div",{className:"space-y-4 max-w-md",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-medium",children:"現在のパスワード"}),d.jsx("input",{type:"password",value:t,onChange:l=>e(l.target.value),className:"w-full border px-3 py-2 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-medium",children:"新しいパスワード"}),d.jsx("input",{type:"password",value:n,onChange:l=>r(l.target.value),className:"w-full border px-3 py-2 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-medium",children:"新しいパスワード（確認）"}),d.jsx("input",{type:"password",value:i,onChange:l=>s(l.target.value),className:"w-full border px-3 py-2 rounded"})]}),d.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"パスワードを変更する"})]})]})};function ZX(){const[t,e]=Y.useState("security");return d.jsxs("div",{className:"p-6 font-sans text-white-900",children:[d.jsxs("h2",{className:"text-2xl font-bold mb-4 text-white-800",children:["🛡️ セキュリティ・契約",d.jsx("span",{className:"ml-2 text-sm text-white-700",children:"- Security & Contracts -"})]}),d.jsxs("div",{className:"flex gap-4 mb-4",children:[d.jsx("button",{className:`px-4 py-2 rounded border ${t==="security"?"bg-green-700 text-white border-green-700 shadow":"bg-gray-100 text-gray-900 border-gray-300 hover:bg-gray-200"} focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500`,onClick:()=>e("security"),children:"🔐 セキュリティ設定"}),d.jsx("button",{className:`px-4 py-2 rounded border ${t==="contract"?"bg-green-700 text-white border-green-700 shadow":"bg-gray-100 text-gray-900 border-gray-300 hover:bg-gray-200"} focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500`,onClick:()=>e("contract"),children:"📄 特約管理"})]}),t==="security"?d.jsx(eZ,{}):d.jsx(tZ,{})]})}function eZ(){const[t,e]=Y.useState(!1),[n,r]=Y.useState([""]),i=[{time:"2025-07-10 09:12",ip:"192.168.0.2",action:"ログイン成功"},{time:"2025-07-10 12:33",ip:"192.168.0.3",action:"パスワード変更"}];return d.jsxs("div",{className:"space-y-6 bg-white text-gray-900 rounded-xl shadow p-5",children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:t,onChange:s=>e(s.target.checked),className:"accent-blue-600"}),d.jsx("span",{children:"2段階認証を有効にする"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:" 🗂️ アクセスログ"}),d.jsxs("table",{className:"table-auto border border-gray-300 w-full text-sm text-gray-900",children:[d.jsx("thead",{className:"bg-gray-100 text-gray-900 font-semibold",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border px-2 py-1",children:"日時"}),d.jsx("th",{className:"border px-2 py-1",children:"IPアドレス"}),d.jsx("th",{className:"border px-2 py-1",children:"操作"})]})}),d.jsx("tbody",{className:"[&>tr:nth-child(even)]:bg-gray-50",children:i.map((s,o)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-2 py-1",children:s.time}),d.jsx("td",{className:"border px-2 py-1",children:s.ip}),d.jsx("td",{className:"border px-2 py-1",children:s.action})]},o))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🌐 許可IPアドレス"}),n.map((s,o)=>d.jsx("input",{value:s,onChange:l=>{const a=[...n];a[o]=l.target.value,r(a)},placeholder:"例: 192.168.1.1",className:"border border-gray-300 px-3 py-2 mb-2 w-full bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},o)),d.jsx("button",{className:"mt-1 inline-flex items-center gap-1 px-3 py-1.5 rounded bg-gray-100 hover:bg-gray-200 text-sm text-gray-900 border border-gray-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",onClick:()=>r([...n,""]),children:"+ IPを追加"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔑 パスワードポリシー"}),d.jsxs("ul",{className:"list-disc ml-6 text-sm text-gray-700",children:[d.jsx("li",{children:"8文字以上"}),d.jsx("li",{children:"英大文字を含む"}),d.jsx("li",{children:"記号を含む"})]})]})]})}function tZ(){const t="securityContracts",[e,n]=Y.useState(()=>{const h=localStorage.getItem(t);return h?JSON.parse(h):[{name:"基本契約書",partner:"A社",date:"2025-04-01",file:"",fileName:"",editing:!1},{name:"委託契約書",partner:"B社",date:"2025-06-15",file:"",fileName:"",editing:!1}]}),[r,i]=Y.useState(!1),[s,o]=Y.useState(!1),l=h=>{localStorage.setItem(t,JSON.stringify(h))},a=(h,p,m)=>{const b=[...e];b[h][p]=m,n(b),l(b)},u=h=>{if(!window.confirm("本当に削除してよろしいですか？"))return;const p=[...e];p.splice(h,1),n(p),l(p)},c=(h,p)=>{const m=URL.createObjectURL(p),b=[...e];b[h].file=m,b[h].fileName=p.name,n(b),l(b)};return d.jsxs("div",{className:"space-y-6 bg-white text-gray-900 rounded-xl shadow p-5",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"📄 契約一覧"}),d.jsxs("table",{className:"table-auto border border-gray-300 w-full text-sm text-gray-900",children:[d.jsx("thead",{className:"bg-gray-100 text-gray-900 font-semibold",children:d.jsxs("tr",{children:[d.jsx("th",{className:"border px-2 py-1",children:"契約名"}),d.jsx("th",{className:"border px-2 py-1",children:"契約先"}),d.jsx("th",{className:"border px-2 py-1",children:"契約日"}),d.jsx("th",{className:"border px-2 py-1",children:"添付"}),d.jsx("th",{className:"border px-2 py-1",children:"操作"})]})}),d.jsx("tbody",{className:"[&>tr:nth-child(even)]:bg-gray-50",children:e.map((h,p)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border px-2 py-1",children:h.editing?d.jsx("input",{value:h.name,onChange:m=>a(p,"name",m.target.value),className:"border border-gray-300 w-full px-2 py-1 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):h.name}),d.jsx("td",{className:"border px-2 py-1",children:h.editing?d.jsx("input",{value:h.partner,onChange:m=>a(p,"partner",m.target.value),className:"border border-gray-300 w-full px-2 py-1 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):h.partner}),d.jsx("td",{className:"border px-2 py-1",children:h.editing?d.jsx("input",{type:"date",value:h.date,onChange:m=>a(p,"date",m.target.value),className:"border border-gray-300 px-2 py-1 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):h.date}),d.jsxs("td",{className:"border px-2 py-1",children:[d.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:`block w-full text-sm text-gray-900
              file:mr-3 file:py-1.5 file:px-3 file:rounded
              file:border-0 file:bg-gray-100 file:text-gray-900
              hover:file:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500`,onChange:m=>{var _;const b=(_=m.target.files)==null?void 0:_[0];b&&c(p,b)}}),h.file&&d.jsxs("div",{className:"mt-1 flex gap-2 items-center",children:[d.jsx("a",{href:h.file,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline hover:text-blue-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:h.fileName||"添付を表示"}),d.jsx("button",{onClick:()=>a(p,"file",""),className:"text-xs text-red-600 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 rounded",children:"削除"})]})]}),d.jsxs("td",{className:"border px-2 py-1",children:[h.editing?d.jsx("button",{className:"text-green-700 text-sm mr-2 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500 rounded",onClick:()=>a(p,"editing",!1),children:"保存"}):d.jsx("button",{className:"text-blue-700 text-sm mr-2 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 rounded",onClick:()=>a(p,"editing",!0),children:"編集"}),d.jsx("button",{className:"text-red-700 text-sm hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 rounded",onClick:()=>u(p),children:"削除"})]})]},p))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",className:"accent-blue-600",checked:r,onChange:h=>i(h.target.checked)}),"NDA提出済み"]}),d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",className:"accent-blue-600",checked:s,onChange:h=>o(h.target.checked)}),"SLA提出済み"]})]})]})}const ad={basic:{adminManager:!0,drivers:!0,vehicles:!0,chat:!1,shift:!0,dailyReport:!1,projects:!1,files:!1,map:!1,payment:!1,todo:!1},advanced:{adminManager:!0,drivers:!0,vehicles:!0,chat:!0,shift:!0,dailyReport:!0,projects:!1,files:!1,map:!1,payment:!1,todo:!1},pro:{adminManager:!0,drivers:!0,vehicles:!0,chat:!0,shift:!0,dailyReport:!0,projects:!0,files:!0,map:!0,payment:!1,todo:!1},elite:{adminManager:!0,drivers:!0,vehicles:!0,chat:!0,shift:!0,dailyReport:!0,projects:!0,files:!0,map:!0,payment:!0,todo:!0},premium:{adminManager:!0,drivers:!0,vehicles:!0,chat:!0,shift:!0,dailyReport:!0,projects:!0,files:!0,map:!0,payment:!0,todo:!0},unlimited:{adminManager:!0,drivers:!0,vehicles:!0,chat:!0,shift:!0,dailyReport:!0,projects:!0,files:!0,map:!0,payment:!0,todo:!0}};var vF;const nZ=typeof process<"u"&&((vF=process.env)!=null&&vF.NEXT_PUBLIC_API_BASE_URL)?String({}.NEXT_PUBLIC_API_BASE_URL).replace(/\/$/,""):"",rZ=t=>`${nZ}${t.startsWith("/")?t:`/${t}`}`,lR={ベーシック:"basic",アドバンス:"advanced",プロ:"pro",エリート:"elite",プレミアム:"premium",アンリミテッド:"unlimited"};function iZ(t){const[e,n]=Y.useState({plan:"basic",features:ad.basic,maxUsers:null});return Y.useEffect(()=>{t&&(async()=>{var s,o;try{const a=await((s=Bn().currentUser)==null?void 0:s.getIdToken()),u=await fetch(rZ(`/api/company/config?company=${encodeURIComponent(t)}`),{credentials:"include",headers:{Authorization:`Bearer ${a||""}`,Accept:"application/json"}});if(u.ok){const c=await u.json(),h=(c==null?void 0:c.planId)||lR[c==null?void 0:c.planName]||iN(t);n({plan:h,features:(c==null?void 0:c.features)??ad[h],maxUsers:sZ((o=c==null?void 0:c.limits)==null?void 0:o.maxUsers)});return}}catch{}const r=iN(t),i=oZ(t);n({plan:r,features:ad[r],maxUsers:i})})()},[t]),e}function sZ(t){return typeof t=="number"&&isFinite(t)?t:null}function iN(t){var e,n;try{const r=JSON.parse(localStorage.getItem("customerMaster")||"[]"),i=Array.isArray(r)?r.find(o=>o.company===t):null;return i&&(((e=i==null?void 0:i.billing)==null?void 0:e.currentPlanId)||((n=i==null?void 0:i.selectedPlans)==null?void 0:n[0])||lR[i==null?void 0:i.plan])||"basic"}catch{return"basic"}}function oZ(t){var e;try{const n=JSON.parse(localStorage.getItem("customerMaster")||"[]"),r=Array.isArray(n)?n.find(s=>s.company===t):null,i=(e=r==null?void 0:r.limits)==null?void 0:e.maxUsers;return typeof i=="number"?i:null}catch{return null}}var yF;const aZ=typeof process<"u"&&((yF=process.env)!=null&&yF.NEXT_PUBLIC_API_BASE_URL)?String({}.NEXT_PUBLIC_API_BASE_URL).replace(/\/$/,""):"",lZ=t=>`${aZ}${t.startsWith("/")?t:`/${t}`}`,xv=[{id:"basic",jp:"ベーシック",en:"Basic",price:9800},{id:"advanced",jp:"アドバンス",en:"Advanced",price:19800},{id:"pro",jp:"プロ",en:"Pro",price:32e3},{id:"elite",jp:"エリート",en:"Elite",price:42e3},{id:"premium",jp:"プレミアム",en:"Premium",price:55e3},{id:"unlimited",jp:"アンリミテッド",en:"Unlimited",price:6e4}],AZ={basic:{header:"from-amber-50 to-amber-100",divider:"border-amber-300",accent:"text-amber-700",ring:"ring-amber-300"},advanced:{header:"from-emerald-50 to-emerald-100",divider:"border-emerald-300",accent:"text-emerald-700",ring:"ring-emerald-300"},pro:{header:"from-sky-50 to-sky-100",divider:"border-sky-300",accent:"text-sky-700",ring:"ring-sky-300"},elite:{header:"from-violet-50 to-violet-100",divider:"border-violet-300",accent:"text-violet-700",ring:"ring-violet-300"},premium:{header:"from-rose-50 to-rose-100",divider:"border-rose-300",accent:"text-rose-700",ring:"ring-rose-300"},unlimited:{header:"from-zinc-50 to-zinc-100",divider:"border-zinc-300",accent:"text-zinc-700",ring:"ring-zinc-300"}},cZ=[{key:"adminManager",label:"管理者管理"},{key:"drivers",label:"ドライバー管理"},{key:"vehicles",label:"車両管理"},{key:"chat",label:"チャット"},{key:"shift",label:"シフト登録"},{key:"dailyReport",label:"日報管理"},{key:"projects",label:"案件一覧"},{key:"files",label:"ファイル管理"},{key:"map",label:"位置情報マップ"},{key:"payment",label:"支払集計"},{key:"todo",label:"法改正対応ToDo"}],uZ=[["basic","advanced","pro"],["elite","premium","unlimited"]],Du=t=>`¥${t.toLocaleString()}`,sN=()=>{const t=new Date,e=t.getFullYear(),n=t.getMonth();return new Date(e,n+1,1,0,0,0,0).toISOString()},oN=()=>{const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1,0,0,0,0).toISOString()};function dZ(){const t=JSON.parse(localStorage.getItem("loggedInAdmin")||"{}"),e=(t==null?void 0:t.company)||"",{plan:n}=iZ(e),[r,i]=Y.useState(0);Y.useEffect(()=>{var u;const a=((u=xv.find(c=>c.id===n))==null?void 0:u.price)??0;i(a)},[n]);const s=async a=>{var b,_;const u=xv.find(C=>C.id===a),c=u.price>r,h=c?oN():sN(),p=c?"/api/billing/upgrade":"/api/billing/downgrade";if(window.confirm(c?`「${u.jp}（${Du(u.price)}）」にアップグレードします。
本日が属する月から適用されます。よろしいですか？`:`「${u.jp}（${Du(u.price)}）」にダウングレードします。
次月から適用されます（今月は現プランのまま）。よろしいですか？`)){try{const w=await((b=Bn().currentUser)==null?void 0:b.getIdToken());await fetch(lZ(p),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w||""}`},body:JSON.stringify({company:e,toPlanId:a,effectiveFrom:h})})}catch{}try{const C=JSON.parse(localStorage.getItem("customerMaster")||"[]"),w=Array.isArray(C)?C.findIndex(y=>y.company===e):-1;if(w>=0){const y=C[w]||{},E=Number.isFinite(o(a))?o(a):null;c?C[w]={...y,selectedPlans:[a],plan:(_=xv.find(F=>F.id===a))==null?void 0:_.jp,features:ad[a],limits:{...y.limits||{},maxUsers:E},billing:{...y.billing||{},currentPlanId:a,currentPrice:u.price,lastChangedAt:new Date().toISOString(),effectiveFrom:oN(),nextPlanId:void 0,nextPrice:void 0,nextEffectiveFrom:void 0}}:C[w]={...y,billing:{...y.billing||{},nextPlanId:a,nextPrice:u.price,nextEffectiveFrom:sN(),lastChangedAt:new Date().toISOString()}},localStorage.setItem("customerMaster",JSON.stringify(C))}}catch{}fZ(c?`プランを「${u.jp}」（${Du(u.price)}）にアップグレードしました（当月から適用）。`:`プランを「${u.jp}」（${Du(u.price)}）に変更予約しました（次月から適用）。`),alert(c?`✅ アップグレード完了：${u.jp}
月額 ${Du(u.price)}（当月から適用）`:`✅ 変更を予約：${u.jp}
月額 ${Du(u.price)}（次月から適用）`),c&&i(u.price)}},o=a=>{switch(a){case"basic":return 10;case"advanced":return 30;case"pro":return 50;case"elite":return 70;case"premium":return 99;case"unlimited":return Number.POSITIVE_INFINITY}},l=()=>d.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($k,{className:"text-emerald-600",size:20}),d.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-wide text-white",children:"プラン変更"})]}),d.jsx("span",{className:"text-sm ml-2 text-white",children:"— Plan Change —"})]});return d.jsxs("div",{className:"mx-auto max-w-6xl text-gray-900",children:[d.jsx(l,{}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"アップグレードは当月から、ダウングレードは次月から適用されます。"}),d.jsx("div",{className:"space-y-6",children:uZ.map((a,u)=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(c=>d.jsx(hZ,{planId:c,currentPlanId:n,onChange:()=>s(c)},c))},u))}),d.jsx("div",{className:"mt-6 text-xs text-gray-500",children:"価格は税込。機能は予告なく変更される場合があります。"})]})}function hZ({planId:t,currentPlanId:e,onChange:n}){const r=xv.find(l=>l.id===t),i=AZ[t],s=e===t,o=Y.useMemo(()=>{const l=ad[t],a=cZ.map(({key:c,label:h})=>({label:h,enabled:l[c]})),u=Math.ceil(a.length/2);return{left:a.slice(0,u),right:a.slice(u)}},[t]);return d.jsxs("div",{className:["h-full rounded-2xl border bg-gradient-to-b from-white to-gray-50","shadow-[0_2px_12px_rgba(0,0,0,0.05)]","hover:shadow-[0_6px_20px_rgba(0,0,0,0.08)]","transition ring-0 hover:ring-2 focus-within:ring-2",i.ring].join(" "),children:[d.jsxs("div",{className:`rounded-t-2xl bg-gradient-to-b ${i.header} p-4 border-b ${i.divider}`,children:[d.jsxs("div",{className:"flex items-baseline justify-between",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:`text-base font-semibold ${i.accent}`,children:r.jp})}),d.jsx("span",{className:"text-xs tracking-wide text-gray-700",children:r.en})]}),d.jsxs("div",{className:"mt-2 flex items-end justify-between",children:[d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("div",{className:"text-2xl font-extrabold text-gray-900",children:Du(r.price)}),d.jsx("div",{className:"text-xs text-gray-600 pb-1",children:"/ 月（税込）"})]}),s&&d.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-200",children:"現在のプラン"})]})]}),d.jsxs("div",{className:`border-t ${i.divider} p-4`,children:[d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 min-h-[220px]",children:[d.jsx(aN,{items:o.left}),d.jsx(aN,{items:o.right})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{onClick:n,disabled:s,className:["h-10 w-full rounded-lg font-semibold transition focus-visible:outline-none",s?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-gray-900 text-white hover:bg-black focus-visible:ring-2 focus-visible:ring-gray-900"].join(" "),children:s?"選択中":"このプランに変更"})})]})]})}function aN({items:t}){return d.jsx("ul",{className:"space-y-2",children:t.map((e,n)=>d.jsxs("li",{className:"flex items-start gap-2",children:[e.enabled?d.jsx(Nh,{size:16,className:"mt-0.5 text-emerald-600 shrink-0"}):d.jsx(hp,{size:16,className:"mt-0.5 text-gray-400 shrink-0"}),d.jsx("span",{className:e.enabled?"text-gray-800":"text-gray-500",children:e.label})]},n))})}function fZ(t){try{const n=[...JSON.parse(localStorage.getItem("adminNotifications")||"[]"),{id:`${Date.now()}-${Math.random()}`,message:t,timestamp:new Date().toLocaleString("ja-JP"),read:!1}];localStorage.setItem("adminNotifications",JSON.stringify(n))}catch{}}function AR({text:t="Anborco",className:e=""}){return d.jsxs("svg",{role:"img","aria-label":t,viewBox:"0 0 600 120",preserveAspectRatio:"xMinYMid meet",className:`block ${e}`,children:[d.jsxs("defs",{children:[d.jsxs("filter",{id:"roughen",x:"-20%",y:"-40%",width:"140%",height:"200%",children:[d.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.015",numOctaves:"2",seed:"2",result:"noise"}),d.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"8",xChannelSelector:"R",yChannelSelector:"G"})]}),d.jsxs("filter",{id:"neon",x:"-60%",y:"-60%",width:"220%",height:"220%",children:[d.jsx("feMorphology",{operator:"dilate",radius:"1",in:"SourceAlpha",result:"thicken"}),d.jsx("feGaussianBlur",{in:"thicken",stdDeviation:"3",result:"blurred"}),d.jsx("feFlood",{floodColor:"#22c55e",floodOpacity:"0.9",result:"color"}),d.jsx("feComposite",{in:"color",in2:"blurred",operator:"in",result:"glow"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"glow"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),d.jsxs("linearGradient",{id:"ink",x1:"0",y1:"0",x2:"1",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),d.jsx("stop",{offset:"100%",stopColor:"#e5e7eb"})]})]}),d.jsxs("g",{filter:"url(#neon)",children:[d.jsx("text",{x:4,y:90,fontSize:88,fontWeight:900,letterSpacing:2,fill:"none",stroke:"#22c55e",strokeWidth:10,style:{filter:"url(#roughen)"},children:t}),d.jsx("text",{x:4,y:90,fontSize:88,fontWeight:900,letterSpacing:2,fill:"url(#ink)",stroke:"#86efac",strokeWidth:2,style:{paintOrder:"stroke",filter:"url(#roughen)",fontFamily:'system-ui,"Hiragino Kaku Gothic ProN","Yu Gothic","Meiryo",sans-serif'},children:t})]})]})}function pZ(){return Y.useMemo(()=>{let t="会社未設定",e="未ログイン";try{const n=JSON.parse(localStorage.getItem("currentUser")||"{}");t=(n==null?void 0:n.company)||t,e=(n==null?void 0:n.name)||e}catch{}return{companyName:t,registrant:e}},[])}function mZ(){const t=fu(),e=pu(),n=t.pathname==="/admin/login",[r,i]=Y.useState(!1),{companyName:s,registrant:o}=pZ();let l=!1;try{const a=JSON.parse(localStorage.getItem("groups")||"[]");Array.isArray(a)&&(l=a.some(u=>u.unreadBy&&u.unreadBy.includes("admin")))}catch(a){console.error("localStorage groups 読み込みエラー:",a)}return Y.useEffect(()=>{i(!1)},[t.pathname]),d.jsxs("div",{className:"relative min-h-screen text-slate-100 overflow-hidden",children:[!n&&d.jsxs(d.Fragment,{children:[d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-[#0b1220] bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950"}),d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-white/[0.06] backdrop-blur-[2px]"}),d.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:[d.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-cyan-500/25 blur-3xl"}),d.jsx("div",{className:"absolute -bottom-24 -right-24 h-80 w-80 rounded-full bg-teal-400/25 blur-3xl"}),d.jsx("div",{className:"absolute left-1/2 top-1/3 h-96 w-96 -translate-x-1/2 rounded-full bg-indigo-500/20 blur-3xl"})]}),d.jsx("div",{"aria-hidden":!0,className:`pointer-events-none fixed top-16 left-0 md:left-[240px] right-0 bottom-0
                       px-3 sm:px-5 lg:px-8 xl:px-12 z-10`,children:d.jsx("div",{className:"h-full w-full rounded-[28px] ring-8 ring-white/35 ring-inset"})})]}),!n&&d.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 h-16 bg-slate-900/70 backdrop-blur border-b border-white/10",children:d.jsxs("div",{className:"h-full w-full flex items-center",children:[d.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[d.jsx(AR,{text:"Anborco",className:"h-10 md:h-11 w-auto"}),d.jsx("button",{className:"inline-flex items-center justify-center rounded-lg p-2 md:hidden hover:bg-white/10","aria-label":"メニュー",onClick:()=>i(!0),children:d.jsx(fE,{size:22})})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-3 sm:gap-4 pr-2",children:[d.jsx("button",{className:"text-white/90 hover:text-yellow-300","aria-label":"通知",children:d.jsx(zk,{size:20})}),d.jsxs("div",{className:"hidden sm:block px-2 py-1 rounded text-xs sm:text-sm font-bold text-white/90 bg-white/10 border border-white/20 max-w-[40vw] truncate",title:`${s} / ${o}`,children:[s," / ",o]}),d.jsx("button",{onClick:()=>{localStorage.removeItem("loggedInAdmin"),localStorage.removeItem("currentUser"),e("/")},className:"text-sm text-white bg-red-500 px-3 sm:px-4 py-1 rounded hover:bg-red-600",children:"ログアウト"})]})]})}),d.jsxs("div",{className:n?"":"pt-16 relative z-20",children:[r&&d.jsx("div",{className:"fixed inset-0 z-30 bg-black/40 md:hidden",onClick:()=>i(!1)}),!n&&d.jsxs("aside",{className:["fixed z-30 top-16 left-0 h-[calc(100vh-64px)] w-[240px] transform transition-transform duration-200","bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-2xl",r?"translate-x-0":"-translate-x-full","md:translate-x-0"].join(" "),children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between px-4 py-3 border-b border-white/10",children:[d.jsx("span",{className:"text-sm font-semibold text-white/80",children:"メニュー"}),d.jsx("button",{className:"inline-flex items-center justify-center rounded-lg p-2 hover:bg-white/10","aria-label":"閉じる",onClick:()=>i(!1),children:d.jsx(mE,{size:18})})]}),d.jsx("div",{id:"admin-sidebar-container",className:"h-[calc(100%-52px)] md:h-full overflow-y-auto",children:d.jsx(TY,{hasUnreadChat:l})})]}),d.jsx("main",{className:[n?"relative":"fixed top-16 left-0 md:left-[240px] right-0 bottom-0 px-3 sm:px-5 lg:px-8 xl:px-12 py-3 z-20"].join(" "),children:n?d.jsx("div",{className:"p-4",children:d.jsx(ef,{children:d.jsx(tn,{path:"*",element:d.jsx(Op,{to:"/admin/login"})})})}):d.jsx("div",{className:"h-[99%] w-[99%] mx-auto my-auto rounded-[24px] border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl overflow-hidden",children:d.jsx("div",{className:"h-full w-full overflow-auto p-4 sm:p-6 md:p-8",children:d.jsxs(ef,{children:[d.jsx(tn,{path:"/",element:d.jsx(Op,{to:"dashboard"})}),d.jsx(tn,{path:"dashboard",element:d.jsx(LY,{})}),d.jsx(tn,{path:"shift-register",element:d.jsx(tY,{})}),d.jsx(tn,{path:"admin-manager",element:d.jsx(YX,{})}),d.jsx(tn,{path:"notifications",element:d.jsx(oY,{})}),d.jsx(tn,{path:"chat",element:d.jsx(Yk,{})}),d.jsx(tn,{path:"daily-report",element:d.jsx(kY,{})}),d.jsx(tn,{path:"drivers",element:d.jsx(zY,{})}),d.jsx(tn,{path:"vehicles",element:d.jsx(JY,{})}),d.jsx(tn,{path:"projects",element:d.jsx(NY,{})}),d.jsx(tn,{path:"map",element:d.jsx(CX,{})}),d.jsx(tn,{path:"files",element:d.jsx(jX,{})}),d.jsx(tn,{path:"driver-payment",element:d.jsx(WJ,{})}),d.jsx(tn,{path:"todo",element:d.jsx(HX,{})}),d.jsx(tn,{path:"system-settings",element:d.jsx(zX,{})}),d.jsx(tn,{path:"password-change",element:d.jsx(XX,{})}),d.jsx(tn,{path:"security",element:d.jsx(ZX,{})}),d.jsx(tn,{path:"plan",element:d.jsx(dZ,{})}),d.jsx(tn,{path:"*",element:d.jsx(Op,{to:"dashboard"})})]})})})})]})]})}function gZ(){return d.jsx(mZ,{})}async function vZ(){try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(n=>n.unregister()))}if("caches"in window){const e=await caches.keys();await Promise.all(e.map(n=>caches.delete(n)))}}catch(e){console.warn("[hardRefreshOnce] cleanup failed",e)}sessionStorage.setItem("__hard_refreshed__","1");const t=new URL(window.location.href);t.pathname="/",t.searchParams.set("__bust",String(Date.now())),window.location.replace(t.toString())}var cR={exports:{}};const yZ=wF(i_);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u_=function(t,e){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},u_(t,e)};function Al(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var d_=function(){return d_=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d_.apply(this,arguments)};function Rs(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})}function ms(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function w0(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var DA=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),q1=function(t,e){return DA.fromClientRect(t,e.getBoundingClientRect())},wZ=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new DA(0,0,r,i)},J1=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Mr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},lN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xZ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var x0=0;x0<lN.length;x0++)xZ[lN.charCodeAt(x0)]=x0;var AN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var b0=0;b0<AN.length;b0++)mp[AN.charCodeAt(b0)]=b0;var bZ=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,l,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)s=mp[t.charCodeAt(r)],o=mp[t.charCodeAt(r+1)],l=mp[t.charCodeAt(r+2)],a=mp[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|l>>2,c[i++]=(l&3)<<6|a&63;return u},_Z=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},BZ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},ld=5,BE=6+5,W2=2,CZ=BE-ld,uR=65536>>ld,EZ=1<<ld,q2=EZ-1,SZ=1024>>ld,IZ=uR+SZ,NZ=IZ,TZ=32,FZ=NZ+TZ,PZ=65536>>BE,LZ=1<<CZ,jZ=LZ-1,cN=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},UZ=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},kZ=function(t,e){var n=bZ(t),r=Array.isArray(n)?BZ(n):new Uint32Array(n),i=Array.isArray(n)?_Z(n):new Uint16Array(n),s=24,o=cN(i,s/2,r[4]/2),l=r[5]===2?cN(i,(s+r[4])/2):UZ(r,Math.ceil((s+r[4])/4));return new RZ(r[0],r[1],r[2],r[3],o,l)},RZ=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>ld],n=(n<<W2)+(e&q2),this.data[n];if(e<=65535)return n=this.index[uR+(e-55296>>ld)],n=(n<<W2)+(e&q2),this.data[n];if(e<this.highStart)return n=FZ-PZ+(e>>BE),n=this.index[n],n+=e>>ld&jZ,n=this.index[n],n=(n<<W2)+(e&q2),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),uN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OZ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _0=0;_0<uN.length;_0++)OZ[uN.charCodeAt(_0)]=_0;var DZ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",dN=50,QZ=1,dR=2,hR=3,MZ=4,HZ=5,hN=7,fR=8,fN=9,Tc=10,h_=11,pN=12,f_=13,VZ=14,gp=15,p_=16,B0=17,Jf=18,KZ=19,mN=20,m_=21,Yf=22,J2=23,eh=24,Uo=25,vp=26,yp=27,th=28,zZ=29,Qu=30,$Z=31,C0=32,E0=33,g_=34,v_=35,y_=36,Mm=37,w_=38,bv=39,_v=40,Y2=41,pR=42,GZ=43,WZ=[9001,65288],mR="!",yn="×",S0="÷",x_=kZ(DZ),dA=[Qu,y_],b_=[QZ,dR,hR,HZ],gR=[Tc,fR],gN=[yp,vp],qZ=b_.concat(gR),vN=[w_,bv,_v,g_,v_],JZ=[gp,f_],YZ=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,o){var l=x_.get(s);if(l>dN?(i.push(!0),l-=dN):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),n.push(p_);if(l===MZ||l===h_){if(o===0)return r.push(o),n.push(Qu);var a=n[o-1];return qZ.indexOf(a)===-1?(r.push(r[o-1]),n.push(a)):(r.push(o),n.push(Qu))}if(r.push(o),l===$Z)return n.push(e==="strict"?m_:Mm);if(l===pR||l===zZ)return n.push(Qu);if(l===GZ)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(Mm):n.push(Qu);n.push(l)}),[r,n,i]},X2=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==Tc)break}if(i===Tc)for(var s=n;s>0;){s--;var l=r[s];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===e)return!0;if(o!==Tc)break}if(l!==Tc)break}return!1},yN=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Tc)n--;else return r}return 0},XZ=function(t,e,n,r,i){if(n[r]===0)return yn;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return yn;var o=s-1,l=s+1,a=e[s],u=o>=0?e[o]:0,c=e[l];if(a===dR&&c===hR)return yn;if(b_.indexOf(a)!==-1)return mR;if(b_.indexOf(c)!==-1||gR.indexOf(c)!==-1)return yn;if(yN(s,e)===fR)return S0;if(x_.get(t[s])===h_||(a===C0||a===E0)&&x_.get(t[l])===h_||a===hN||c===hN||a===fN||[Tc,f_,gp].indexOf(a)===-1&&c===fN||[B0,Jf,KZ,eh,th].indexOf(c)!==-1||yN(s,e)===Yf||X2(J2,Yf,s,e)||X2([B0,Jf],m_,s,e)||X2(pN,pN,s,e))return yn;if(a===Tc)return S0;if(a===J2||c===J2)return yn;if(c===p_||a===p_)return S0;if([f_,gp,m_].indexOf(c)!==-1||a===VZ||u===y_&&JZ.indexOf(a)!==-1||a===th&&c===y_||c===mN||dA.indexOf(c)!==-1&&a===Uo||dA.indexOf(a)!==-1&&c===Uo||a===yp&&[Mm,C0,E0].indexOf(c)!==-1||[Mm,C0,E0].indexOf(a)!==-1&&c===vp||dA.indexOf(a)!==-1&&gN.indexOf(c)!==-1||gN.indexOf(a)!==-1&&dA.indexOf(c)!==-1||[yp,vp].indexOf(a)!==-1&&(c===Uo||[Yf,gp].indexOf(c)!==-1&&e[l+1]===Uo)||[Yf,gp].indexOf(a)!==-1&&c===Uo||a===Uo&&[Uo,th,eh].indexOf(c)!==-1)return yn;if([Uo,th,eh,B0,Jf].indexOf(c)!==-1)for(var h=s;h>=0;){var p=e[h];if(p===Uo)return yn;if([th,eh].indexOf(p)!==-1)h--;else break}if([yp,vp].indexOf(c)!==-1)for(var h=[B0,Jf].indexOf(a)!==-1?o:s;h>=0;){var p=e[h];if(p===Uo)return yn;if([th,eh].indexOf(p)!==-1)h--;else break}if(w_===a&&[w_,bv,g_,v_].indexOf(c)!==-1||[bv,g_].indexOf(a)!==-1&&[bv,_v].indexOf(c)!==-1||[_v,v_].indexOf(a)!==-1&&c===_v||vN.indexOf(a)!==-1&&[mN,vp].indexOf(c)!==-1||vN.indexOf(c)!==-1&&a===yp||dA.indexOf(a)!==-1&&dA.indexOf(c)!==-1||a===eh&&dA.indexOf(c)!==-1||dA.concat(Uo).indexOf(a)!==-1&&c===Yf&&WZ.indexOf(t[l])===-1||dA.concat(Uo).indexOf(c)!==-1&&a===Jf)return yn;if(a===Y2&&c===Y2){for(var m=n[s],b=1;m>0&&(m--,e[m]===Y2);)b++;if(b%2!==0)return yn}return a===C0&&c===E0?yn:S0},ZZ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=YZ(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(l){return[Uo,Qu,pR].indexOf(l)!==-1?Mm:l}));var o=e.wordBreak==="keep-all"?s.map(function(l,a){return l&&t[a]>=19968&&t[a]<=40959}):void 0;return[r,i,o]},eee=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===mR,this.start=r,this.end=i}return t.prototype.slice=function(){return Mr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),tee=function(t,e){var n=J1(t),r=ZZ(n,e),i=r[0],s=r[1],o=r[2],l=n.length,a=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var c=yn;u<l&&(c=XZ(n,s,i,++u,o))===yn;);if(c!==yn||u===l){var h=new eee(n,c,a,u);return a=u,{value:h,done:!1}}return{done:!0,value:null}}}},nee=1,ree=2,gg=4,wN=8,Iy=10,xN=47,Xp=92,iee=9,see=32,I0=34,Xf=61,oee=35,aee=36,lee=37,N0=39,T0=40,Zf=41,Aee=95,io=45,cee=33,uee=60,dee=62,hee=64,fee=91,pee=93,mee=61,gee=123,F0=63,vee=125,bN=124,yee=126,wee=128,_N=65533,Z2=42,Ju=43,xee=44,bee=58,_ee=59,Hm=46,Bee=0,Cee=8,Eee=11,See=14,Iee=31,Nee=127,El=-1,vR=48,yR=97,wR=101,Tee=102,Fee=117,Pee=122,xR=65,bR=69,_R=70,Lee=85,jee=90,vs=function(t){return t>=vR&&t<=57},Uee=function(t){return t>=55296&&t<=57343},nh=function(t){return vs(t)||t>=xR&&t<=_R||t>=yR&&t<=Tee},kee=function(t){return t>=yR&&t<=Pee},Ree=function(t){return t>=xR&&t<=jee},Oee=function(t){return kee(t)||Ree(t)},Dee=function(t){return t>=wee},P0=function(t){return t===Iy||t===iee||t===see},Ny=function(t){return Oee(t)||Dee(t)||t===Aee},BN=function(t){return Ny(t)||vs(t)||t===io},Qee=function(t){return t>=Bee&&t<=Cee||t===Eee||t>=See&&t<=Iee||t===Nee},mc=function(t,e){return t!==Xp?!1:e!==Iy},L0=function(t,e,n){return t===io?Ny(e)||mc(e,n):Ny(t)?!0:!!(t===Xp&&mc(t,e))},ex=function(t,e,n){return t===Ju||t===io?vs(e)?!0:e===Hm&&vs(n):vs(t===Hm?e:t)},Mee=function(t){var e=0,n=1;(t[e]===Ju||t[e]===io)&&(t[e]===io&&(n=-1),e++);for(var r=[];vs(t[e]);)r.push(t[e++]);var i=r.length?parseInt(Mr.apply(void 0,r),10):0;t[e]===Hm&&e++;for(var s=[];vs(t[e]);)s.push(t[e++]);var o=s.length,l=o?parseInt(Mr.apply(void 0,s),10):0;(t[e]===bR||t[e]===wR)&&e++;var a=1;(t[e]===Ju||t[e]===io)&&(t[e]===io&&(a=-1),e++);for(var u=[];vs(t[e]);)u.push(t[e++]);var c=u.length?parseInt(Mr.apply(void 0,u),10):0;return n*(i+l*Math.pow(10,-o))*Math.pow(10,a*c)},Hee={type:2},Vee={type:3},Kee={type:4},zee={type:13},$ee={type:8},Gee={type:21},Wee={type:9},qee={type:10},Jee={type:11},Yee={type:12},Xee={type:14},j0={type:23},Zee={type:1},ete={type:25},tte={type:24},nte={type:26},rte={type:27},ite={type:28},ste={type:29},ote={type:31},__={type:32},BR=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(J1(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==__;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case I0:return this.consumeStringToken(I0);case oee:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(BN(n)||mc(r,i)){var s=L0(n,r,i)?ree:nee,o=this.consumeName();return{type:5,value:o,flags:s}}break;case aee:if(this.peekCodePoint(0)===Xf)return this.consumeCodePoint(),zee;break;case N0:return this.consumeStringToken(N0);case T0:return Hee;case Zf:return Vee;case Z2:if(this.peekCodePoint(0)===Xf)return this.consumeCodePoint(),Xee;break;case Ju:if(ex(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xee:return Kee;case io:var l=e,a=this.peekCodePoint(0),u=this.peekCodePoint(1);if(ex(l,a,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(L0(l,a,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===io&&u===dee)return this.consumeCodePoint(),this.consumeCodePoint(),tte;break;case Hm:if(ex(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xN:if(this.peekCodePoint(0)===Z2)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===Z2&&(c=this.consumeCodePoint(),c===xN))return this.consumeToken();if(c===El)return this.consumeToken()}break;case bee:return nte;case _ee:return rte;case uee:if(this.peekCodePoint(0)===cee&&this.peekCodePoint(1)===io&&this.peekCodePoint(2)===io)return this.consumeCodePoint(),this.consumeCodePoint(),ete;break;case hee:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),m=this.peekCodePoint(2);if(L0(h,p,m)){var o=this.consumeName();return{type:7,value:o}}break;case fee:return ite;case Xp:if(mc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case pee:return ste;case mee:if(this.peekCodePoint(0)===Xf)return this.consumeCodePoint(),$ee;break;case gee:return Jee;case vee:return Yee;case Fee:case Lee:var b=this.peekCodePoint(0),_=this.peekCodePoint(1);return b===Ju&&(nh(_)||_===F0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case bN:if(this.peekCodePoint(0)===Xf)return this.consumeCodePoint(),Wee;if(this.peekCodePoint(0)===bN)return this.consumeCodePoint(),Gee;break;case yee:if(this.peekCodePoint(0)===Xf)return this.consumeCodePoint(),qee;break;case El:return __}return P0(e)?(this.consumeWhiteSpace(),ote):vs(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ny(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Mr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();nh(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===F0&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Mr.apply(void 0,e.map(function(a){return a===F0?vR:a})),16),s=parseInt(Mr.apply(void 0,e.map(function(a){return a===F0?_R:a})),16);return{type:30,start:i,end:s}}var o=parseInt(Mr.apply(void 0,e),16);if(this.peekCodePoint(0)===io&&nh(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];nh(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var s=parseInt(Mr.apply(void 0,l),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===T0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===T0?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===El)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===N0||n===I0){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===El||this.peekCodePoint(0)===Zf)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),j0)}for(;;){var i=this.consumeCodePoint();if(i===El||i===Zf)return{type:22,value:Mr.apply(void 0,e)};if(P0(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===El||this.peekCodePoint(0)===Zf?(this.consumeCodePoint(),{type:22,value:Mr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),j0);if(i===I0||i===N0||i===T0||Qee(i))return this.consumeBadUrlRemnants(),j0;if(i===Xp)if(mc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),j0;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;P0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Zf||e===El)return;mc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=Mr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===El||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===Iy)return this._value.splice(0,r),Zee;if(i===Xp){var s=this._value[r+1];s!==El&&s!==void 0&&(s===Iy?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):mc(i,s)&&(n+=this.consumeStringSlice(r),n+=Mr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=gg,r=this.peekCodePoint(0);for((r===Ju||r===io)&&e.push(this.consumeCodePoint());vs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Hm&&vs(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=wN;vs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===bR||r===wR)&&((i===Ju||i===io)&&vs(s)||vs(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=wN;vs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Mee(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(L0(i,s,o)){var l=this.consumeName();return{type:15,number:n,flags:r,unit:l}}return i===lee?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(nh(e)){for(var n=Mr(e);nh(this.peekCodePoint(0))&&n.length<6;)n+=Mr(this.consumeCodePoint());P0(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Uee(r)||r>1114111?_N:r}return e===El?_N:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(BN(n))e+=Mr(n);else if(mc(n,this.peekCodePoint(0)))e+=Mr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),CR=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new BR;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||lte(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?__:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),vg=function(t){return t.type===15},_f=function(t){return t.type===17},Wn=function(t){return t.type===20},ate=function(t){return t.type===0},B_=function(t,e){return Wn(t)&&t.value===e},ER=function(t){return t.type!==31},af=function(t){return t.type!==31&&t.type!==4},Xl=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},lte=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},lu=function(t){return t.type===17||t.type===15},ti=function(t){return t.type===16||lu(t)},SR=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Yi={type:17,number:0,flags:gg},CE={type:16,number:50,flags:gg},Fc={type:16,number:100,flags:gg},wp=function(t,e,n){var r=t[0],i=t[1];return[ir(r,e),ir(typeof i<"u"?i:r,n)]},ir=function(t,e){if(t.type===16)return t.number/100*e;if(vg(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},IR="deg",NR="grad",TR="rad",FR="turn",Y1={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case IR:return Math.PI*e.number/180;case NR:return Math.PI/200*e.number;case TR:return e.number;case FR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},PR=function(t){return t.type===15&&(t.unit===IR||t.unit===NR||t.unit===TR||t.unit===FR)},LR=function(t){var e=t.filter(Wn).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yi,Yi];case"to top":case"bottom":return ga(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yi,Fc];case"to right":case"left":return ga(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fc,Fc];case"to bottom":case"top":return ga(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fc,Yi];case"to left":case"right":return ga(270)}return 0},ga=function(t){return Math.PI*t/180},Wc={name:"color",parse:function(t,e){if(e.type===18){var n=Ate[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Pc(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return Pc(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Pc(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return Pc(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var l=EA[e.value.toUpperCase()];if(typeof l<"u")return l}return EA.TRANSPARENT}},qc=function(t){return(255&t)===0},Si=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Pc=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},CN=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},EN=function(t,e){var n=e.filter(af);if(n.length===3){var r=n.map(CN),i=r[0],s=r[1],o=r[2];return Pc(i,s,o,1)}if(n.length===4){var l=n.map(CN),i=l[0],s=l[1],o=l[2],a=l[3];return Pc(i,s,o,a)}return 0};function tx(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var SN=function(t,e){var n=e.filter(af),r=n[0],i=n[1],s=n[2],o=n[3],l=(r.type===17?ga(r.number):Y1.parse(t,r))/(Math.PI*2),a=ti(i)?i.number/100:0,u=ti(s)?s.number/100:0,c=typeof o<"u"&&ti(o)?ir(o,1):1;if(a===0)return Pc(u*255,u*255,u*255,1);var h=u<=.5?u*(a+1):u+a-u*a,p=u*2-h,m=tx(p,h,l+1/3),b=tx(p,h,l),_=tx(p,h,l-1/3);return Pc(m*255,b*255,_*255,c)},Ate={hsl:SN,hsla:SN,rgb:EN,rgba:EN},Zp=function(t,e){return Wc.parse(t,CR.create(e).parseComponentValue())},EA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cte={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Wn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ute={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},X1=function(t,e){var n=Wc.parse(t,e[0]),r=e[1];return r&&ti(r)?{color:n,stop:r}:{color:n,stop:null}},IN=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Yi),r.stop===null&&(r.stop=Fc);for(var i=[],s=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var a=ir(l,e);a>s?i.push(a):i.push(s),s=a}else i.push(null)}for(var u=null,o=0;o<i.length;o++){var c=i[o];if(c===null)u===null&&(u=o);else if(u!==null){for(var h=o-u,p=i[u-1],m=(c-p)/(h+1),b=1;b<=h;b++)i[u+b-1]=m*b;u=null}}return t.map(function(_,C){var w=_.color;return{color:w,stop:Math.max(Math.min(1,i[C]/e),0)}})},dte=function(t,e,n){var r=e/2,i=n/2,s=ir(t[0],e)-r,o=i-ir(t[1],n);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},hte=function(t,e,n){var r=typeof t=="number"?t:dte(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,o=n/2,l=i/2,a=Math.sin(r-Math.PI/2)*l,u=Math.cos(r-Math.PI/2)*l;return[i,s-u,s+u,o-a,o+a]},$a=function(t,e){return Math.sqrt(t*t+e*e)},NN=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,l){var a=l[0],u=l[1],c=$a(n-a,r-u);return(i?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:l,optimumDistance:c}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},fte=function(t,e,n,r,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=o=Math.min($a(e,n),$a(e,n-i),$a(e-r,n),$a(e-r,n-i));else if(t.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),a=NN(r,i,e,n,!0),u=a[0],c=a[1];s=$a(u-e,(c-n)/l),o=l*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=o=Math.max($a(e,n),$a(e,n-i),$a(e-r,n),$a(e-r,n-i));else if(t.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=NN(r,i,e,n,!1),u=h[0],c=h[1];s=$a(u-e,(c-n)/l),o=l*s}break}return Array.isArray(t.size)&&(s=ir(t.size[0],r),o=t.size.length===2?ir(t.size[1],i):s),[s,o]},pte=function(t,e){var n=ga(180),r=[];return Xl(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){n=LR(i);return}else if(PR(o)){n=Y1.parse(t,o);return}}var l=X1(t,i);r.push(l)}),{angle:n,stops:r,type:1}},U0=function(t,e){var n=ga(180),r=[];return Xl(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=LR(i);return}else if(PR(o)){n=(Y1.parse(t,o)+ga(270))%ga(360);return}}var l=X1(t,i);r.push(l)}),{angle:n,stops:r,type:1}},mte=function(t,e){var n=ga(180),r=[],i=1,s=0,o=3,l=[];return Xl(e).forEach(function(a,u){var c=a[0];if(u===0){if(Wn(c)&&c.value==="linear"){i=1;return}else if(Wn(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var h=Wc.parse(t,c.values[0]);r.push({stop:Yi,color:h})}else if(c.name==="to"){var h=Wc.parse(t,c.values[0]);r.push({stop:Fc,color:h})}else if(c.name==="color-stop"){var p=c.values.filter(af);if(p.length===2){var h=Wc.parse(t,p[1]),m=p[0];_f(m)&&r.push({stop:{type:16,number:m.number*100,flags:m.flags},color:h})}}}}),i===1?{angle:(n+ga(180))%ga(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:l,type:i}},jR="closest-side",UR="farthest-side",kR="closest-corner",RR="farthest-corner",OR="circle",DR="ellipse",QR="cover",MR="contain",gte=function(t,e){var n=0,r=3,i=[],s=[];return Xl(e).forEach(function(o,l){var a=!0;if(l===0){var u=!1;a=o.reduce(function(h,p){if(u)if(Wn(p))switch(p.value){case"center":return s.push(CE),h;case"top":case"left":return s.push(Yi),h;case"right":case"bottom":return s.push(Fc),h}else(ti(p)||lu(p))&&s.push(p);else if(Wn(p))switch(p.value){case OR:return n=0,!1;case DR:return n=1,!1;case"at":return u=!0,!1;case jR:return r=0,!1;case QR:case UR:return r=1,!1;case MR:case kR:return r=2,!1;case RR:return r=3,!1}else if(lu(p)||ti(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return h},a)}if(a){var c=X1(t,o);i.push(c)}}),{size:r,shape:n,stops:i,position:s,type:2}},k0=function(t,e){var n=0,r=3,i=[],s=[];return Xl(e).forEach(function(o,l){var a=!0;if(l===0?a=o.reduce(function(c,h){if(Wn(h))switch(h.value){case"center":return s.push(CE),!1;case"top":case"left":return s.push(Yi),!1;case"right":case"bottom":return s.push(Fc),!1}else if(ti(h)||lu(h))return s.push(h),!1;return c},a):l===1&&(a=o.reduce(function(c,h){if(Wn(h))switch(h.value){case OR:return n=0,!1;case DR:return n=1,!1;case MR:case jR:return r=0,!1;case UR:return r=1,!1;case kR:return r=2,!1;case QR:case RR:return r=3,!1}else if(lu(h)||ti(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return c},a)),a){var u=X1(t,o);i.push(u)}}),{size:r,shape:n,stops:i,position:s,type:2}},vte=function(t){return t.type===1},yte=function(t){return t.type===2},EE={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=HR[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function wte(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!HR[t.name])}var HR={"linear-gradient":pte,"-moz-linear-gradient":U0,"-ms-linear-gradient":U0,"-o-linear-gradient":U0,"-webkit-linear-gradient":U0,"radial-gradient":gte,"-moz-radial-gradient":k0,"-ms-radial-gradient":k0,"-o-radial-gradient":k0,"-webkit-radial-gradient":k0,"-webkit-gradient":mte},xte={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return af(r)&&wte(r)}).map(function(r){return EE.parse(t,r)})}},bte={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Wn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_te={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Xl(e).map(function(n){return n.filter(ti)}).map(SR)}},Bte={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Xl(e).map(function(n){return n.filter(Wn).map(function(r){return r.value}).join(" ")}).map(Cte)}},Cte=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},zh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(zh||(zh={}));var Ete={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Xl(e).map(function(n){return n.filter(Ste)})}},Ste=function(t){return Wn(t)||ti(t)},Z1=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ite=Z1("top"),Nte=Z1("right"),Tte=Z1("bottom"),Fte=Z1("left"),ew=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return SR(n.filter(ti))}}},Pte=ew("top-left"),Lte=ew("top-right"),jte=ew("bottom-right"),Ute=ew("bottom-left"),tw=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},kte=tw("top"),Rte=tw("right"),Ote=tw("bottom"),Dte=tw("left"),nw=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return vg(n)?n.number:0}}},Qte=nw("top"),Mte=nw("right"),Hte=nw("bottom"),Vte=nw("left"),Kte={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zte={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},$te={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Wn).reduce(function(n,r){return n|Gte(r.value)},0)}},Gte=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Wte={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qte={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Ty;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Ty||(Ty={}));var Jte={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Ty.STRICT;case"normal":default:return Ty.NORMAL}}},Yte={name:"line-height",initialValue:"normal",prefix:!1,type:4},TN=function(t,e){return Wn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ti(t)?ir(t,e):e},Xte={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:EE.parse(t,e)}},Zte={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},C_={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},rw=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ene=rw("top"),tne=rw("right"),nne=rw("bottom"),rne=rw("left"),ine={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Wn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},sne={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},iw=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},one=iw("top"),ane=iw("right"),lne=iw("bottom"),Ane=iw("left"),cne={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},une={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dne={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&B_(e[0],"none")?[]:Xl(e).map(function(n){for(var r={color:EA.TRANSPARENT,offsetX:Yi,offsetY:Yi,blur:Yi},i=0,s=0;s<n.length;s++){var o=n[s];lu(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Wc.parse(t,o)}return r})}},hne={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fne={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=gne[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},pne=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},mne=function(t){var e=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[n,r,i,s,o,l]:null},gne={matrix:pne,matrix3d:mne},FN={type:16,number:50,flags:gg},vne=[FN,FN],yne={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(ti);return n.length!==2?vne:[n[0],n[1]]}},wne={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},em;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(em||(em={}));var xne={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return em.BREAK_ALL;case"keep-all":return em.KEEP_ALL;case"normal":default:return em.NORMAL}}},bne={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(_f(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},VR={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},_ne={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return _f(e)?e.number:1}},Bne={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cne={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Wn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Ene={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Sne={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ine={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(_f(e))return e.number;if(Wn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Nne={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Wn).map(function(n){return n.value})}},Tne={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},mi=function(t,e){return(t&e)!==0},Fne={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Pne={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(ER),s=0;s<i.length;s++){var o=i[s],l=i[s+1];if(o.type===20){var a=l&&_f(l)?l.number:1;r.push({counter:o.value,increment:a})}}return r}},Lne={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(ER),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(Wn(s)&&s.value!=="none"){var l=o&&_f(o)?o.number:0;n.push({counter:s.value,reset:l})}}return n}},jne={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(vg).map(function(n){return VR.parse(t,n)})}},Une={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(ate);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,l=i[s+1].value;r.push({open:o,close:l})}return r}},PN=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},kne={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&B_(e[0],"none")?[]:Xl(e).map(function(n){for(var r={color:255,offsetX:Yi,offsetY:Yi,blur:Yi,spread:Yi,inset:!1},i=0,s=0;s<n.length;s++){var o=n[s];B_(o,"inset")?r.inset=!0:lu(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Wc.parse(t,o)}return r})}},Rne={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Wn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},One={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Dne={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return vg(e)?e.number:0}},Qne=function(){function t(e,n){var r,i;this.animationDuration=bt(e,jne,n.animationDuration),this.backgroundClip=bt(e,cte,n.backgroundClip),this.backgroundColor=bt(e,ute,n.backgroundColor),this.backgroundImage=bt(e,xte,n.backgroundImage),this.backgroundOrigin=bt(e,bte,n.backgroundOrigin),this.backgroundPosition=bt(e,_te,n.backgroundPosition),this.backgroundRepeat=bt(e,Bte,n.backgroundRepeat),this.backgroundSize=bt(e,Ete,n.backgroundSize),this.borderTopColor=bt(e,Ite,n.borderTopColor),this.borderRightColor=bt(e,Nte,n.borderRightColor),this.borderBottomColor=bt(e,Tte,n.borderBottomColor),this.borderLeftColor=bt(e,Fte,n.borderLeftColor),this.borderTopLeftRadius=bt(e,Pte,n.borderTopLeftRadius),this.borderTopRightRadius=bt(e,Lte,n.borderTopRightRadius),this.borderBottomRightRadius=bt(e,jte,n.borderBottomRightRadius),this.borderBottomLeftRadius=bt(e,Ute,n.borderBottomLeftRadius),this.borderTopStyle=bt(e,kte,n.borderTopStyle),this.borderRightStyle=bt(e,Rte,n.borderRightStyle),this.borderBottomStyle=bt(e,Ote,n.borderBottomStyle),this.borderLeftStyle=bt(e,Dte,n.borderLeftStyle),this.borderTopWidth=bt(e,Qte,n.borderTopWidth),this.borderRightWidth=bt(e,Mte,n.borderRightWidth),this.borderBottomWidth=bt(e,Hte,n.borderBottomWidth),this.borderLeftWidth=bt(e,Vte,n.borderLeftWidth),this.boxShadow=bt(e,kne,n.boxShadow),this.color=bt(e,Kte,n.color),this.direction=bt(e,zte,n.direction),this.display=bt(e,$te,n.display),this.float=bt(e,Wte,n.cssFloat),this.fontFamily=bt(e,Ene,n.fontFamily),this.fontSize=bt(e,Sne,n.fontSize),this.fontStyle=bt(e,Tne,n.fontStyle),this.fontVariant=bt(e,Nne,n.fontVariant),this.fontWeight=bt(e,Ine,n.fontWeight),this.letterSpacing=bt(e,qte,n.letterSpacing),this.lineBreak=bt(e,Jte,n.lineBreak),this.lineHeight=bt(e,Yte,n.lineHeight),this.listStyleImage=bt(e,Xte,n.listStyleImage),this.listStylePosition=bt(e,Zte,n.listStylePosition),this.listStyleType=bt(e,C_,n.listStyleType),this.marginTop=bt(e,ene,n.marginTop),this.marginRight=bt(e,tne,n.marginRight),this.marginBottom=bt(e,nne,n.marginBottom),this.marginLeft=bt(e,rne,n.marginLeft),this.opacity=bt(e,_ne,n.opacity);var s=bt(e,ine,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=bt(e,sne,n.overflowWrap),this.paddingTop=bt(e,one,n.paddingTop),this.paddingRight=bt(e,ane,n.paddingRight),this.paddingBottom=bt(e,lne,n.paddingBottom),this.paddingLeft=bt(e,Ane,n.paddingLeft),this.paintOrder=bt(e,Rne,n.paintOrder),this.position=bt(e,une,n.position),this.textAlign=bt(e,cne,n.textAlign),this.textDecorationColor=bt(e,Bne,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=bt(e,Cne,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=bt(e,dne,n.textShadow),this.textTransform=bt(e,hne,n.textTransform),this.transform=bt(e,fne,n.transform),this.transformOrigin=bt(e,yne,n.transformOrigin),this.visibility=bt(e,wne,n.visibility),this.webkitTextStrokeColor=bt(e,One,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=bt(e,Dne,n.webkitTextStrokeWidth),this.wordBreak=bt(e,xne,n.wordBreak),this.zIndex=bt(e,bne,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return qc(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return mi(this.display,4)||mi(this.display,33554432)||mi(this.display,268435456)||mi(this.display,536870912)||mi(this.display,67108864)||mi(this.display,134217728)},t}(),Mne=function(){function t(e,n){this.content=bt(e,Fne,n.content),this.quotes=bt(e,Une,n.quotes)}return t}(),LN=function(){function t(e,n){this.counterIncrement=bt(e,Pne,n.counterIncrement),this.counterReset=bt(e,Lne,n.counterReset)}return t}(),bt=function(t,e,n){var r=new BR,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new CR(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,Wn(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Y1.parse(t,s.parseComponentValue());case"color":return Wc.parse(t,s.parseComponentValue());case"image":return EE.parse(t,s.parseComponentValue());case"length":var l=s.parseComponentValue();return lu(l)?l:Yi;case"length-percentage":var a=s.parseComponentValue();return ti(a)?a:Yi;case"time":return VR.parse(t,s.parseComponentValue())}break}},Hne="data-html2canvas-debug",Vne=function(t){var e=t.getAttribute(Hne);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},E_=function(t,e){var n=Vne(t);return n===1||e===n},Zl=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,E_(n,3))debugger;this.styles=new Qne(e,window.getComputedStyle(n,null)),N_(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=q1(this.context,n),E_(n,4)&&(this.flags|=16)}return t}(),Kne="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",jN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var R0=0;R0<jN.length;R0++)xp[jN.charCodeAt(R0)]=R0;var zne=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,l,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<n;r+=4)s=xp[t.charCodeAt(r)],o=xp[t.charCodeAt(r+1)],l=xp[t.charCodeAt(r+2)],a=xp[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|l>>2,c[i++]=(l&3)<<6|a&63;return u},$ne=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Gne=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Ad=5,SE=6+5,nx=2,Wne=SE-Ad,KR=65536>>Ad,qne=1<<Ad,rx=qne-1,Jne=1024>>Ad,Yne=KR+Jne,Xne=Yne,Zne=32,ere=Xne+Zne,tre=65536>>SE,nre=1<<Wne,rre=nre-1,UN=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},ire=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},sre=function(t,e){var n=zne(t),r=Array.isArray(n)?Gne(n):new Uint32Array(n),i=Array.isArray(n)?$ne(n):new Uint16Array(n),s=24,o=UN(i,s/2,r[4]/2),l=r[5]===2?UN(i,(s+r[4])/2):ire(r,Math.ceil((s+r[4])/4));return new ore(r[0],r[1],r[2],r[3],o,l)},ore=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Ad],n=(n<<nx)+(e&rx),this.data[n];if(e<=65535)return n=this.index[KR+(e-55296>>Ad)],n=(n<<nx)+(e&rx),this.data[n];if(e<this.highStart)return n=ere-tre+(e>>SE),n=this.index[n],n+=e>>Ad&rre,n=this.index[n],n=(n<<nx)+(e&rx),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),kN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",are=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var O0=0;O0<kN.length;O0++)are[kN.charCodeAt(O0)]=O0;var lre=1,ix=2,sx=3,RN=4,ON=5,Are=7,DN=8,ox=9,ax=10,QN=11,MN=12,HN=13,VN=14,lx=15,cre=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},ure=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},dre=sre(Kne),ca="×",Ax="÷",hre=function(t){return dre.get(t)},fre=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],o=e[n];if(s===ix&&o===sx)return ca;if(s===ix||s===sx||s===RN||o===ix||o===sx||o===RN)return Ax;if(s===DN&&[DN,ox,QN,MN].indexOf(o)!==-1||(s===QN||s===ox)&&(o===ox||o===ax)||(s===MN||s===ax)&&o===ax||o===HN||o===ON||o===Are||s===lre)return ca;if(s===HN&&o===VN){for(;i===ON;)i=e[--r];if(i===VN)return ca}if(s===lx&&o===lx){for(var l=0;i===lx;)l++,i=e[--r];if(l%2===0)return ca}return Ax},pre=function(t){var e=cre(t),n=e.length,r=0,i=0,s=e.map(hre);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=ca;r<n&&(o=fre(e,s,++r))===ca;);if(o!==ca||r===n){var l=ure.apply(null,e.slice(i,r));return i=r,{value:l,done:!1}}return{done:!0,value:null}}}},mre=function(t){for(var e=pre(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},gre=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},vre=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=J1(r.data).map(function(a){return Mr(a)}),s=0,o={},l=i.every(function(a,u){n.setStart(r,s),n.setEnd(r,s+a.length);var c=n.getBoundingClientRect();s+=a.length;var h=c.x>o.x||c.y>o.y;return o=c,u===0?!0:h});return t.body.removeChild(e),l},yre=function(){return typeof new Image().crossOrigin<"u"},wre=function(){return typeof new XMLHttpRequest().responseType=="string"},xre=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},KN=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},bre=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var o=S_(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),zN(o).then(function(l){r.drawImage(l,0,0);var a=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var u=t.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=n+"px",KN(a)?zN(S_(n,n,0,0,u)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),KN(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},S_=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},zN=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Gi={get SUPPORT_RANGE_BOUNDS(){var t=gre(document);return Object.defineProperty(Gi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Gi.SUPPORT_RANGE_BOUNDS&&vre(document);return Object.defineProperty(Gi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=xre(document);return Object.defineProperty(Gi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?bre(document):Promise.resolve(!1);return Object.defineProperty(Gi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=yre();return Object.defineProperty(Gi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=wre();return Object.defineProperty(Gi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Gi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Gi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},tm=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),_re=function(t,e,n,r){var i=Ere(e,n),s=[],o=0;return i.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(Gi.SUPPORT_RANGE_BOUNDS){var a=$N(r,o,l.length).getClientRects();if(a.length>1){var u=IE(l),c=0;u.forEach(function(p){s.push(new tm(p,DA.fromDOMRectList(t,$N(r,c+o,p.length).getClientRects()))),c+=p.length})}else s.push(new tm(l,DA.fromDOMRectList(t,a)))}else{var h=r.splitText(l.length);s.push(new tm(l,Bre(t,r))),r=h}else Gi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(l.length));o+=l.length}),s},Bre=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=q1(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return DA.EMPTY},$N=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},IE=function(t){if(Gi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return mre(t)},Cre=function(t,e){if(Gi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return Ire(t,e)},Ere=function(t,e){return e.letterSpacing!==0?IE(t):Cre(t,e)},Sre=[32,160,4961,65792,65793,4153,4241],Ire=function(t,e){for(var n=tee(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),l=J1(o),a="";l.forEach(function(u){Sre.indexOf(u)===-1?a+=Mr(u):(a.length&&r.push(a),r.push(Mr(u)),a="")}),a.length&&r.push(a)}};!(i=n.next()).done;)s();return r},Nre=function(){function t(e,n,r){this.text=Tre(n.data,r.textTransform),this.textBounds=_re(e,this.text,r,n)}return t}(),Tre=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Fre,Pre);case 2:return t.toUpperCase();default:return t}},Fre=/(^|\s|:|-|\(|\))([a-z])/g,Pre=function(t,e,n){return t.length>0?e+n.toUpperCase():t},zR=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Zl),$R=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(Zl),GR=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,o=q1(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Zl),WR=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Zl),I_=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(Zl),Lre=[{type:15,flags:0,unit:"px",number:3}],jre=[{type:16,flags:0,number:50}],Ure=function(t){return t.width>t.height?new DA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new DA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},kre=function(t){var e=t.type===Rre?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Fy="checkbox",Py="radio",Rre="password",GN=707406591,NE=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=kre(r),(i.type===Fy||i.type===Py)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Ure(i.bounds)),i.type){case Fy:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Lre;break;case Py:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=jre;break}return i}return e}(Zl),qR=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Zl),JR=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(Zl),YR=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=ZR(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Zp(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):EA.TRANSPARENT,o=r.contentWindow.document.body?Zp(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):EA.TRANSPARENT;i.backgroundColor=qc(s)?qc(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(Zl),Ore=["OL","UL","MENU"],Bv=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,eO(i)&&i.data.trim().length>0)n.textNodes.push(new Nre(t,i,n.styles));else if(Fh(i))if(iO(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return Bv(t,l,n,r)});else{var o=XR(t,i);o.styles.isVisible()&&(Dre(i,o,r)?o.flags|=4:Qre(o.styles)&&(o.flags|=2),Ore.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?Bv(t,i.shadowRoot,o,r):!Ly(i)&&!tO(i)&&!jy(i)&&Bv(t,i,o,r))}},XR=function(t,e){return T_(e)?new zR(t,e):nO(e)?new $R(t,e):tO(e)?new GR(t,e):Mre(e)?new WR(t,e):Hre(e)?new I_(t,e):Vre(e)?new NE(t,e):jy(e)?new qR(t,e):Ly(e)?new JR(t,e):rO(e)?new YR(t,e):new Zl(t,e)},ZR=function(t,e){var n=XR(t,e);return n.flags|=4,Bv(t,e,n,n),n},Dre=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||TE(t)&&n.styles.isTransparent()},Qre=function(t){return t.isPositioned()||t.isFloating()},eO=function(t){return t.nodeType===Node.TEXT_NODE},Fh=function(t){return t.nodeType===Node.ELEMENT_NODE},N_=function(t){return Fh(t)&&typeof t.style<"u"&&!Cv(t)},Cv=function(t){return typeof t.className=="object"},Mre=function(t){return t.tagName==="LI"},Hre=function(t){return t.tagName==="OL"},Vre=function(t){return t.tagName==="INPUT"},Kre=function(t){return t.tagName==="HTML"},tO=function(t){return t.tagName==="svg"},TE=function(t){return t.tagName==="BODY"},nO=function(t){return t.tagName==="CANVAS"},WN=function(t){return t.tagName==="VIDEO"},T_=function(t){return t.tagName==="IMG"},rO=function(t){return t.tagName==="IFRAME"},qN=function(t){return t.tagName==="STYLE"},zre=function(t){return t.tagName==="SCRIPT"},Ly=function(t){return t.tagName==="TEXTAREA"},jy=function(t){return t.tagName==="SELECT"},iO=function(t){return t.tagName==="SLOT"},JN=function(t){return t.tagName.indexOf("-")>0},$re=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(l){var a=n.counters[l.counter];a&&l.increment!==0&&(s=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=l.increment)});var o=[];return s&&i.forEach(function(l){var a=n.counters[l.counter];o.push(l.counter),a||(a=n.counters[l.counter]=[]),a.push(l.reset)}),o},t}(),YN={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},XN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Gre={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Wre={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},rh=function(t,e,n,r,i,s){return t<e||t>n?Vm(t,i,s.length>0):r.integers.reduce(function(o,l,a){for(;t>=l;)t-=l,o+=r.values[a];return o},"")+s},sO=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Qr=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(sO(Math.abs(t),s,r,function(o){return Mr(Math.floor(o%s)+e)})+i)},Pu=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return sO(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},fh=1,uc=2,dc=4,bp=8,hA=function(t,e,n,r,i,s){if(t<-9999||t>9999)return Vm(t,4,i.length>0);var o=Math.abs(t),l=i;if(o===0)return e[0]+l;for(var a=0;o>0&&a<=4;a++){var u=o%10;u===0&&mi(s,fh)&&l!==""?l=e[u]+l:u>1||u===1&&a===0||u===1&&a===1&&mi(s,uc)||u===1&&a===1&&mi(s,dc)&&t>100||u===1&&a>1&&mi(s,bp)?l=e[u]+(a>0?n[a-1]:"")+l:u===1&&a>0&&(l=n[a-1]+l),o=Math.floor(o/10)}return(t<0?r:"")+l},ZN="十百千萬",eT="拾佰仟萬",tT="マイナス",cx="마이너스",Vm=function(t,e,n){var r=n?". ":"",i=n?"、":"",s=n?", ":"",o=n?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=Qr(t,48,57,!0,r);return l.length<4?"0"+l:l;case 4:return Pu(t,"〇一二三四五六七八九",i);case 6:return rh(t,1,3999,YN,3,r).toLowerCase();case 7:return rh(t,1,3999,YN,3,r);case 8:return Qr(t,945,969,!1,r);case 9:return Qr(t,97,122,!1,r);case 10:return Qr(t,65,90,!1,r);case 11:return Qr(t,1632,1641,!0,r);case 12:case 49:return rh(t,1,9999,XN,3,r);case 35:return rh(t,1,9999,XN,3,r).toLowerCase();case 13:return Qr(t,2534,2543,!0,r);case 14:case 30:return Qr(t,6112,6121,!0,r);case 15:return Pu(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return Pu(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return hA(t,"零一二三四五六七八九",ZN,"負",i,uc|dc|bp);case 47:return hA(t,"零壹貳參肆伍陸柒捌玖",eT,"負",i,fh|uc|dc|bp);case 42:return hA(t,"零一二三四五六七八九",ZN,"负",i,uc|dc|bp);case 41:return hA(t,"零壹贰叁肆伍陆柒捌玖",eT,"负",i,fh|uc|dc|bp);case 26:return hA(t,"〇一二三四五六七八九","十百千万",tT,i,0);case 25:return hA(t,"零壱弐参四伍六七八九","拾百千万",tT,i,fh|uc|dc);case 31:return hA(t,"영일이삼사오육칠팔구","십백천만",cx,s,fh|uc|dc);case 33:return hA(t,"零一二三四五六七八九","十百千萬",cx,s,0);case 32:return hA(t,"零壹貳參四五六七八九","拾百千",cx,s,fh|uc|dc);case 18:return Qr(t,2406,2415,!0,r);case 20:return rh(t,1,19999,Wre,3,r);case 21:return Qr(t,2790,2799,!0,r);case 22:return Qr(t,2662,2671,!0,r);case 22:return rh(t,1,10999,Gre,3,r);case 23:return Pu(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Pu(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Qr(t,3302,3311,!0,r);case 28:return Pu(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return Pu(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Qr(t,3792,3801,!0,r);case 37:return Qr(t,6160,6169,!0,r);case 38:return Qr(t,4160,4169,!0,r);case 39:return Qr(t,2918,2927,!0,r);case 40:return Qr(t,1776,1785,!0,r);case 43:return Qr(t,3046,3055,!0,r);case 44:return Qr(t,3174,3183,!0,r);case 45:return Qr(t,3664,3673,!0,r);case 46:return Qr(t,3872,3881,!0,r);case 3:default:return Qr(t,48,57,!0,r)}},oO="data-html2canvas-ignore",nT=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new $re,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=qre(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=i.contentWindow,a=l.document,u=Xre(i).then(function(){return Rs(r,void 0,void 0,function(){var c,h;return ms(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(nie),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),c=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Yre(a)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(a,h)}).then(function(){return i})]:[2,i]}})})});return a.open(),a.write(eie(document.doctype)+"<html></html>"),tie(this.referenceElement.ownerDocument,s,o),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),u},t.prototype.createElementClone=function(e){if(E_(e,2))debugger;if(nO(e))return this.createCanvasClone(e);if(WN(e))return this.createVideoClone(e);if(qN(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return T_(n)&&(T_(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),JN(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return ux(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var l=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(l){var a=l.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!Fh(n)||!zre(n)&&!n.hasAttribute(oO)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Fh(n)||!qN(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Fh(s)&&iO(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(n,l,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(eO(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Fh(e)&&(N_(e)||Cv(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),l=r.getComputedStyle(e,":after");this.referenceElement===e&&N_(i)&&(this.clonedReferenceElement=i),TE(i)&&sie(i);var a=this.counters.parse(new LN(this.context,s)),u=this.resolvePseudoContent(e,i,o,nm.BEFORE);JN(e)&&(n=!0),WN(e)||this.cloneChildNodes(e,i,n),u&&i.insertBefore(u,i.firstChild);var c=this.resolvePseudoContent(e,i,l,nm.AFTER);return c&&i.appendChild(c),this.counters.pop(a),(s&&(this.options.copyStyles||Cv(e))&&!rO(e)||n)&&ux(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Ly(e)||jy(e))&&(Ly(i)||jy(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var o=r.content,l=n.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new LN(this.context,r));var a=new Mne(this.context,r),u=l.createElement("html2canvaspseudoelement");ux(r,u),a.content.forEach(function(h){if(h.type===0)u.appendChild(l.createTextNode(h.value));else if(h.type===22){var p=l.createElement("img");p.src=h.value,p.style.opacity="1",u.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var m=h.values.filter(Wn);m.length&&u.appendChild(l.createTextNode(e.getAttribute(m[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(af),_=b[0],C=b[1];if(_&&Wn(_)){var w=s.counters.getCounterValue(_.value),y=C&&Wn(C)?C_.parse(s.context,C.value):3;u.appendChild(l.createTextNode(Vm(w,y,!1)))}}else if(h.name==="counters"){var E=h.values.filter(af),_=E[0],F=E[1],C=E[2];if(_&&Wn(_)){var M=s.counters.getCounterValues(_.value),k=C&&Wn(C)?C_.parse(s.context,C.value):3,N=F&&F.type===0?F.value:"",S=M.map(function(j){return Vm(j,k,!1)}).join(N);u.appendChild(l.createTextNode(S))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(l.createTextNode(PN(a.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(PN(a.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(h.value))}}),u.className=F_+" "+P_;var c=i===nm.BEFORE?" "+F_:" "+P_;return Cv(n)?n.className.baseValue+=c:n.className+=c,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),nm;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(nm||(nm={}));var qre=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(oO,"true"),t.body.appendChild(n),n},Jre=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Yre=function(t){return Promise.all([].slice.call(t.images,0).map(Jre))},Xre=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Zre=["all","d","content"],ux=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Zre.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},eie=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},tie=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},nie=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},rie=":before",iie=":after",F_="___html2canvas___pseudoelement_before",P_="___html2canvas___pseudoelement_after",rT=`{
    content: "" !important;
    display: none !important;
}`,sie=function(t){oie(t,"."+F_+rie+rT+`
         .`+P_+iie+rT)},oie=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},aO=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),aie=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(hx(e)||uie(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Rs(this,void 0,void 0,function(){var n,r,i,s,o=this;return ms(this,function(l){switch(l.label){case 0:return n=aO.isSameOrigin(e),r=!dx(e)&&this._options.useCORS===!0&&Gi.SUPPORT_CORS_IMAGES&&!n,i=!dx(e)&&!n&&!hx(e)&&typeof this._options.proxy=="string"&&Gi.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!dx(e)&&!hx(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(a,u){var c=new Image;c.onload=function(){return a(c)},c.onerror=u,(die(s)||r)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return a(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var l=Gi.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(l==="text")s(a.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(p){return o(p)},!1),h.readAsDataURL(a.response)}else o("Failed to proxy resource "+i+" with status code "+a.status)},a.onerror=o;var u=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=l),n._options.imageTimeout){var c=n._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+i)}}a.send()})},t}(),lie=/^data:image\/svg\+xml/i,Aie=/^data:image\/.*;base64,/i,cie=/^data:image\/.*/i,uie=function(t){return Gi.SUPPORT_SVG_DRAWING||!hie(t)},dx=function(t){return cie.test(t)},die=function(t){return Aie.test(t)},hx=function(t){return t.substr(0,4)==="blob"},hie=function(t){return t.substr(-3).toLowerCase()==="svg"||lie.test(t)},wt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),ih=function(t,e,n){return new wt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},D0=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=ih(this.start,this.startControl,e),i=ih(this.startControl,this.endControl,e),s=ih(this.endControl,this.end,e),o=ih(r,i,e),l=ih(i,s,e),a=ih(o,l,e);return n?new t(this.start,r,o,a):new t(a,l,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ha=function(t){return t.type===1},fie=function(){function t(e){var n=e.styles,r=e.bounds,i=wp(n.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],l=wp(n.borderTopRightRadius,r.width,r.height),a=l[0],u=l[1],c=wp(n.borderBottomRightRadius,r.width,r.height),h=c[0],p=c[1],m=wp(n.borderBottomLeftRadius,r.width,r.height),b=m[0],_=m[1],C=[];C.push((s+a)/r.width),C.push((b+h)/r.width),C.push((o+_)/r.height),C.push((u+p)/r.height);var w=Math.max.apply(Math,C);w>1&&(s/=w,o/=w,a/=w,u/=w,h/=w,p/=w,b/=w,_/=w);var y=r.width-a,E=r.height-p,F=r.width-h,M=r.height-_,k=n.borderTopWidth,N=n.borderRightWidth,S=n.borderBottomWidth,O=n.borderLeftWidth,H=ir(n.paddingTop,e.bounds.width),j=ir(n.paddingRight,e.bounds.width),T=ir(n.paddingBottom,e.bounds.width),D=ir(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?dr(r.left+O/3,r.top+k/3,s-O/3,o-k/3,jn.TOP_LEFT):new wt(r.left+O/3,r.top+k/3),this.topRightBorderDoubleOuterBox=s>0||o>0?dr(r.left+y,r.top+k/3,a-N/3,u-k/3,jn.TOP_RIGHT):new wt(r.left+r.width-N/3,r.top+k/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?dr(r.left+F,r.top+E,h-N/3,p-S/3,jn.BOTTOM_RIGHT):new wt(r.left+r.width-N/3,r.top+r.height-S/3),this.bottomLeftBorderDoubleOuterBox=b>0||_>0?dr(r.left+O/3,r.top+M,b-O/3,_-S/3,jn.BOTTOM_LEFT):new wt(r.left+O/3,r.top+r.height-S/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?dr(r.left+O*2/3,r.top+k*2/3,s-O*2/3,o-k*2/3,jn.TOP_LEFT):new wt(r.left+O*2/3,r.top+k*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?dr(r.left+y,r.top+k*2/3,a-N*2/3,u-k*2/3,jn.TOP_RIGHT):new wt(r.left+r.width-N*2/3,r.top+k*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?dr(r.left+F,r.top+E,h-N*2/3,p-S*2/3,jn.BOTTOM_RIGHT):new wt(r.left+r.width-N*2/3,r.top+r.height-S*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||_>0?dr(r.left+O*2/3,r.top+M,b-O*2/3,_-S*2/3,jn.BOTTOM_LEFT):new wt(r.left+O*2/3,r.top+r.height-S*2/3),this.topLeftBorderStroke=s>0||o>0?dr(r.left+O/2,r.top+k/2,s-O/2,o-k/2,jn.TOP_LEFT):new wt(r.left+O/2,r.top+k/2),this.topRightBorderStroke=s>0||o>0?dr(r.left+y,r.top+k/2,a-N/2,u-k/2,jn.TOP_RIGHT):new wt(r.left+r.width-N/2,r.top+k/2),this.bottomRightBorderStroke=h>0||p>0?dr(r.left+F,r.top+E,h-N/2,p-S/2,jn.BOTTOM_RIGHT):new wt(r.left+r.width-N/2,r.top+r.height-S/2),this.bottomLeftBorderStroke=b>0||_>0?dr(r.left+O/2,r.top+M,b-O/2,_-S/2,jn.BOTTOM_LEFT):new wt(r.left+O/2,r.top+r.height-S/2),this.topLeftBorderBox=s>0||o>0?dr(r.left,r.top,s,o,jn.TOP_LEFT):new wt(r.left,r.top),this.topRightBorderBox=a>0||u>0?dr(r.left+y,r.top,a,u,jn.TOP_RIGHT):new wt(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||p>0?dr(r.left+F,r.top+E,h,p,jn.BOTTOM_RIGHT):new wt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=b>0||_>0?dr(r.left,r.top+M,b,_,jn.BOTTOM_LEFT):new wt(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?dr(r.left+O,r.top+k,Math.max(0,s-O),Math.max(0,o-k),jn.TOP_LEFT):new wt(r.left+O,r.top+k),this.topRightPaddingBox=a>0||u>0?dr(r.left+Math.min(y,r.width-N),r.top+k,y>r.width+N?0:Math.max(0,a-N),Math.max(0,u-k),jn.TOP_RIGHT):new wt(r.left+r.width-N,r.top+k),this.bottomRightPaddingBox=h>0||p>0?dr(r.left+Math.min(F,r.width-O),r.top+Math.min(E,r.height-S),Math.max(0,h-N),Math.max(0,p-S),jn.BOTTOM_RIGHT):new wt(r.left+r.width-N,r.top+r.height-S),this.bottomLeftPaddingBox=b>0||_>0?dr(r.left+O,r.top+Math.min(M,r.height-S),Math.max(0,b-O),Math.max(0,_-S),jn.BOTTOM_LEFT):new wt(r.left+O,r.top+r.height-S),this.topLeftContentBox=s>0||o>0?dr(r.left+O+D,r.top+k+H,Math.max(0,s-(O+D)),Math.max(0,o-(k+H)),jn.TOP_LEFT):new wt(r.left+O+D,r.top+k+H),this.topRightContentBox=a>0||u>0?dr(r.left+Math.min(y,r.width+O+D),r.top+k+H,y>r.width+O+D?0:a-O+D,u-(k+H),jn.TOP_RIGHT):new wt(r.left+r.width-(N+j),r.top+k+H),this.bottomRightContentBox=h>0||p>0?dr(r.left+Math.min(F,r.width-(O+D)),r.top+Math.min(E,r.height+k+H),Math.max(0,h-(N+j)),p-(S+T),jn.BOTTOM_RIGHT):new wt(r.left+r.width-(N+j),r.top+r.height-(S+T)),this.bottomLeftContentBox=b>0||_>0?dr(r.left+O+D,r.top+M,Math.max(0,b-(O+D)),_-(S+T),jn.BOTTOM_LEFT):new wt(r.left+O+D,r.top+r.height-(S+T))}return t}(),jn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(jn||(jn={}));var dr=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),o=n*s,l=r*s,a=t+n,u=e+r;switch(i){case jn.TOP_LEFT:return new D0(new wt(t,u),new wt(t,u-l),new wt(a-o,e),new wt(a,e));case jn.TOP_RIGHT:return new D0(new wt(t,e),new wt(t+o,e),new wt(a,u-l),new wt(a,u));case jn.BOTTOM_RIGHT:return new D0(new wt(a,e),new wt(a,e+l),new wt(t+o,u),new wt(t,u));case jn.BOTTOM_LEFT:default:return new D0(new wt(a,u),new wt(a-o,u),new wt(t,e+l),new wt(t,e))}},Uy=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},pie=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ky=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},mie=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Q0=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),gie=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),vie=function(t){return t.type===0},lO=function(t){return t.type===1},yie=function(t){return t.type===2},iT=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},wie=function(t,e,n,r,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},AO=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),cO=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new fie(this.container),this.container.styles.opacity<1&&this.effects.push(new gie(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new mie(r,i,s))}if(this.container.styles.overflowX!==0){var o=Uy(this.curves),l=ky(this.curves);iT(o,l)?this.effects.push(new Q0(o,6)):(this.effects.push(new Q0(o,2)),this.effects.push(new Q0(l,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(a){return!lO(a)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=Uy(r.curves),l=ky(r.curves);iT(o,l)||i.unshift(new Q0(l,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(a){return mi(a.target,e)})},t}(),L_=function(t,e,n,r){t.container.elements.forEach(function(i){var s=mi(i.flags,4),o=mi(i.flags,2),l=new cO(i,t);mi(i.styles.display,2048)&&r.push(l);var a=mi(i.flags,8)?[]:r;if(s||o){var u=s||i.styles.isPositioned()?n:e,c=new AO(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var p=0;u.negativeZIndex.some(function(b,_){return h>b.element.container.styles.zIndex.order?(p=_,!1):p>0}),u.negativeZIndex.splice(p,0,c)}else if(h>0){var m=0;u.positiveZIndex.some(function(b,_){return h>=b.element.container.styles.zIndex.order?(m=_+1,!1):m>0}),u.positiveZIndex.splice(m,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);L_(l,c,s?c:n,a)}else i.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),L_(l,e,n,a);mi(i.flags,8)&&uO(i,a)})},uO=function(t,e){for(var n=t instanceof I_?t.start:1,r=t instanceof I_?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof WR&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Vm(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},xie=function(t){var e=new cO(t,null),n=new AO(e),r=[];return L_(e,n,n,r),uO(e.container,r),n},sT=function(t,e){switch(e){case 0:return va(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return va(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return va(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return va(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},bie=function(t,e){switch(e){case 0:return va(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return va(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return va(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return va(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},_ie=function(t,e){switch(e){case 0:return va(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return va(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return va(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return va(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Bie=function(t,e){switch(e){case 0:return M0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return M0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return M0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return M0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},M0=function(t,e){var n=[];return ha(t)?n.push(t.subdivide(.5,!1)):n.push(t),ha(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},va=function(t,e,n,r){var i=[];return ha(t)?i.push(t.subdivide(.5,!1)):i.push(t),ha(n)?i.push(n.subdivide(.5,!0)):i.push(n),ha(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),ha(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},dO=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Ry=function(t){var e=t.styles,n=t.bounds,r=ir(e.paddingLeft,n.width),i=ir(e.paddingRight,n.width),s=ir(e.paddingTop,n.width),o=ir(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},Cie=function(t,e){return t===0?e.bounds:t===2?Ry(e):dO(e)},Eie=function(t,e){return t===0?e.bounds:t===2?Ry(e):dO(e)},fx=function(t,e,n){var r=Cie(ph(t.styles.backgroundOrigin,e),t),i=Eie(ph(t.styles.backgroundClip,e),t),s=Sie(ph(t.styles.backgroundSize,e),n,r),o=s[0],l=s[1],a=wp(ph(t.styles.backgroundPosition,e),r.width-o,r.height-l),u=Iie(ph(t.styles.backgroundRepeat,e),a,s,r,i),c=Math.round(r.left+a[0]),h=Math.round(r.top+a[1]);return[u,c,h,o,l]},sh=function(t){return Wn(t)&&t.value===zh.AUTO},H0=function(t){return typeof t=="number"},Sie=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(ti(o)&&l&&ti(l))return[ir(o,n.width),ir(l,n.height)];var a=H0(s);if(Wn(o)&&(o.value===zh.CONTAIN||o.value===zh.COVER)){if(H0(s)){var u=n.width/n.height;return u<s!=(o.value===zh.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var c=H0(r),h=H0(i),p=c||h;if(sh(o)&&(!l||sh(l))){if(c&&h)return[r,i];if(!a&&!p)return[n.width,n.height];if(p&&a){var m=c?r:i*s,b=h?i:r/s;return[m,b]}var _=c?r:n.width,C=h?i:n.height;return[_,C]}if(a){var w=0,y=0;return ti(o)?w=ir(o,n.width):ti(l)&&(y=ir(l,n.height)),sh(o)?w=y*s:(!l||sh(l))&&(y=w/s),[w,y]}var E=null,F=null;if(ti(o)?E=ir(o,n.width):l&&ti(l)&&(F=ir(l,n.height)),E!==null&&(!l||sh(l))&&(F=c&&h?E/r*i:n.height),F!==null&&sh(o)&&(E=c&&h?F/i*r:n.width),E!==null&&F!==null)return[E,F];throw new Error("Unable to calculate background-size for element")},ph=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Iie=function(t,e,n,r,i){var s=e[0],o=e[1],l=n[0],a=n[1];switch(t){case 2:return[new wt(Math.round(r.left),Math.round(r.top+o)),new wt(Math.round(r.left+r.width),Math.round(r.top+o)),new wt(Math.round(r.left+r.width),Math.round(a+r.top+o)),new wt(Math.round(r.left),Math.round(a+r.top+o))];case 3:return[new wt(Math.round(r.left+s),Math.round(r.top)),new wt(Math.round(r.left+s+l),Math.round(r.top)),new wt(Math.round(r.left+s+l),Math.round(r.height+r.top)),new wt(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new wt(Math.round(r.left+s),Math.round(r.top+o)),new wt(Math.round(r.left+s+l),Math.round(r.top+o)),new wt(Math.round(r.left+s+l),Math.round(r.top+o+a)),new wt(Math.round(r.left+s),Math.round(r.top+o+a))];default:return[new wt(Math.round(i.left),Math.round(i.top)),new wt(Math.round(i.left+i.width),Math.round(i.top)),new wt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new wt(Math.round(i.left),Math.round(i.height+i.top))]}},Nie="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oT="Hidden Text",Tie=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=Nie,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(oT)),r.appendChild(s),r.appendChild(i);var l=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(oT)),r.style.lineHeight="normal",i.style.verticalAlign="super";var a=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:l,middle:a}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),hO=function(){function t(e,n){this.context=e,this.options=n}return t}(),Fie=1e4,Pie=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new Tie(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),yie(n)&&(this.ctx.globalAlpha=n.opacity),vie(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),lO(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Rs(this,void 0,void 0,function(){var r;return ms(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Rs(this,void 0,void 0,function(){return ms(this,function(r){switch(r.label){case 0:if(mi(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=IE(n.text);o.reduce(function(l,a){return s.ctx.fillText(a,l,n.bounds.top+i),l+s.ctx.measureText(a).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=Rie(n.fontFamily).join(", "),s=vg(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return Rs(this,void 0,void 0,function(){var i,s,o,l,a,u,c,h,p=this;return ms(this,function(m){return i=this.createFontStyle(r),s=i[0],o=i[1],l=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(o,l),u=a.baseline,c=a.middle,h=r.paintOrder,n.textBounds.forEach(function(b){h.forEach(function(_){switch(_){case 0:p.ctx.fillStyle=Si(r.color),p.renderTextWithLetterSpacing(b,r.letterSpacing,u);var C=r.textShadow;C.length&&b.text.trim().length&&(C.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=Si(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(b,r.letterSpacing,u)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Si(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:p.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:p.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+c),b.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&b.text.trim().length&&(p.ctx.strokeStyle=Si(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=Ry(n),o=ky(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Rs(this,void 0,void 0,function(){var r,i,s,o,l,a,y,y,u,c,h,p,F,m,b,M,_,C,w,y,E,F,M;return ms(this,function(k){switch(k.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,o=0,l=r.textNodes,k.label=1;case 1:return o<l.length?(a=l[o],[4,this.renderTextNode(a,s)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof zR))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=k.sent(),this.renderReplacedElement(r,i,y),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof $R&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof GR))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=k.sent(),this.renderReplacedElement(r,i,y),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof YR&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:c=k.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),k.label=14;case 14:if(r instanceof NE&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===Fy?r.checked&&(this.ctx.save(),this.path([new wt(r.bounds.left+h*.39363,r.bounds.top+h*.79),new wt(r.bounds.left+h*.16,r.bounds.top+h*.5549),new wt(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new wt(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new wt(r.bounds.left+h*.72983,r.bounds.top+h*.23),new wt(r.bounds.left+h*.84,r.bounds.top+h*.34085),new wt(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Si(GN),this.ctx.fill(),this.ctx.restore()):r.type===Py&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Si(GN),this.ctx.fill(),this.ctx.restore())),Lie(r)&&r.value.length){switch(p=this.createFontStyle(s),F=p[0],m=p[1],b=this.fontMetrics.getMetrics(F,m).baseline,this.ctx.font=F,this.ctx.fillStyle=Si(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Uie(r.styles.textAlign),M=Ry(r),_=0,r.styles.textAlign){case 1:_+=M.width/2;break;case 2:_+=M.width;break}C=M.add(_,0,0,-M.height/2+1),this.ctx.save(),this.path([new wt(M.left,M.top),new wt(M.left+M.width,M.top),new wt(M.left+M.width,M.top+M.height),new wt(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tm(r.value,C),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!mi(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(w=r.styles.listStyleImage,w.type!==0)return[3,18];y=void 0,E=w.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return y=k.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(F=this.createFontStyle(s)[0],this.ctx.font=F,this.ctx.fillStyle=Si(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new DA(r.bounds.left,r.bounds.top+ir(r.styles.paddingTop,r.bounds.width),r.bounds.width,TN(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tm(n.listValue,M),s.letterSpacing,TN(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Rs(this,void 0,void 0,function(){var r,i,w,s,o,w,l,a,w,u,c,w,h,p,w,m,b,w,_,C,w;return ms(this,function(y){switch(y.label){case 0:if(mi(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:y.sent(),r=0,i=n.negativeZIndex,y.label=2;case 2:return r<i.length?(w=i[r],[4,this.renderStack(w)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:y.sent(),s=0,o=n.nonInlineLevel,y.label=7;case 7:return s<o.length?(w=o[s],[4,this.renderNode(w)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:l=0,a=n.nonPositionedFloats,y.label=11;case 11:return l<a.length?(w=a[l],[4,this.renderStack(w)]):[3,14];case 12:y.sent(),y.label=13;case 13:return l++,[3,11];case 14:u=0,c=n.nonPositionedInlineLevel,y.label=15;case 15:return u<c.length?(w=c[u],[4,this.renderStack(w)]):[3,18];case 16:y.sent(),y.label=17;case 17:return u++,[3,15];case 18:h=0,p=n.inlineLevel,y.label=19;case 19:return h<p.length?(w=p[h],[4,this.renderNode(w)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:m=0,b=n.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return m<b.length?(w=b[m],[4,this.renderStack(w)]):[3,26];case 24:y.sent(),y.label=25;case 25:return m++,[3,23];case 26:_=0,C=n.positiveZIndex,y.label=27;case 27:return _<C.length?(w=C[_],[4,this.renderStack(w)]):[3,30];case 28:y.sent(),y.label=29;case 29:return _++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var o=ha(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),ha(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=o.createElement("canvas");l.width=Math.max(1,r),l.height=Math.max(1,i);var a=l.getContext("2d");return a.drawImage(n,0,0,n.width,n.height,0,0,r,i),l},e.prototype.renderBackgroundImage=function(n){return Rs(this,void 0,void 0,function(){var r,i,s,o,l,a;return ms(this,function(u){switch(u.label){case 0:r=n.styles.backgroundImage.length-1,i=function(c){var h,p,m,H,V,q,D,W,S,b,H,V,q,D,W,_,C,w,y,E,F,M,k,N,S,O,H,j,T,D,W,oe,V,q,z,ue,ie,be,Q,J,re,ee;return ms(this,function(he){switch(he.label){case 0:if(c.type!==0)return[3,5];h=void 0,p=c.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return h=he.sent(),[3,4];case 3:return he.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(m=fx(n,r,[h.width,h.height,h.width/h.height]),H=m[0],V=m[1],q=m[2],D=m[3],W=m[4],S=s.ctx.createPattern(s.resizeImage(h,D,W),"repeat"),s.renderRepeat(H,S,V,q)),[3,6];case 5:vte(c)?(b=fx(n,r,[null,null,null]),H=b[0],V=b[1],q=b[2],D=b[3],W=b[4],_=hte(c.angle,D,W),C=_[0],w=_[1],y=_[2],E=_[3],F=_[4],M=document.createElement("canvas"),M.width=D,M.height=W,k=M.getContext("2d"),N=k.createLinearGradient(w,E,y,F),IN(c.stops,C).forEach(function(ve){return N.addColorStop(ve.stop,Si(ve.color))}),k.fillStyle=N,k.fillRect(0,0,D,W),D>0&&W>0&&(S=s.ctx.createPattern(M,"repeat"),s.renderRepeat(H,S,V,q))):yte(c)&&(O=fx(n,r,[null,null,null]),H=O[0],j=O[1],T=O[2],D=O[3],W=O[4],oe=c.position.length===0?[CE]:c.position,V=ir(oe[0],D),q=ir(oe[oe.length-1],W),z=fte(c,V,q,D,W),ue=z[0],ie=z[1],ue>0&&ie>0&&(be=s.ctx.createRadialGradient(j+V,T+q,0,j+V,T+q,ue),IN(c.stops,ue*2).forEach(function(ve){return be.addColorStop(ve.stop,Si(ve.color))}),s.path(H),s.ctx.fillStyle=be,ue!==ie?(Q=n.bounds.left+.5*n.bounds.width,J=n.bounds.top+.5*n.bounds.height,re=ie/ue,ee=1/re,s.ctx.save(),s.ctx.translate(Q,J),s.ctx.transform(1,0,0,re,0,0),s.ctx.translate(-Q,-J),s.ctx.fillRect(j,ee*(T-J)+J,D,W*ee),s.ctx.restore()):s.ctx.fill())),he.label=6;case 6:return r--,[2]}})},s=this,o=0,l=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(a=l[o],[5,i(a)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return Rs(this,void 0,void 0,function(){return ms(this,function(s){return this.path(sT(i,r)),this.ctx.fillStyle=Si(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return Rs(this,void 0,void 0,function(){var o,l;return ms(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return a.sent(),[2];case 2:return o=bie(s,i),this.path(o),this.ctx.fillStyle=Si(n),this.ctx.fill(),l=_ie(s,i),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Rs(this,void 0,void 0,function(){var r,i,s,o,l,a,u,c,h=this;return ms(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!qc(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=jie(ph(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),qc(r.backgroundColor)||(this.ctx.fillStyle=Si(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(m){h.ctx.save();var b=Uy(n.curves),_=m.inset?0:Fie,C=wie(b,-_+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(h.path(b),h.ctx.clip(),h.mask(C)):(h.mask(b),h.ctx.clip(),h.path(C)),h.ctx.shadowOffsetX=m.offsetX.number+_,h.ctx.shadowOffsetY=m.offsetY.number,h.ctx.shadowColor=Si(m.color),h.ctx.shadowBlur=m.blur.number,h.ctx.fillStyle=m.inset?Si(m.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:l=0,a=0,u=s,p.label=3;case 3:return a<u.length?(c=u[a],c.style!==0&&!qc(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,l,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,l,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,l,n.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,o){return Rs(this,void 0,void 0,function(){var l,a,u,c,h,p,m,b,_,C,w,y,E,F,M,k,M,k;return ms(this,function(N){return this.ctx.save(),l=Bie(s,i),a=sT(s,i),o===2&&(this.path(a),this.ctx.clip()),ha(a[0])?(u=a[0].start.x,c=a[0].start.y):(u=a[0].x,c=a[0].y),ha(a[1])?(h=a[1].end.x,p=a[1].end.y):(h=a[1].x,p=a[1].y),i===0||i===2?m=Math.abs(u-h):m=Math.abs(c-p),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(a.slice(0,2)),b=r<3?r*3:r*2,_=r<3?r*2:r,o===3&&(b=r,_=r),C=!0,m<=b*2?C=!1:m<=b*2+_?(w=m/(2*b+_),b*=w,_*=w):(y=Math.floor((m+_)/(b+_)),E=(m-y*b)/(y-1),F=(m-(y+1)*b)/y,_=F<=0||Math.abs(_-E)<Math.abs(_-F)?E:F),C&&(o===3?this.ctx.setLineDash([0,b+_]):this.ctx.setLineDash([b,_])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Si(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ha(a[0])&&(M=a[3],k=a[0],this.ctx.beginPath(),this.formatPath([new wt(M.end.x,M.end.y),new wt(k.start.x,k.start.y)]),this.ctx.stroke()),ha(a[1])&&(M=a[1],k=a[2],this.ctx.beginPath(),this.formatPath([new wt(M.end.x,M.end.y),new wt(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Rs(this,void 0,void 0,function(){var r;return ms(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=xie(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(hO),Lie=function(t){return t instanceof JR||t instanceof qR?!0:t instanceof NE&&t.type!==Py&&t.type!==Fy},jie=function(t,e){switch(t){case 0:return Uy(e);case 2:return pie(e);case 1:default:return ky(e)}},Uie=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},kie=["-apple-system","system-ui"],Rie=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return kie.indexOf(e)===-1}):t},Oie=function(t){Al(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return Rs(this,void 0,void 0,function(){var r,i;return ms(this,function(s){switch(s.label){case 0:return r=S_(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Die(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(hO),Die=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Qie=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,w0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,w0([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,w0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,w0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Mie=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Qie({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new aie(this,e)}return t.instanceCount=1,t}(),fO=function(t,e){return e===void 0&&(e={}),Hie(t,e)};typeof window<"u"&&aO.setContext(window);var Hie=function(t,e){return Rs(void 0,void 0,void 0,function(){var n,r,i,s,o,l,a,u,c,h,p,m,b,_,C,w,y,E,F,M,N,k,N,S,O,H,j,T,D,W,oe,V,q,z,ue,ie,be,Q,J,re;return ms(this,function(ee){switch(ee.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(S=e.allowTaint)!==null&&S!==void 0?S:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(H=e.useCORS)!==null&&H!==void 0?H:!1},s=d_({logging:(j=e.logging)!==null&&j!==void 0?j:!0,cache:e.cache},i),o={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:r.innerWidth,windowHeight:(D=e.windowHeight)!==null&&D!==void 0?D:r.innerHeight,scrollX:(W=e.scrollX)!==null&&W!==void 0?W:r.pageXOffset,scrollY:(oe=e.scrollY)!==null&&oe!==void 0?oe:r.pageYOffset},l=new DA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),a=new Mie(s,l),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,c={allowTaint:(q=e.allowTaint)!==null&&q!==void 0?q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},a.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new nT(a,t,c),p=h.clonedReferenceElement,p?[4,h.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ee.sent(),b=TE(p)||Kre(p)?wZ(p.ownerDocument):q1(a,p),_=b.width,C=b.height,w=b.left,y=b.top,E=Vie(a,p,e.backgroundColor),F={canvas:e.canvas,backgroundColor:E,scale:(ue=(z=e.scale)!==null&&z!==void 0?z:r.devicePixelRatio)!==null&&ue!==void 0?ue:1,x:((ie=e.x)!==null&&ie!==void 0?ie:0)+w,y:((be=e.y)!==null&&be!==void 0?be:0)+y,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(_),height:(J=e.height)!==null&&J!==void 0?J:Math.ceil(C)},u?(a.logger.debug("Document cloned, using foreign object rendering"),N=new Oie(a,F),[4,N.render(p)]):[3,3];case 2:return M=ee.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+w+","+y+" with size "+_+"x"+C+" using computed rendering"),a.logger.debug("Starting DOM parsing"),k=ZR(a,p),E===k.styles.backgroundColor&&(k.styles.backgroundColor=EA.TRANSPARENT),a.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),N=new Pie(a,F),[4,N.render(k)];case 4:M=ee.sent(),ee.label=5;case 5:return(!((re=e.removeContainer)!==null&&re!==void 0)||re)&&(nT.destroy(m)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,M]}})})},Vie=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?Zp(t,getComputedStyle(r.documentElement).backgroundColor):EA.TRANSPARENT,s=r.body?Zp(t,getComputedStyle(r.body).backgroundColor):EA.TRANSPARENT,o=typeof n=="string"?Zp(t,n):n===null?EA.TRANSPARENT:4294967295;return e===r.documentElement?qc(i)?qc(s)?o:s:i:o};const FE=Object.freeze(Object.defineProperty({__proto__:null,default:fO},Symbol.toStringTag,{value:"Module"})),Kie=wF(FE);(function(t,e){(function(r,i){t.exports=i(yZ,Kie)})(self,function(n,r){return function(){var i={"./src/plugin/hyperlinks.js":function(a,u,c){c.r(u),c("./node_modules/core-js/modules/web.dom-collections.for-each.js"),c("./node_modules/core-js/modules/es.string.link.js");var h=c("./src/worker.js"),p=c("./src/utils.js"),m=[],b={toContainer:h.default.prototype.toContainer,toPdf:h.default.prototype.toPdf};h.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){if(this.opt.enableLinks){var w=this.prop.container,y=w.querySelectorAll("a"),E=(0,p.unitConvert)(w.getBoundingClientRect(),this.prop.pageSize.k);m=[],Array.prototype.forEach.call(y,function(F){for(var M=F.getClientRects(),k=0;k<M.length;k++){var N=(0,p.unitConvert)(M[k],this.prop.pageSize.k);N.left-=E.left,N.top-=E.top;var S=Math.floor(N.top/this.prop.pageSize.inner.height)+1,O=this.opt.margin[0]+N.top%this.prop.pageSize.inner.height,H=this.opt.margin[1]+N.left;m.push({page:S,top:O,left:H,clientRect:N,link:F})}},this)}})},h.default.prototype.toPdf=function(){return b.toPdf.call(this).then(function(){if(this.opt.enableLinks){m.forEach(function(y){this.prop.pdf.setPage(y.page),this.prop.pdf.link(y.left,y.top,y.clientRect.width,y.clientRect.height,{url:y.link.href})},this);var w=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(w)}})}},"./src/plugin/jspdf-plugin.js":function(a,u,c){c.r(u),c("./node_modules/core-js/modules/es.symbol.js"),c("./node_modules/core-js/modules/es.symbol.description.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.symbol.iterator.js"),c("./node_modules/core-js/modules/es.array.iterator.js"),c("./node_modules/core-js/modules/es.string.iterator.js"),c("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=c("jspdf");function p(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(_){return typeof _}:p=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},p(m)}h.jsPDF.getPageSize=function(m,b,_){if(p(m)==="object"){var C=m;m=C.orientation,b=C.unit||b,_=C.format||_}b=b||"mm",_=_||"a4",m=(""+(m||"P")).toLowerCase();var w=(""+_).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(b){case"pt":var E=1;break;case"mm":var E=72/25.4;break;case"cm":var E=72/2.54;break;case"in":var E=72;break;case"px":var E=72/96;break;case"pc":var E=12;break;case"em":var E=12;break;case"ex":var E=6;break;default:throw"Invalid unit: "+b}if(y.hasOwnProperty(w))var F=y[w][1]/E,M=y[w][0]/E;else try{var F=_[1],M=_[0]}catch{throw new Error("Invalid format: "+_)}if(m==="p"||m==="portrait"){if(m="p",M>F){var k=M;M=F,F=k}}else if(m==="l"||m==="landscape"){if(m="l",F>M){var k=M;M=F,F=k}}else throw"Invalid orientation: "+m;var N={width:M,height:F,unit:b,k:E};return N},u.default=h.jsPDF},"./src/plugin/pagebreaks.js":function(a,u,c){c.r(u),c("./node_modules/core-js/modules/es.array.concat.js"),c("./node_modules/core-js/modules/es.array.slice.js"),c("./node_modules/core-js/modules/es.array.join.js"),c("./node_modules/core-js/modules/web.dom-collections.for-each.js"),c("./node_modules/core-js/modules/es.object.keys.js");var h=c("./src/worker.js"),p=c("./src/utils.js"),m={toContainer:h.default.prototype.toContainer};h.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},h.default.prototype.toContainer=function(){return m.toContainer.call(this).then(function(){var C=this.prop.container,w=this.prop.pageSize.inner.px.height,y=[].concat(this.opt.pagebreak.mode),E={avoidAll:y.indexOf("avoid-all")!==-1,css:y.indexOf("css")!==-1,legacy:y.indexOf("legacy")!==-1},F={},M=this;["before","after","avoid"].forEach(function(S){var O=E.avoidAll&&S==="avoid";F[S]=O?[]:[].concat(M.opt.pagebreak[S]||[]),F[S].length>0&&(F[S]=Array.prototype.slice.call(C.querySelectorAll(F[S].join(", "))))});var k=C.querySelectorAll(".html2pdf__page-break");k=Array.prototype.slice.call(k);var N=C.querySelectorAll("*");Array.prototype.forEach.call(N,function(O){var H={before:!1,after:E.legacy&&k.indexOf(O)!==-1,avoid:E.avoidAll};if(E.css){var j=window.getComputedStyle(O),T=["always","page","left","right"],D=["avoid","avoid-page"];H={before:H.before||T.indexOf(j.breakBefore||j.pageBreakBefore)!==-1,after:H.after||T.indexOf(j.breakAfter||j.pageBreakAfter)!==-1,avoid:H.avoid||D.indexOf(j.breakInside||j.pageBreakInside)!==-1}}Object.keys(H).forEach(function(ue){H[ue]=H[ue]||F[ue].indexOf(O)!==-1});var W=O.getBoundingClientRect();if(H.avoid&&!H.before){var oe=Math.floor(W.top/w),V=Math.floor(W.bottom/w),q=Math.abs(W.bottom-W.top)/w;V!==oe&&q<=1&&(H.before=!0)}if(H.before){var z=(0,p.createElement)("div",{style:{display:"block",height:w-W.top%w+"px"}});O.parentNode.insertBefore(z,O)}if(H.after){var z=(0,p.createElement)("div",{style:{display:"block",height:w-W.bottom%w+"px"}});O.parentNode.insertBefore(z,O.nextSibling)}})})}},"./src/utils.js":function(a,u,c){c.r(u),c.d(u,{objType:function(){return p},createElement:function(){return m},cloneNode:function(){return b},unitConvert:function(){return _},toPx:function(){return C}}),c("./node_modules/core-js/modules/es.number.constructor.js"),c("./node_modules/core-js/modules/es.symbol.js"),c("./node_modules/core-js/modules/es.symbol.description.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.symbol.iterator.js"),c("./node_modules/core-js/modules/es.array.iterator.js"),c("./node_modules/core-js/modules/es.string.iterator.js"),c("./node_modules/core-js/modules/web.dom-collections.iterator.js");function h(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(w)}var p=function(y){var E=h(y);return E==="undefined"?"undefined":E==="string"||y instanceof String?"string":E==="number"||y instanceof Number?"number":E==="function"||y instanceof Function?"function":y&&y.constructor===Array?"array":y&&y.nodeType===1?"element":E==="object"?"object":"unknown"},m=function(y,E){var F=document.createElement(y);if(E.className&&(F.className=E.className),E.innerHTML){F.innerHTML=E.innerHTML;for(var M=F.getElementsByTagName("script"),k=M.length;k-- >0;null)M[k].parentNode.removeChild(M[k])}for(var N in E.style)F.style[N]=E.style[N];return F},b=function w(y,E){for(var F=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),M=y.firstChild;M;M=M.nextSibling)(E===!0||M.nodeType!==1||M.nodeName!=="SCRIPT")&&F.appendChild(w(M,E));return y.nodeType===1&&(y.nodeName==="CANVAS"?(F.width=y.width,F.height=y.height,F.getContext("2d").drawImage(y,0,0)):(y.nodeName==="TEXTAREA"||y.nodeName==="SELECT")&&(F.value=y.value),F.addEventListener("load",function(){F.scrollTop=y.scrollTop,F.scrollLeft=y.scrollLeft},!0)),F},_=function(y,E){if(p(y)==="number")return y*72/96/E;var F={};for(var M in y)F[M]=y[M]*72/96/E;return F},C=function(y,E){return Math.floor(y*E/72*96)}},"./src/worker.js":function(a,u,c){c.r(u),c("./node_modules/core-js/modules/es.object.assign.js"),c("./node_modules/core-js/modules/es.array.map.js"),c("./node_modules/core-js/modules/es.object.keys.js"),c("./node_modules/core-js/modules/es.array.concat.js"),c("./node_modules/core-js/modules/es.object.to-string.js"),c("./node_modules/core-js/modules/es.regexp.to-string.js"),c("./node_modules/core-js/modules/es.function.name.js"),c("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=c("jspdf"),p=c("html2canvas"),m=c("./src/utils.js"),b=c("./node_modules/es6-promise/dist/es6-promise.js"),_=c.n(b),C=_().Promise,w=function y(E){var F=Object.assign(y.convert(C.resolve()),JSON.parse(JSON.stringify(y.template))),M=y.convert(C.resolve(),F);return M=M.setProgress(1,y,1,[y]),M=M.set(E),M};w.prototype=Object.create(C.prototype),w.prototype.constructor=w,w.convert=function(E,F){return E.__proto__=F||w.prototype,E},w.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},w.prototype.from=function(E,F){function M(k){switch((0,m.objType)(k)){case"string":return"string";case"element":return k.nodeName.toLowerCase&&k.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(F=F||M(E),F){case"string":return this.set({src:(0,m.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},w.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},w.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var M={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},k={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};M.opacity=0;var N=(0,m.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,m.createElement)("div",{className:"html2pdf__overlay",style:M}),this.prop.container=(0,m.createElement)("div",{className:"html2pdf__container",style:k}),this.prop.container.appendChild(N),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},w.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var M=Object.assign({},this.opt.html2canvas);return delete M.onrendered,p(this.prop.container,M)}).then(function(M){var k=this.opt.html2canvas.onrendered||function(){};k(M),this.prop.canvas=M,document.body.removeChild(this.prop.overlay)})},w.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var M=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=M})},w.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var M=this.prop.canvas,k=this.opt,N=M.height,S=Math.floor(M.width*this.prop.pageSize.inner.ratio),O=Math.ceil(N/S),H=this.prop.pageSize.inner.height,j=document.createElement("canvas"),T=j.getContext("2d");j.width=M.width,j.height=S,this.prop.pdf=this.prop.pdf||new h.jsPDF(k.jsPDF);for(var D=0;D<O;D++){D===O-1&&N%S!==0&&(j.height=N%S,H=j.height*this.prop.pageSize.inner.width/j.width);var W=j.width,oe=j.height;T.fillStyle="white",T.fillRect(0,0,W,oe),T.drawImage(M,0,D*S,W,oe,0,0,W,oe),D&&this.prop.pdf.addPage();var V=j.toDataURL("image/"+k.image.type,k.image.quality);this.prop.pdf.addImage(V,k.image.type,k.margin[1],k.margin[0],this.prop.pageSize.inner.width,H)}})},w.prototype.output=function(E,F,M){return M=M||"pdf",M.toLowerCase()==="img"||M.toLowerCase()==="image"?this.outputImg(E,F):this.outputPdf(E,F)},w.prototype.outputPdf=function(E,F){var M=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(M).then(function(){return this.prop.pdf.output(E,F)})},w.prototype.outputImg=function(E,F){var M=[function(){return this.prop.img||this.toImg()}];return this.thenList(M).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},w.prototype.save=function(E){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},w.prototype.set=function(E){if((0,m.objType)(E)!=="object")return this;var F=Object.keys(E||{}).map(function(M){switch(M){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return M in w.template.prop?function(){this.prop[M]=E[M]}:function(){this.opt[M]=E[M]}}},this);return this.then(function(){return this.thenList(F)})},w.prototype.get=function(E,F){return this.then(function(){var k=E in w.template.prop?this.prop[E]:this.opt[E];return F?F(k):k})},w.prototype.setMargin=function(E){return this.then(function(){switch((0,m.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},w.prototype.setPageSize=function(E){return this.then(function(){E=E||h.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,m.toPx)(E.inner.width,E.k),height:(0,m.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},w.prototype.setProgress=function(E,F,M,k){return E!=null&&(this.progress.val=E),F!=null&&(this.progress.state=F),M!=null&&(this.progress.n=M),k!=null&&(this.progress.stack=k),this.progress.ratio=this.progress.val/this.progress.state,this},w.prototype.updateProgress=function(E,F,M,k){return this.setProgress(E?this.progress.val+E:null,F||null,M?this.progress.n+M:null,k?this.progress.stack.concat(k):null)},w.prototype.then=function(E,F){var M=this;return this.thenCore(E,F,function(N,S){return M.updateProgress(null,null,1,[N]),C.prototype.then.call(this,function(H){return M.updateProgress(null,N),H}).then(N,S).then(function(H){return M.updateProgress(1),H})})},w.prototype.thenCore=function(E,F,M){M=M||C.prototype.then;var k=this;E&&(E=E.bind(k)),F&&(F=F.bind(k));var N=C.toString().indexOf("[native code]")!==-1&&C.name==="Promise",S=N?k:w.convert(Object.assign({},k),C.prototype),O=M.call(S,E,F);return w.convert(O,k.__proto__)},w.prototype.thenExternal=function(E,F){return C.prototype.then.call(this,E,F)},w.prototype.thenList=function(E){var F=this;return E.forEach(function(k){F=F.thenCore(k)}),F},w.prototype.catch=function(y){y&&(y=y.bind(this));var E=C.prototype.catch.call(this,y);return w.convert(E,this)},w.prototype.catchExternal=function(E){return C.prototype.catch.call(this,E)},w.prototype.error=function(E){return this.then(function(){throw new Error(E)})},w.prototype.using=w.prototype.set,w.prototype.saveAs=w.prototype.save,w.prototype.export=w.prototype.output,w.prototype.run=w.prototype.then,u.default=w},"./node_modules/core-js/internals/a-function.js":function(a){a.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},"./node_modules/core-js/internals/a-possible-prototype.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-object.js");a.exports=function(p){if(!h(p)&&p!==null)throw TypeError("Can't set "+String(p)+" as a prototype");return p}},"./node_modules/core-js/internals/add-to-unscopables.js":function(a,u,c){var h=c("./node_modules/core-js/internals/well-known-symbol.js"),p=c("./node_modules/core-js/internals/object-create.js"),m=c("./node_modules/core-js/internals/object-define-property.js"),b=h("unscopables"),_=Array.prototype;_[b]==null&&m.f(_,b,{configurable:!0,value:p(null)}),a.exports=function(C){_[b][C]=!0}},"./node_modules/core-js/internals/an-object.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-object.js");a.exports=function(p){if(!h(p))throw TypeError(String(p)+" is not an object");return p}},"./node_modules/core-js/internals/array-for-each.js":function(a,u,c){var h=c("./node_modules/core-js/internals/array-iteration.js").forEach,p=c("./node_modules/core-js/internals/array-method-is-strict.js"),m=p("forEach");a.exports=m?[].forEach:function(_){return h(this,_,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-indexed-object.js"),p=c("./node_modules/core-js/internals/to-length.js"),m=c("./node_modules/core-js/internals/to-absolute-index.js"),b=function(_){return function(C,w,y){var E=h(C),F=p(E.length),M=m(y,F),k;if(_&&w!=w){for(;F>M;)if(k=E[M++],k!=k)return!0}else for(;F>M;M++)if((_||M in E)&&E[M]===w)return _||M||0;return!_&&-1}};a.exports={includes:b(!0),indexOf:b(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(a,u,c){var h=c("./node_modules/core-js/internals/function-bind-context.js"),p=c("./node_modules/core-js/internals/indexed-object.js"),m=c("./node_modules/core-js/internals/to-object.js"),b=c("./node_modules/core-js/internals/to-length.js"),_=c("./node_modules/core-js/internals/array-species-create.js"),C=[].push,w=function(y){var E=y==1,F=y==2,M=y==3,k=y==4,N=y==6,S=y==7,O=y==5||N;return function(H,j,T,D){for(var W=m(H),oe=p(W),V=h(j,T,3),q=b(oe.length),z=0,ue=D||_,ie=E?ue(H,q):F||S?ue(H,0):void 0,be,Q;q>z;z++)if((O||z in oe)&&(be=oe[z],Q=V(be,z,W),y))if(E)ie[z]=Q;else if(Q)switch(y){case 3:return!0;case 5:return be;case 6:return z;case 2:C.call(ie,be)}else switch(y){case 4:return!1;case 7:C.call(ie,be)}return N?-1:M||k?k:ie}};a.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js"),p=c("./node_modules/core-js/internals/well-known-symbol.js"),m=c("./node_modules/core-js/internals/engine-v8-version.js"),b=p("species");a.exports=function(_){return m>=51||!h(function(){var C=[],w=C.constructor={};return w[b]=function(){return{foo:1}},C[_](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js");a.exports=function(p,m){var b=[][p];return!!b&&h(function(){b.call(null,m||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-object.js"),p=c("./node_modules/core-js/internals/is-array.js"),m=c("./node_modules/core-js/internals/well-known-symbol.js"),b=m("species");a.exports=function(_){var C;return p(_)&&(C=_.constructor,typeof C=="function"&&(C===Array||p(C.prototype))?C=void 0:h(C)&&(C=C[b],C===null&&(C=void 0))),C===void 0?Array:C}},"./node_modules/core-js/internals/array-species-create.js":function(a,u,c){var h=c("./node_modules/core-js/internals/array-species-constructor.js");a.exports=function(p,m){return new(h(p))(m===0?0:m)}},"./node_modules/core-js/internals/classof-raw.js":function(a){var u={}.toString;a.exports=function(c){return u.call(c).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-string-tag-support.js"),p=c("./node_modules/core-js/internals/classof-raw.js"),m=c("./node_modules/core-js/internals/well-known-symbol.js"),b=m("toStringTag"),_=p(function(){return arguments}())=="Arguments",C=function(w,y){try{return w[y]}catch{}};a.exports=h?p:function(w){var y,E,F;return w===void 0?"Undefined":w===null?"Null":typeof(E=C(y=Object(w),b))=="string"?E:_?p(y):(F=p(y))=="Object"&&typeof y.callee=="function"?"Arguments":F}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(a,u,c){var h=c("./node_modules/core-js/internals/has.js"),p=c("./node_modules/core-js/internals/own-keys.js"),m=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),b=c("./node_modules/core-js/internals/object-define-property.js");a.exports=function(_,C){for(var w=p(C),y=b.f,E=m.f,F=0;F<w.length;F++){var M=w[F];h(_,M)||y(_,M,E(C,M))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js");a.exports=!h(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},"./node_modules/core-js/internals/create-html.js":function(a,u,c){var h=c("./node_modules/core-js/internals/require-object-coercible.js"),p=c("./node_modules/core-js/internals/to-string.js"),m=/"/g;a.exports=function(b,_,C,w){var y=p(h(b)),E="<"+_;return C!==""&&(E+=" "+C+'="'+p(w).replace(m,"&quot;")+'"'),E+">"+y+"</"+_+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(a,u,c){var h=c("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,p=c("./node_modules/core-js/internals/object-create.js"),m=c("./node_modules/core-js/internals/create-property-descriptor.js"),b=c("./node_modules/core-js/internals/set-to-string-tag.js"),_=c("./node_modules/core-js/internals/iterators.js"),C=function(){return this};a.exports=function(w,y,E){var F=y+" Iterator";return w.prototype=p(h,{next:m(1,E)}),b(w,F,!1,!0),_[F]=C,w}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/object-define-property.js"),m=c("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=h?function(b,_,C){return p.f(b,_,m(1,C))}:function(b,_,C){return b[_]=C,b}},"./node_modules/core-js/internals/create-property-descriptor.js":function(a){a.exports=function(u,c){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:c}}},"./node_modules/core-js/internals/create-property.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-property-key.js"),p=c("./node_modules/core-js/internals/object-define-property.js"),m=c("./node_modules/core-js/internals/create-property-descriptor.js");a.exports=function(b,_,C){var w=h(_);w in b?p.f(b,w,m(0,C)):b[w]=C}},"./node_modules/core-js/internals/define-iterator.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/create-iterator-constructor.js"),m=c("./node_modules/core-js/internals/object-get-prototype-of.js"),b=c("./node_modules/core-js/internals/object-set-prototype-of.js"),_=c("./node_modules/core-js/internals/set-to-string-tag.js"),C=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=c("./node_modules/core-js/internals/redefine.js"),y=c("./node_modules/core-js/internals/well-known-symbol.js"),E=c("./node_modules/core-js/internals/is-pure.js"),F=c("./node_modules/core-js/internals/iterators.js"),M=c("./node_modules/core-js/internals/iterators-core.js"),k=M.IteratorPrototype,N=M.BUGGY_SAFARI_ITERATORS,S=y("iterator"),O="keys",H="values",j="entries",T=function(){return this};a.exports=function(D,W,oe,V,q,z,ue){p(oe,W,V);var ie=function(te){if(te===q&&ee)return ee;if(!N&&te in J)return J[te];switch(te){case O:return function(){return new oe(this,te)};case H:return function(){return new oe(this,te)};case j:return function(){return new oe(this,te)}}return function(){return new oe(this)}},be=W+" Iterator",Q=!1,J=D.prototype,re=J[S]||J["@@iterator"]||q&&J[q],ee=!N&&re||ie(q),he=W=="Array"&&J.entries||re,ve,fe,ne;if(he&&(ve=m(he.call(new D)),k!==Object.prototype&&ve.next&&(!E&&m(ve)!==k&&(b?b(ve,k):typeof ve[S]!="function"&&C(ve,S,T)),_(ve,be,!0,!0),E&&(F[be]=T))),q==H&&re&&re.name!==H&&(Q=!0,ee=function(){return re.call(this)}),(!E||ue)&&J[S]!==ee&&C(J,S,ee),F[W]=ee,q)if(fe={values:ie(H),keys:z?ee:ie(O),entries:ie(j)},ue)for(ne in fe)(N||Q||!(ne in J))&&w(J,ne,fe[ne]);else h({target:W,proto:!0,forced:N||Q},fe);return fe}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(a,u,c){var h=c("./node_modules/core-js/internals/path.js"),p=c("./node_modules/core-js/internals/has.js"),m=c("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),b=c("./node_modules/core-js/internals/object-define-property.js").f;a.exports=function(_){var C=h.Symbol||(h.Symbol={});p(C,_)||b(C,_,{value:m.f(_)})}},"./node_modules/core-js/internals/descriptors.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js");a.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/is-object.js"),m=h.document,b=p(m)&&p(m.createElement);a.exports=function(_){return b?m.createElement(_):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(a){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(a,u,c){var h=c("./node_modules/core-js/internals/get-built-in.js");a.exports=h("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/engine-user-agent.js"),m=h.process,b=h.Deno,_=m&&m.versions||b&&b.version,C=_&&_.v8,w,y;C?(w=C.split("."),y=w[0]<4?1:w[0]+w[1]):p&&(w=p.match(/Edge\/(\d+)/),(!w||w[1]>=74)&&(w=p.match(/Chrome\/(\d+)/),w&&(y=w[1]))),a.exports=y&&+y},"./node_modules/core-js/internals/enum-bug-keys.js":function(a){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,m=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=c("./node_modules/core-js/internals/redefine.js"),_=c("./node_modules/core-js/internals/set-global.js"),C=c("./node_modules/core-js/internals/copy-constructor-properties.js"),w=c("./node_modules/core-js/internals/is-forced.js");a.exports=function(y,E){var F=y.target,M=y.global,k=y.stat,N,S,O,H,j,T;if(M?S=h:k?S=h[F]||_(F,{}):S=(h[F]||{}).prototype,S)for(O in E){if(j=E[O],y.noTargetGet?(T=p(S,O),H=T&&T.value):H=S[O],N=w(M?O:F+(k?".":"#")+O,y.forced),!N&&H!==void 0){if(typeof j==typeof H)continue;C(j,H)}(y.sham||H&&H.sham)&&m(j,"sham",!0),b(S,O,j,y)}}},"./node_modules/core-js/internals/fails.js":function(a){a.exports=function(u){try{return!!u()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(a,u,c){var h=c("./node_modules/core-js/internals/a-function.js");a.exports=function(p,m,b){if(h(p),m===void 0)return p;switch(b){case 0:return function(){return p.call(m)};case 1:return function(_){return p.call(m,_)};case 2:return function(_,C){return p.call(m,_,C)};case 3:return function(_,C,w){return p.call(m,_,C,w)}}return function(){return p.apply(m,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=function(m){return typeof m=="function"?m:void 0};a.exports=function(m,b){return arguments.length<2?p(h[m]):h[m]&&h[m][b]}},"./node_modules/core-js/internals/global.js":function(a){var u=function(c){return c&&c.Math==Math&&c};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof mh=="object"&&mh)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-object.js"),p={}.hasOwnProperty;a.exports=Object.hasOwn||function(b,_){return p.call(h(b),_)}},"./node_modules/core-js/internals/hidden-keys.js":function(a){a.exports={}},"./node_modules/core-js/internals/html.js":function(a,u,c){var h=c("./node_modules/core-js/internals/get-built-in.js");a.exports=h("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/fails.js"),m=c("./node_modules/core-js/internals/document-create-element.js");a.exports=!h&&!p(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js"),p=c("./node_modules/core-js/internals/classof-raw.js"),m="".split;a.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(b){return p(b)=="String"?m.call(b,""):Object(b)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-object.js"),p=c("./node_modules/core-js/internals/object-set-prototype-of.js");a.exports=function(m,b,_){var C,w;return p&&typeof(C=b.constructor)=="function"&&C!==_&&h(w=C.prototype)&&w!==_.prototype&&p(m,w),m}},"./node_modules/core-js/internals/inspect-source.js":function(a,u,c){var h=c("./node_modules/core-js/internals/shared-store.js"),p=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(m){return p.call(m)}),a.exports=h.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(a,u,c){var h=c("./node_modules/core-js/internals/native-weak-map.js"),p=c("./node_modules/core-js/internals/global.js"),m=c("./node_modules/core-js/internals/is-object.js"),b=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),_=c("./node_modules/core-js/internals/has.js"),C=c("./node_modules/core-js/internals/shared-store.js"),w=c("./node_modules/core-js/internals/shared-key.js"),y=c("./node_modules/core-js/internals/hidden-keys.js"),E="Object already initialized",F=p.WeakMap,M,k,N,S=function(oe){return N(oe)?k(oe):M(oe,{})},O=function(oe){return function(V){var q;if(!m(V)||(q=k(V)).type!==oe)throw TypeError("Incompatible receiver, "+oe+" required");return q}};if(h||C.state){var H=C.state||(C.state=new F),j=H.get,T=H.has,D=H.set;M=function(oe,V){if(T.call(H,oe))throw new TypeError(E);return V.facade=oe,D.call(H,oe,V),V},k=function(oe){return j.call(H,oe)||{}},N=function(oe){return T.call(H,oe)}}else{var W=w("state");y[W]=!0,M=function(oe,V){if(_(oe,W))throw new TypeError(E);return V.facade=oe,b(oe,W,V),V},k=function(oe){return _(oe,W)?oe[W]:{}},N=function(oe){return _(oe,W)}}a.exports={set:M,get:k,has:N,enforce:S,getterFor:O}},"./node_modules/core-js/internals/is-array.js":function(a,u,c){var h=c("./node_modules/core-js/internals/classof-raw.js");a.exports=Array.isArray||function(m){return h(m)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js"),p=/#|\.prototype\./,m=function(y,E){var F=_[b(y)];return F==w?!0:F==C?!1:typeof E=="function"?h(E):!!E},b=m.normalize=function(y){return String(y).replace(p,".").toLowerCase()},_=m.data={},C=m.NATIVE="N",w=m.POLYFILL="P";a.exports=m},"./node_modules/core-js/internals/is-object.js":function(a){a.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},"./node_modules/core-js/internals/is-pure.js":function(a){a.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(a,u,c){var h=c("./node_modules/core-js/internals/get-built-in.js"),p=c("./node_modules/core-js/internals/use-symbol-as-uid.js");a.exports=p?function(m){return typeof m=="symbol"}:function(m){var b=h("Symbol");return typeof b=="function"&&Object(m)instanceof b}},"./node_modules/core-js/internals/iterators-core.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js"),p=c("./node_modules/core-js/internals/object-get-prototype-of.js"),m=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=c("./node_modules/core-js/internals/has.js"),_=c("./node_modules/core-js/internals/well-known-symbol.js"),C=c("./node_modules/core-js/internals/is-pure.js"),w=_("iterator"),y=!1,E=function(){return this},F,M,k;[].keys&&(k=[].keys(),"next"in k?(M=p(p(k)),M!==Object.prototype&&(F=M)):y=!0);var N=F==null||h(function(){var S={};return F[w].call(S)!==S});N&&(F={}),(!C||N)&&!b(F,w)&&m(F,w,E),a.exports={IteratorPrototype:F,BUGGY_SAFARI_ITERATORS:y}},"./node_modules/core-js/internals/iterators.js":function(a){a.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(a,u,c){var h=c("./node_modules/core-js/internals/engine-v8-version.js"),p=c("./node_modules/core-js/internals/fails.js");a.exports=!!Object.getOwnPropertySymbols&&!p(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&h&&h<41})},"./node_modules/core-js/internals/native-weak-map.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/inspect-source.js"),m=h.WeakMap;a.exports=typeof m=="function"&&/native code/.test(p(m))},"./node_modules/core-js/internals/object-assign.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/fails.js"),m=c("./node_modules/core-js/internals/object-keys.js"),b=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),_=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),C=c("./node_modules/core-js/internals/to-object.js"),w=c("./node_modules/core-js/internals/indexed-object.js"),y=Object.assign,E=Object.defineProperty;a.exports=!y||p(function(){if(h&&y({b:1},y(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var F={},M={},k=Symbol(),N="abcdefghijklmnopqrst";return F[k]=7,N.split("").forEach(function(S){M[S]=S}),y({},F)[k]!=7||m(y({},M)).join("")!=N})?function(M,k){for(var N=C(M),S=arguments.length,O=1,H=b.f,j=_.f;S>O;)for(var T=w(arguments[O++]),D=H?m(T).concat(H(T)):m(T),W=D.length,oe=0,V;W>oe;)V=D[oe++],(!h||j.call(T,V))&&(N[V]=T[V]);return N}:y},"./node_modules/core-js/internals/object-create.js":function(a,u,c){var h=c("./node_modules/core-js/internals/an-object.js"),p=c("./node_modules/core-js/internals/object-define-properties.js"),m=c("./node_modules/core-js/internals/enum-bug-keys.js"),b=c("./node_modules/core-js/internals/hidden-keys.js"),_=c("./node_modules/core-js/internals/html.js"),C=c("./node_modules/core-js/internals/document-create-element.js"),w=c("./node_modules/core-js/internals/shared-key.js"),y=">",E="<",F="prototype",M="script",k=w("IE_PROTO"),N=function(){},S=function(D){return E+M+y+D+E+"/"+M+y},O=function(D){D.write(S("")),D.close();var W=D.parentWindow.Object;return D=null,W},H=function(){var D=C("iframe"),W="java"+M+":",oe;if(D.style)return D.style.display="none",_.appendChild(D),D.src=String(W),oe=D.contentWindow.document,oe.open(),oe.write(S("document.F=Object")),oe.close(),oe.F},j,T=function(){try{j=new ActiveXObject("htmlfile")}catch{}T=document.domain&&j?O(j):H()||O(j);for(var D=m.length;D--;)delete T[F][m[D]];return T()};b[k]=!0,a.exports=Object.create||function(W,oe){var V;return W!==null?(N[F]=h(W),V=new N,N[F]=null,V[k]=W):V=T(),oe===void 0?V:p(V,oe)}},"./node_modules/core-js/internals/object-define-properties.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/object-define-property.js"),m=c("./node_modules/core-js/internals/an-object.js"),b=c("./node_modules/core-js/internals/object-keys.js");a.exports=h?Object.defineProperties:function(C,w){m(C);for(var y=b(w),E=y.length,F=0,M;E>F;)p.f(C,M=y[F++],w[M]);return C}},"./node_modules/core-js/internals/object-define-property.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/ie8-dom-define.js"),m=c("./node_modules/core-js/internals/an-object.js"),b=c("./node_modules/core-js/internals/to-property-key.js"),_=Object.defineProperty;u.f=h?_:function(w,y,E){if(m(w),y=b(y),m(E),p)try{return _(w,y,E)}catch{}if("get"in E||"set"in E)throw TypeError("Accessors not supported");return"value"in E&&(w[y]=E.value),w}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),m=c("./node_modules/core-js/internals/create-property-descriptor.js"),b=c("./node_modules/core-js/internals/to-indexed-object.js"),_=c("./node_modules/core-js/internals/to-property-key.js"),C=c("./node_modules/core-js/internals/has.js"),w=c("./node_modules/core-js/internals/ie8-dom-define.js"),y=Object.getOwnPropertyDescriptor;u.f=h?y:function(F,M){if(F=b(F),M=_(M),w)try{return y(F,M)}catch{}if(C(F,M))return m(!p.f.call(F,M),F[M])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-indexed-object.js"),p=c("./node_modules/core-js/internals/object-get-own-property-names.js").f,m={}.toString,b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],_=function(C){try{return p(C)}catch{return b.slice()}};a.exports.f=function(w){return b&&m.call(w)=="[object Window]"?_(w):p(h(w))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(a,u,c){var h=c("./node_modules/core-js/internals/object-keys-internal.js"),p=c("./node_modules/core-js/internals/enum-bug-keys.js"),m=p.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(_){return h(_,m)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(a,u){u.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(a,u,c){var h=c("./node_modules/core-js/internals/has.js"),p=c("./node_modules/core-js/internals/to-object.js"),m=c("./node_modules/core-js/internals/shared-key.js"),b=c("./node_modules/core-js/internals/correct-prototype-getter.js"),_=m("IE_PROTO"),C=Object.prototype;a.exports=b?Object.getPrototypeOf:function(w){return w=p(w),h(w,_)?w[_]:typeof w.constructor=="function"&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?C:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(a,u,c){var h=c("./node_modules/core-js/internals/has.js"),p=c("./node_modules/core-js/internals/to-indexed-object.js"),m=c("./node_modules/core-js/internals/array-includes.js").indexOf,b=c("./node_modules/core-js/internals/hidden-keys.js");a.exports=function(_,C){var w=p(_),y=0,E=[],F;for(F in w)!h(b,F)&&h(w,F)&&E.push(F);for(;C.length>y;)h(w,F=C[y++])&&(~m(E,F)||E.push(F));return E}},"./node_modules/core-js/internals/object-keys.js":function(a,u,c){var h=c("./node_modules/core-js/internals/object-keys-internal.js"),p=c("./node_modules/core-js/internals/enum-bug-keys.js");a.exports=Object.keys||function(b){return h(b,p)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(a,u){var c={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,p=h&&!c.call({1:2},1);u.f=p?function(b){var _=h(this,b);return!!_&&_.enumerable}:c},"./node_modules/core-js/internals/object-set-prototype-of.js":function(a,u,c){var h=c("./node_modules/core-js/internals/an-object.js"),p=c("./node_modules/core-js/internals/a-possible-prototype.js");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m=!1,b={},_;try{_=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,_.call(b,[]),m=b instanceof Array}catch{}return function(w,y){return h(w),p(y),m?_.call(w,y):w.__proto__=y,w}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-string-tag-support.js"),p=c("./node_modules/core-js/internals/classof.js");a.exports=h?{}.toString:function(){return"[object "+p(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-object.js");a.exports=function(p,m){var b,_;if(m==="string"&&typeof(b=p.toString)=="function"&&!h(_=b.call(p))||typeof(b=p.valueOf)=="function"&&!h(_=b.call(p))||m!=="string"&&typeof(b=p.toString)=="function"&&!h(_=b.call(p)))return _;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(a,u,c){var h=c("./node_modules/core-js/internals/get-built-in.js"),p=c("./node_modules/core-js/internals/object-get-own-property-names.js"),m=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=c("./node_modules/core-js/internals/an-object.js");a.exports=h("Reflect","ownKeys")||function(C){var w=p.f(b(C)),y=m.f;return y?w.concat(y(C)):w}},"./node_modules/core-js/internals/path.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js");a.exports=h},"./node_modules/core-js/internals/redefine.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=c("./node_modules/core-js/internals/has.js"),b=c("./node_modules/core-js/internals/set-global.js"),_=c("./node_modules/core-js/internals/inspect-source.js"),C=c("./node_modules/core-js/internals/internal-state.js"),w=C.get,y=C.enforce,E=String(String).split("String");(a.exports=function(F,M,k,N){var S=N?!!N.unsafe:!1,O=N?!!N.enumerable:!1,H=N?!!N.noTargetGet:!1,j;if(typeof k=="function"&&(typeof M=="string"&&!m(k,"name")&&p(k,"name",M),j=y(k),j.source||(j.source=E.join(typeof M=="string"?M:""))),F===h){O?F[M]=k:b(M,k);return}else S?!H&&F[M]&&(O=!0):delete F[M];O?F[M]=k:p(F,M,k)})(Function.prototype,"toString",function(){return typeof this=="function"&&w(this).source||_(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(a,u,c){var h=c("./node_modules/core-js/internals/an-object.js");a.exports=function(){var p=h(this),m="";return p.global&&(m+="g"),p.ignoreCase&&(m+="i"),p.multiline&&(m+="m"),p.dotAll&&(m+="s"),p.unicode&&(m+="u"),p.sticky&&(m+="y"),m}},"./node_modules/core-js/internals/require-object-coercible.js":function(a){a.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},"./node_modules/core-js/internals/set-global.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js");a.exports=function(p,m){try{Object.defineProperty(h,p,{value:m,configurable:!0,writable:!0})}catch{h[p]=m}return m}},"./node_modules/core-js/internals/set-to-string-tag.js":function(a,u,c){var h=c("./node_modules/core-js/internals/object-define-property.js").f,p=c("./node_modules/core-js/internals/has.js"),m=c("./node_modules/core-js/internals/well-known-symbol.js"),b=m("toStringTag");a.exports=function(_,C,w){_&&!p(_=w?_:_.prototype,b)&&h(_,b,{configurable:!0,value:C})}},"./node_modules/core-js/internals/shared-key.js":function(a,u,c){var h=c("./node_modules/core-js/internals/shared.js"),p=c("./node_modules/core-js/internals/uid.js"),m=h("keys");a.exports=function(b){return m[b]||(m[b]=p(b))}},"./node_modules/core-js/internals/shared-store.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/set-global.js"),m="__core-js_shared__",b=h[m]||p(m,{});a.exports=b},"./node_modules/core-js/internals/shared.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-pure.js"),p=c("./node_modules/core-js/internals/shared-store.js");(a.exports=function(m,b){return p[m]||(p[m]=b!==void 0?b:{})})("versions",[]).push({version:"3.16.0",mode:h?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(a,u,c){var h=c("./node_modules/core-js/internals/fails.js");a.exports=function(p){return h(function(){var m=""[p]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-integer.js"),p=c("./node_modules/core-js/internals/to-string.js"),m=c("./node_modules/core-js/internals/require-object-coercible.js"),b=function(_){return function(C,w){var y=p(m(C)),E=h(w),F=y.length,M,k;return E<0||E>=F?_?"":void 0:(M=y.charCodeAt(E),M<55296||M>56319||E+1===F||(k=y.charCodeAt(E+1))<56320||k>57343?_?y.charAt(E):M:_?y.slice(E,E+2):(M-55296<<10)+(k-56320)+65536)}};a.exports={codeAt:b(!1),charAt:b(!0)}},"./node_modules/core-js/internals/string-trim.js":function(a,u,c){var h=c("./node_modules/core-js/internals/require-object-coercible.js"),p=c("./node_modules/core-js/internals/to-string.js"),m=c("./node_modules/core-js/internals/whitespaces.js"),b="["+m+"]",_=RegExp("^"+b+b+"*"),C=RegExp(b+b+"*$"),w=function(y){return function(E){var F=p(h(E));return y&1&&(F=F.replace(_,"")),y&2&&(F=F.replace(C,"")),F}};a.exports={start:w(1),end:w(2),trim:w(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-integer.js"),p=Math.max,m=Math.min;a.exports=function(b,_){var C=h(b);return C<0?p(C+_,0):m(C,_)}},"./node_modules/core-js/internals/to-indexed-object.js":function(a,u,c){var h=c("./node_modules/core-js/internals/indexed-object.js"),p=c("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(m){return h(p(m))}},"./node_modules/core-js/internals/to-integer.js":function(a){var u=Math.ceil,c=Math.floor;a.exports=function(h){return isNaN(h=+h)?0:(h>0?c:u)(h)}},"./node_modules/core-js/internals/to-length.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-integer.js"),p=Math.min;a.exports=function(m){return m>0?p(h(m),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(a,u,c){var h=c("./node_modules/core-js/internals/require-object-coercible.js");a.exports=function(p){return Object(h(p))}},"./node_modules/core-js/internals/to-primitive.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-object.js"),p=c("./node_modules/core-js/internals/is-symbol.js"),m=c("./node_modules/core-js/internals/ordinary-to-primitive.js"),b=c("./node_modules/core-js/internals/well-known-symbol.js"),_=b("toPrimitive");a.exports=function(C,w){if(!h(C)||p(C))return C;var y=C[_],E;if(y!==void 0){if(w===void 0&&(w="default"),E=y.call(C,w),!h(E)||p(E))return E;throw TypeError("Can't convert object to primitive value")}return w===void 0&&(w="number"),m(C,w)}},"./node_modules/core-js/internals/to-property-key.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-primitive.js"),p=c("./node_modules/core-js/internals/is-symbol.js");a.exports=function(m){var b=h(m,"string");return p(b)?b:String(b)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(a,u,c){var h=c("./node_modules/core-js/internals/well-known-symbol.js"),p=h("toStringTag"),m={};m[p]="z",a.exports=String(m)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(a,u,c){var h=c("./node_modules/core-js/internals/is-symbol.js");a.exports=function(p){if(h(p))throw TypeError("Cannot convert a Symbol value to a string");return String(p)}},"./node_modules/core-js/internals/uid.js":function(a){var u=0,c=Math.random();a.exports=function(h){return"Symbol("+String(h===void 0?"":h)+")_"+(++u+c).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(a,u,c){var h=c("./node_modules/core-js/internals/native-symbol.js");a.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(a,u,c){var h=c("./node_modules/core-js/internals/well-known-symbol.js");u.f=h},"./node_modules/core-js/internals/well-known-symbol.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/shared.js"),m=c("./node_modules/core-js/internals/has.js"),b=c("./node_modules/core-js/internals/uid.js"),_=c("./node_modules/core-js/internals/native-symbol.js"),C=c("./node_modules/core-js/internals/use-symbol-as-uid.js"),w=p("wks"),y=h.Symbol,E=C?y:y&&y.withoutSetter||b;a.exports=function(F){return(!m(w,F)||!(_||typeof w[F]=="string"))&&(_&&m(y,F)?w[F]=y[F]:w[F]=E("Symbol."+F)),w[F]}},"./node_modules/core-js/internals/whitespaces.js":function(a){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/fails.js"),m=c("./node_modules/core-js/internals/is-array.js"),b=c("./node_modules/core-js/internals/is-object.js"),_=c("./node_modules/core-js/internals/to-object.js"),C=c("./node_modules/core-js/internals/to-length.js"),w=c("./node_modules/core-js/internals/create-property.js"),y=c("./node_modules/core-js/internals/array-species-create.js"),E=c("./node_modules/core-js/internals/array-method-has-species-support.js"),F=c("./node_modules/core-js/internals/well-known-symbol.js"),M=c("./node_modules/core-js/internals/engine-v8-version.js"),k=F("isConcatSpreadable"),N=9007199254740991,S="Maximum allowed index exceeded",O=M>=51||!p(function(){var D=[];return D[k]=!1,D.concat()[0]!==D}),H=E("concat"),j=function(D){if(!b(D))return!1;var W=D[k];return W!==void 0?!!W:m(D)},T=!O||!H;h({target:"Array",proto:!0,forced:T},{concat:function(W){var oe=_(this),V=y(oe,0),q=0,z,ue,ie,be,Q;for(z=-1,ie=arguments.length;z<ie;z++)if(Q=z===-1?oe:arguments[z],j(Q)){if(be=C(Q.length),q+be>N)throw TypeError(S);for(ue=0;ue<be;ue++,q++)ue in Q&&w(V,q,Q[ue])}else{if(q>=N)throw TypeError(S);w(V,q++,Q)}return V.length=q,V}})},"./node_modules/core-js/modules/es.array.iterator.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-indexed-object.js"),p=c("./node_modules/core-js/internals/add-to-unscopables.js"),m=c("./node_modules/core-js/internals/iterators.js"),b=c("./node_modules/core-js/internals/internal-state.js"),_=c("./node_modules/core-js/internals/define-iterator.js"),C="Array Iterator",w=b.set,y=b.getterFor(C);a.exports=_(Array,"Array",function(E,F){w(this,{type:C,target:h(E),index:0,kind:F})},function(){var E=y(this),F=E.target,M=E.kind,k=E.index++;return!F||k>=F.length?(E.target=void 0,{value:void 0,done:!0}):M=="keys"?{value:k,done:!1}:M=="values"?{value:F[k],done:!1}:{value:[k,F[k]],done:!1}},"values"),m.Arguments=m.Array,p("keys"),p("values"),p("entries")},"./node_modules/core-js/modules/es.array.join.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/indexed-object.js"),m=c("./node_modules/core-js/internals/to-indexed-object.js"),b=c("./node_modules/core-js/internals/array-method-is-strict.js"),_=[].join,C=p!=Object,w=b("join",",");h({target:"Array",proto:!0,forced:C||!w},{join:function(E){return _.call(m(this),E===void 0?",":E)}})},"./node_modules/core-js/modules/es.array.map.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/array-iteration.js").map,m=c("./node_modules/core-js/internals/array-method-has-species-support.js"),b=m("map");h({target:"Array",proto:!0,forced:!b},{map:function(C){return p(this,C,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/is-object.js"),m=c("./node_modules/core-js/internals/is-array.js"),b=c("./node_modules/core-js/internals/to-absolute-index.js"),_=c("./node_modules/core-js/internals/to-length.js"),C=c("./node_modules/core-js/internals/to-indexed-object.js"),w=c("./node_modules/core-js/internals/create-property.js"),y=c("./node_modules/core-js/internals/well-known-symbol.js"),E=c("./node_modules/core-js/internals/array-method-has-species-support.js"),F=E("slice"),M=y("species"),k=[].slice,N=Math.max;h({target:"Array",proto:!0,forced:!F},{slice:function(O,H){var j=C(this),T=_(j.length),D=b(O,T),W=b(H===void 0?T:H,T),oe,V,q;if(m(j)&&(oe=j.constructor,typeof oe=="function"&&(oe===Array||m(oe.prototype))?oe=void 0:p(oe)&&(oe=oe[M],oe===null&&(oe=void 0)),oe===Array||oe===void 0))return k.call(j,D,W);for(V=new(oe===void 0?Array:oe)(N(W-D,0)),q=0;D<W;D++,q++)D in j&&w(V,q,j[D]);return V.length=q,V}})},"./node_modules/core-js/modules/es.function.name.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/object-define-property.js").f,m=Function.prototype,b=m.toString,_=/^\s*function ([^ (]*)/,C="name";h&&!(C in m)&&p(m,C,{configurable:!0,get:function(){try{return b.call(this).match(_)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(a,u,c){var h=c("./node_modules/core-js/internals/descriptors.js"),p=c("./node_modules/core-js/internals/global.js"),m=c("./node_modules/core-js/internals/is-forced.js"),b=c("./node_modules/core-js/internals/redefine.js"),_=c("./node_modules/core-js/internals/has.js"),C=c("./node_modules/core-js/internals/classof-raw.js"),w=c("./node_modules/core-js/internals/inherit-if-required.js"),y=c("./node_modules/core-js/internals/is-symbol.js"),E=c("./node_modules/core-js/internals/to-primitive.js"),F=c("./node_modules/core-js/internals/fails.js"),M=c("./node_modules/core-js/internals/object-create.js"),k=c("./node_modules/core-js/internals/object-get-own-property-names.js").f,N=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,S=c("./node_modules/core-js/internals/object-define-property.js").f,O=c("./node_modules/core-js/internals/string-trim.js").trim,H="Number",j=p[H],T=j.prototype,D=C(M(T))==H,W=function(ue){if(y(ue))throw TypeError("Cannot convert a Symbol value to a number");var ie=E(ue,"number"),be,Q,J,re,ee,he,ve,fe;if(typeof ie=="string"&&ie.length>2){if(ie=O(ie),be=ie.charCodeAt(0),be===43||be===45){if(Q=ie.charCodeAt(2),Q===88||Q===120)return NaN}else if(be===48){switch(ie.charCodeAt(1)){case 66:case 98:J=2,re=49;break;case 79:case 111:J=8,re=55;break;default:return+ie}for(ee=ie.slice(2),he=ee.length,ve=0;ve<he;ve++)if(fe=ee.charCodeAt(ve),fe<48||fe>re)return NaN;return parseInt(ee,J)}}return+ie};if(m(H,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var oe=function(ie){var be=arguments.length<1?0:ie,Q=this;return Q instanceof oe&&(D?F(function(){T.valueOf.call(Q)}):C(Q)!=H)?w(new j(W(be)),Q,oe):W(be)},V=h?k(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),q=0,z;V.length>q;q++)_(j,z=V[q])&&!_(oe,z)&&S(oe,z,N(j,z));oe.prototype=T,T.constructor=oe,b(p,H,oe)}},"./node_modules/core-js/modules/es.object.assign.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/object-assign.js");h({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},"./node_modules/core-js/modules/es.object.keys.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/to-object.js"),m=c("./node_modules/core-js/internals/object-keys.js"),b=c("./node_modules/core-js/internals/fails.js"),_=b(function(){m(1)});h({target:"Object",stat:!0,forced:_},{keys:function(w){return m(p(w))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(a,u,c){var h=c("./node_modules/core-js/internals/to-string-tag-support.js"),p=c("./node_modules/core-js/internals/redefine.js"),m=c("./node_modules/core-js/internals/object-to-string.js");h||p(Object.prototype,"toString",m,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(a,u,c){var h=c("./node_modules/core-js/internals/redefine.js"),p=c("./node_modules/core-js/internals/an-object.js"),m=c("./node_modules/core-js/internals/to-string.js"),b=c("./node_modules/core-js/internals/fails.js"),_=c("./node_modules/core-js/internals/regexp-flags.js"),C="toString",w=RegExp.prototype,y=w[C],E=b(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),F=y.name!=C;(E||F)&&h(RegExp.prototype,C,function(){var k=p(this),N=m(k.source),S=k.flags,O=m(S===void 0&&k instanceof RegExp&&!("flags"in w)?_.call(k):S);return"/"+N+"/"+O},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(a,u,c){var h=c("./node_modules/core-js/internals/string-multibyte.js").charAt,p=c("./node_modules/core-js/internals/to-string.js"),m=c("./node_modules/core-js/internals/internal-state.js"),b=c("./node_modules/core-js/internals/define-iterator.js"),_="String Iterator",C=m.set,w=m.getterFor(_);b(String,"String",function(y){C(this,{type:_,string:p(y),index:0})},function(){var E=w(this),F=E.string,M=E.index,k;return M>=F.length?{value:void 0,done:!0}:(k=h(F,M),E.index+=k.length,{value:k,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/create-html.js"),m=c("./node_modules/core-js/internals/string-html-forced.js");h({target:"String",proto:!0,forced:m("link")},{link:function(_){return p(this,"a","href",_)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/descriptors.js"),m=c("./node_modules/core-js/internals/global.js"),b=c("./node_modules/core-js/internals/has.js"),_=c("./node_modules/core-js/internals/is-object.js"),C=c("./node_modules/core-js/internals/object-define-property.js").f,w=c("./node_modules/core-js/internals/copy-constructor-properties.js"),y=m.Symbol;if(p&&typeof y=="function"&&(!("description"in y.prototype)||y().description!==void 0)){var E={},F=function(){var H=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),j=this instanceof F?new y(H):H===void 0?y():y(H);return H===""&&(E[j]=!0),j};w(F,y);var M=F.prototype=y.prototype;M.constructor=F;var k=M.toString,N=String(y("test"))=="Symbol(test)",S=/^Symbol\((.*)\)[^)]+$/;C(M,"description",{configurable:!0,get:function(){var H=_(this)?this.valueOf():this,j=k.call(H);if(b(E,H))return"";var T=N?j.slice(7,-1):j.replace(S,"$1");return T===""?void 0:T}}),h({global:!0,forced:!0},{Symbol:F})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(a,u,c){var h=c("./node_modules/core-js/internals/define-well-known-symbol.js");h("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(a,u,c){var h=c("./node_modules/core-js/internals/export.js"),p=c("./node_modules/core-js/internals/global.js"),m=c("./node_modules/core-js/internals/get-built-in.js"),b=c("./node_modules/core-js/internals/is-pure.js"),_=c("./node_modules/core-js/internals/descriptors.js"),C=c("./node_modules/core-js/internals/native-symbol.js"),w=c("./node_modules/core-js/internals/fails.js"),y=c("./node_modules/core-js/internals/has.js"),E=c("./node_modules/core-js/internals/is-array.js"),F=c("./node_modules/core-js/internals/is-object.js"),M=c("./node_modules/core-js/internals/is-symbol.js"),k=c("./node_modules/core-js/internals/an-object.js"),N=c("./node_modules/core-js/internals/to-object.js"),S=c("./node_modules/core-js/internals/to-indexed-object.js"),O=c("./node_modules/core-js/internals/to-property-key.js"),H=c("./node_modules/core-js/internals/to-string.js"),j=c("./node_modules/core-js/internals/create-property-descriptor.js"),T=c("./node_modules/core-js/internals/object-create.js"),D=c("./node_modules/core-js/internals/object-keys.js"),W=c("./node_modules/core-js/internals/object-get-own-property-names.js"),oe=c("./node_modules/core-js/internals/object-get-own-property-names-external.js"),V=c("./node_modules/core-js/internals/object-get-own-property-symbols.js"),q=c("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),z=c("./node_modules/core-js/internals/object-define-property.js"),ue=c("./node_modules/core-js/internals/object-property-is-enumerable.js"),ie=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),be=c("./node_modules/core-js/internals/redefine.js"),Q=c("./node_modules/core-js/internals/shared.js"),J=c("./node_modules/core-js/internals/shared-key.js"),re=c("./node_modules/core-js/internals/hidden-keys.js"),ee=c("./node_modules/core-js/internals/uid.js"),he=c("./node_modules/core-js/internals/well-known-symbol.js"),ve=c("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),fe=c("./node_modules/core-js/internals/define-well-known-symbol.js"),ne=c("./node_modules/core-js/internals/set-to-string-tag.js"),te=c("./node_modules/core-js/internals/internal-state.js"),Ae=c("./node_modules/core-js/internals/array-iteration.js").forEach,xe=J("hidden"),ye="Symbol",Fe="prototype",Ce=he("toPrimitive"),me=te.set,Ye=te.getterFor(ye),We=Object[Fe],Qe=p.Symbol,Ve=m("JSON","stringify"),ze=q.f,Je=z.f,ft=oe.f,Nt=ue.f,It=Q("symbols"),Ut=Q("op-symbols"),Ft=Q("string-to-symbol-registry"),Bt=Q("symbol-to-string-registry"),Pt=Q("wks"),Le=p.QObject,je=!Le||!Le[Fe]||!Le[Fe].findChild,nt=_&&w(function(){return T(Je({},"a",{get:function(){return Je(this,"a",{value:7}).a}})).a!=7})?function(Vt,At,ot){var vt=ze(We,At);vt&&delete We[At],Je(Vt,At,ot),vt&&Vt!==We&&Je(We,At,vt)}:Je,it=function(Vt,At){var ot=It[Vt]=T(Qe[Fe]);return me(ot,{type:ye,tag:Vt,description:At}),_||(ot.description=At),ot},St=function(At,ot,vt){At===We&&St(Ut,ot,vt),k(At);var on=O(ot);return k(vt),y(It,on)?(vt.enumerable?(y(At,xe)&&At[xe][on]&&(At[xe][on]=!1),vt=T(vt,{enumerable:j(0,!1)})):(y(At,xe)||Je(At,xe,j(1,{})),At[xe][on]=!0),nt(At,on,vt)):Je(At,on,vt)},pt=function(At,ot){k(At);var vt=S(ot),on=D(vt).concat(pn(vt));return Ae(on,function(An){(!_||kn.call(vt,An))&&St(At,An,vt[An])}),At},Ht=function(At,ot){return ot===void 0?T(At):pt(T(At),ot)},kn=function(At){var ot=O(At),vt=Nt.call(this,ot);return this===We&&y(It,ot)&&!y(Ut,ot)?!1:vt||!y(this,ot)||!y(It,ot)||y(this,xe)&&this[xe][ot]?vt:!0},nn=function(At,ot){var vt=S(At),on=O(ot);if(!(vt===We&&y(It,on)&&!y(Ut,on))){var An=ze(vt,on);return An&&y(It,on)&&!(y(vt,xe)&&vt[xe][on])&&(An.enumerable=!0),An}},Wr=function(At){var ot=ft(S(At)),vt=[];return Ae(ot,function(on){!y(It,on)&&!y(re,on)&&vt.push(on)}),vt},pn=function(At){var ot=At===We,vt=ft(ot?Ut:S(At)),on=[];return Ae(vt,function(An){y(It,An)&&(!ot||y(We,An))&&on.push(It[An])}),on};if(C||(Qe=function(){if(this instanceof Qe)throw TypeError("Symbol is not a constructor");var At=!arguments.length||arguments[0]===void 0?void 0:H(arguments[0]),ot=ee(At),vt=function(on){this===We&&vt.call(Ut,on),y(this,xe)&&y(this[xe],ot)&&(this[xe][ot]=!1),nt(this,ot,j(1,on))};return _&&je&&nt(We,ot,{configurable:!0,set:vt}),it(ot,At)},be(Qe[Fe],"toString",function(){return Ye(this).tag}),be(Qe,"withoutSetter",function(Vt){return it(ee(Vt),Vt)}),ue.f=kn,z.f=St,q.f=nn,W.f=oe.f=Wr,V.f=pn,ve.f=function(Vt){return it(he(Vt),Vt)},_&&(Je(Qe[Fe],"description",{configurable:!0,get:function(){return Ye(this).description}}),b||be(We,"propertyIsEnumerable",kn,{unsafe:!0}))),h({global:!0,wrap:!0,forced:!C,sham:!C},{Symbol:Qe}),Ae(D(Pt),function(Vt){fe(Vt)}),h({target:ye,stat:!0,forced:!C},{for:function(Vt){var At=H(Vt);if(y(Ft,At))return Ft[At];var ot=Qe(At);return Ft[At]=ot,Bt[ot]=At,ot},keyFor:function(At){if(!M(At))throw TypeError(At+" is not a symbol");if(y(Bt,At))return Bt[At]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),h({target:"Object",stat:!0,forced:!C,sham:!_},{create:Ht,defineProperty:St,defineProperties:pt,getOwnPropertyDescriptor:nn}),h({target:"Object",stat:!0,forced:!C},{getOwnPropertyNames:Wr,getOwnPropertySymbols:pn}),h({target:"Object",stat:!0,forced:w(function(){V.f(1)})},{getOwnPropertySymbols:function(At){return V.f(N(At))}}),Ve){var oi=!C||w(function(){var Vt=Qe();return Ve([Vt])!="[null]"||Ve({a:Vt})!="{}"||Ve(Object(Vt))!="{}"});h({target:"JSON",stat:!0,forced:oi},{stringify:function(At,ot,vt){for(var on=[At],An=1,ai;arguments.length>An;)on.push(arguments[An++]);if(ai=ot,!(!F(ot)&&At===void 0||M(At)))return E(ot)||(ot=function(br,Tt){if(typeof ai=="function"&&(Tt=ai.call(this,br,Tt)),!M(Tt))return Tt}),on[1]=ot,Ve.apply(null,on)}})}Qe[Fe][Ce]||ie(Qe[Fe],Ce,Qe[Fe].valueOf),ne(Qe,ye),re[xe]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/dom-iterables.js"),m=c("./node_modules/core-js/internals/array-for-each.js"),b=c("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var _ in p){var C=h[_],w=C&&C.prototype;if(w&&w.forEach!==m)try{b(w,"forEach",m)}catch{w.forEach=m}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(a,u,c){var h=c("./node_modules/core-js/internals/global.js"),p=c("./node_modules/core-js/internals/dom-iterables.js"),m=c("./node_modules/core-js/modules/es.array.iterator.js"),b=c("./node_modules/core-js/internals/create-non-enumerable-property.js"),_=c("./node_modules/core-js/internals/well-known-symbol.js"),C=_("iterator"),w=_("toStringTag"),y=m.values;for(var E in p){var F=h[E],M=F&&F.prototype;if(M){if(M[C]!==y)try{b(M,C,y)}catch{M[C]=y}if(M[w]||b(M,w,E),p[E]){for(var k in m)if(M[k]!==m[k])try{b(M,k,m[k])}catch{M[k]=m[k]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(a){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(u,c){a.exports=c()})(this,function(){function u(Le){var je=typeof Le;return Le!==null&&(je==="object"||je==="function")}function c(Le){return typeof Le=="function"}var h=void 0;Array.isArray?h=Array.isArray:h=function(Le){return Object.prototype.toString.call(Le)==="[object Array]"};var p=h,m=0,b=void 0,_=void 0,C=function(je,nt){D[m]=je,D[m+1]=nt,m+=2,m===2&&(_?_(W):V())};function w(Le){_=Le}function y(Le){C=Le}var E=typeof window<"u"?window:void 0,F=E||{},M=F.MutationObserver||F.WebKitMutationObserver,k=typeof self>"u"&&typeof Lp<"u"&&{}.toString.call(Lp)==="[object process]",N=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){return function(){return Lp.nextTick(W)}}function O(){return typeof b<"u"?function(){b(W)}:T()}function H(){var Le=0,je=new M(W),nt=document.createTextNode("");return je.observe(nt,{characterData:!0}),function(){nt.data=Le=++Le%2}}function j(){var Le=new MessageChannel;return Le.port1.onmessage=W,function(){return Le.port2.postMessage(0)}}function T(){var Le=setTimeout;return function(){return Le(W,1)}}var D=new Array(1e3);function W(){for(var Le=0;Le<m;Le+=2){var je=D[Le],nt=D[Le+1];je(nt),D[Le]=void 0,D[Le+1]=void 0}m=0}function oe(){try{var Le=Function("return this")().require("vertx");return b=Le.runOnLoop||Le.runOnContext,O()}catch{return T()}}var V=void 0;k?V=S():M?V=H():N?V=j():E===void 0?V=oe():V=T();function q(Le,je){var nt=this,it=new this.constructor(ie);it[ue]===void 0&&Ve(it);var St=nt._state;if(St){var pt=arguments[St-1];C(function(){return me(St,it,pt,nt._result)})}else Fe(nt,it,Le,je);return it}function z(Le){var je=this;if(Le&&typeof Le=="object"&&Le.constructor===je)return Le;var nt=new je(ie);return te(nt,Le),nt}var ue=Math.random().toString(36).substring(2);function ie(){}var be=void 0,Q=1,J=2;function re(){return new TypeError("You cannot resolve a promise with itself")}function ee(){return new TypeError("A promises callback cannot return that same promise.")}function he(Le,je,nt,it){try{Le.call(je,nt,it)}catch(St){return St}}function ve(Le,je,nt){C(function(it){var St=!1,pt=he(nt,je,function(Ht){St||(St=!0,je!==Ht?te(it,Ht):xe(it,Ht))},function(Ht){St||(St=!0,ye(it,Ht))},"Settle: "+(it._label||" unknown promise"));!St&&pt&&(St=!0,ye(it,pt))},Le)}function fe(Le,je){je._state===Q?xe(Le,je._result):je._state===J?ye(Le,je._result):Fe(je,void 0,function(nt){return te(Le,nt)},function(nt){return ye(Le,nt)})}function ne(Le,je,nt){je.constructor===Le.constructor&&nt===q&&je.constructor.resolve===z?fe(Le,je):nt===void 0?xe(Le,je):c(nt)?ve(Le,je,nt):xe(Le,je)}function te(Le,je){if(Le===je)ye(Le,re());else if(u(je)){var nt=void 0;try{nt=je.then}catch(it){ye(Le,it);return}ne(Le,je,nt)}else xe(Le,je)}function Ae(Le){Le._onerror&&Le._onerror(Le._result),Ce(Le)}function xe(Le,je){Le._state===be&&(Le._result=je,Le._state=Q,Le._subscribers.length!==0&&C(Ce,Le))}function ye(Le,je){Le._state===be&&(Le._state=J,Le._result=je,C(Ae,Le))}function Fe(Le,je,nt,it){var St=Le._subscribers,pt=St.length;Le._onerror=null,St[pt]=je,St[pt+Q]=nt,St[pt+J]=it,pt===0&&Le._state&&C(Ce,Le)}function Ce(Le){var je=Le._subscribers,nt=Le._state;if(je.length!==0){for(var it=void 0,St=void 0,pt=Le._result,Ht=0;Ht<je.length;Ht+=3)it=je[Ht],St=je[Ht+nt],it?me(nt,it,St,pt):St(pt);Le._subscribers.length=0}}function me(Le,je,nt,it){var St=c(nt),pt=void 0,Ht=void 0,kn=!0;if(St){try{pt=nt(it)}catch(nn){kn=!1,Ht=nn}if(je===pt){ye(je,ee());return}}else pt=it;je._state!==be||(St&&kn?te(je,pt):kn===!1?ye(je,Ht):Le===Q?xe(je,pt):Le===J&&ye(je,pt))}function Ye(Le,je){try{je(function(it){te(Le,it)},function(it){ye(Le,it)})}catch(nt){ye(Le,nt)}}var We=0;function Qe(){return We++}function Ve(Le){Le[ue]=We++,Le._state=void 0,Le._result=void 0,Le._subscribers=[]}function ze(){return new Error("Array Methods must be provided an Array")}var Je=function(){function Le(je,nt){this._instanceConstructor=je,this.promise=new je(ie),this.promise[ue]||Ve(this.promise),p(nt)?(this.length=nt.length,this._remaining=nt.length,this._result=new Array(this.length),this.length===0?xe(this.promise,this._result):(this.length=this.length||0,this._enumerate(nt),this._remaining===0&&xe(this.promise,this._result))):ye(this.promise,ze())}return Le.prototype._enumerate=function(nt){for(var it=0;this._state===be&&it<nt.length;it++)this._eachEntry(nt[it],it)},Le.prototype._eachEntry=function(nt,it){var St=this._instanceConstructor,pt=St.resolve;if(pt===z){var Ht=void 0,kn=void 0,nn=!1;try{Ht=nt.then}catch(pn){nn=!0,kn=pn}if(Ht===q&&nt._state!==be)this._settledAt(nt._state,it,nt._result);else if(typeof Ht!="function")this._remaining--,this._result[it]=nt;else if(St===Bt){var Wr=new St(ie);nn?ye(Wr,kn):ne(Wr,nt,Ht),this._willSettleAt(Wr,it)}else this._willSettleAt(new St(function(pn){return pn(nt)}),it)}else this._willSettleAt(pt(nt),it)},Le.prototype._settledAt=function(nt,it,St){var pt=this.promise;pt._state===be&&(this._remaining--,nt===J?ye(pt,St):this._result[it]=St),this._remaining===0&&xe(pt,this._result)},Le.prototype._willSettleAt=function(nt,it){var St=this;Fe(nt,void 0,function(pt){return St._settledAt(Q,it,pt)},function(pt){return St._settledAt(J,it,pt)})},Le}();function ft(Le){return new Je(this,Le).promise}function Nt(Le){var je=this;return p(Le)?new je(function(nt,it){for(var St=Le.length,pt=0;pt<St;pt++)je.resolve(Le[pt]).then(nt,it)}):new je(function(nt,it){return it(new TypeError("You must pass an array to race."))})}function It(Le){var je=this,nt=new je(ie);return ye(nt,Le),nt}function Ut(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ft(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Bt=function(){function Le(je){this[ue]=Qe(),this._result=this._state=void 0,this._subscribers=[],ie!==je&&(typeof je!="function"&&Ut(),this instanceof Le?Ye(this,je):Ft())}return Le.prototype.catch=function(nt){return this.then(null,nt)},Le.prototype.finally=function(nt){var it=this,St=it.constructor;return c(nt)?it.then(function(pt){return St.resolve(nt()).then(function(){return pt})},function(pt){return St.resolve(nt()).then(function(){throw pt})}):it.then(nt,nt)},Le}();Bt.prototype.then=q,Bt.all=ft,Bt.race=Nt,Bt.resolve=z,Bt.reject=It,Bt._setScheduler=w,Bt._setAsap=y,Bt._asap=C;function Pt(){var Le=void 0;if(typeof mh<"u")Le=mh;else if(typeof self<"u")Le=self;else try{Le=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var je=Le.Promise;if(je){var nt=null;try{nt=Object.prototype.toString.call(je.resolve())}catch{}if(nt==="[object Promise]"&&!je.cast)return}Le.Promise=Bt}return Bt.polyfill=Pt,Bt.Promise=Bt,Bt})},html2canvas:function(a){a.exports=r},jspdf:function(a){a.exports=n}},s={};function o(a){var u=s[a];if(u!==void 0)return u.exports;var c=s[a]={exports:{}};return i[a].call(c.exports,c,c.exports,o),c.exports}(function(){o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,{a:u}),u}})(),function(){o.d=function(a,u){for(var c in u)o.o(u,c)&&!o.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:u[c]})}}(),function(){o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)}}(),function(){o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}();var l={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/o.r(l);var a=o("./src/worker.js");o("./src/plugin/jspdf-plugin.js"),o("./src/plugin/pagebreaks.js"),o("./src/plugin/hyperlinks.js");var u=function c(h,p){var m=new c.Worker(p);return h?m.from(h).save():m};u.Worker=a.default,l.default=u}(),l=l.default,l}()})})(cR);var zie=cR.exports;const $ie=$y(zie);async function Gie({company:t,driverId:e,driverName:n,date:r,dataUrl:i}){const s=r.slice(0,4),o=r.slice(5,7),l=r.slice(8,10),a=`${s}年${o}月${l}日_${n}_日報.pdf`,u=`companies/${t}/drivers/${e}/daily/${s}/${o}/${a}`,c=iE(sE,u);await Ak(c,i,"data_url",{contentType:"application/pdf"});const h=await rE(c),p=$i();return await Xa(nr(ln,"companies",t,"drivers",e,"files",`daily:${r}`),{kind:"daily",date:r,fileName:a,path:u,url:h,year:s,month:o,day:l,createdAt:p},{merge:!0}),await Xa(nr(ln,"companies",t,"drivers",e,"files",`folder:${s}-${o}`),{kind:"monthlyFolder",label:`${s}年${o}月`,year:s,month:o,createdAt:p},{merge:!0}),await Xa(nr(ln,"companies",t,"drivers",e,"files",`folder:${s}`),{kind:"yearlyFolder",label:`${s}年`,year:s,createdAt:p},{merge:!0}),await Xa(nr(ln,"companies",t,"dailyReports",`${e}:${r}`),{driverId:e,driverName:n,company:t,date:r,fileName:a,path:u,url:h,year:s,month:o,day:l,createdAt:p},{merge:!0}),await Xa(nr(ln,"companies",t,"notifications",`report:${e}:${r}`),{type:"report",category:"日報提出",message:`${n} が ${s}年${o}月${l}日に日報を提出しました。`,target:e,read:!1,createdAt:p},{merge:!0}),{url:h,fileName:a,storagePath:u}}function aT(){const t=Y.useMemo(()=>JSON.parse(localStorage.getItem("currentUser")||"{}"),[]),e=(t==null?void 0:t.company)||"default",n=(t==null?void 0:t.name)||"名無し",r=(t==null?void 0:t.uid)||(t==null?void 0:t.id)||"driver001",[i,s]=Y.useState(new Date().toISOString().slice(0,10)),[o,l]=Y.useState(""),[a,u]=Y.useState("OK"),[c,h]=Y.useState("OK"),[p,m]=Y.useState(""),[b,_]=Y.useState(""),[C,w]=Y.useState(""),[y,E]=Y.useState(""),[F,M]=Y.useState(""),[k,N]=Y.useState(""),[S,O]=Y.useState(""),[H,j]=Y.useState({start:"",breakStart:"",breakEnd:"",end:""}),T=Y.useRef(null),[D,W]=Y.useState({open:!1,dataUrl:"",fileName:""});Y.useEffect(()=>{const ee=setInterval(()=>{l(new Date().toLocaleTimeString("ja-JP",{timeZone:"Asia/Tokyo"}))},1e3);return()=>clearInterval(ee)},[]);function oe(ee){j(he=>({...he,[ee]:new Date().toLocaleTimeString("ja-JP",{timeZone:"Asia/Tokyo"})}))}function V(ee){j(he=>({...he,[ee]:""}))}const q=Number(b||""),z=Number(C||""),ue=Number.isFinite(q)&&Number.isFinite(z)&&z>=q?z-q:null,ie=a==="OK"&&c==="OK"&&!!b&&!!C&&ue!==null&&!!H.start&&!!H.end;function be(ee,he){const ve=new FileReader;ve.onload=()=>he(String(ve.result||"")),ve.readAsDataURL(ee)}async function Q(){const he=`${new Date(i).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"})}_${n}_日報.pdf`;if(!T.current)return;const ve={margin:.35,filename:he,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}},fe=await $ie().set(ve).from(T.current).outputPdf("blob"),ne=await new Promise(te=>{const Ae=new FileReader;Ae.onloadend=()=>te(Ae.result),Ae.readAsDataURL(fe)});W({open:!0,dataUrl:ne,fileName:he})}async function J(){try{await Gie({company:e,driverId:r,driverName:n,date:i,dataUrl:D.dataUrl}),W({open:!1,dataUrl:"",fileName:""}),alert("✅ 日報を送信しました（ファイル管理に反映）")}catch(ee){console.error(ee),alert("送信に失敗しました。通信状況/権限をご確認ください。")}}const re=[...Array(7)].map((ee,he)=>{const ve=new Date;return ve.setDate(ve.getDate()-(6-he)),ve.toISOString().slice(0,10)});return d.jsxs("div",{className:"space-y-8 text-gray-900",children:[d.jsxs("header",{className:"flex items-end justify-between",children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-white",children:["🚚 日報提出",d.jsx("span",{className:"ml-2 text-base md:text-lg font-medium text-white",children:"— Driver Dashboard —"})]}),d.jsxs("div",{className:"text-right text-sm md:text-base text-gray-800",children:["日本時間：",d.jsx("span",{className:"font-mono font-semibold",children:o})]})]}),d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg p-6 md:p-7",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[d.jsx("div",{className:"w-1.5 h-6 bg-gray-900 rounded"}),d.jsx("h2",{className:"text-xl md:text-2xl font-extrabold text-gray-900",children:"入力"})]}),d.jsxs("div",{className:"mb-5",children:[d.jsx("label",{className:"block text-sm md:text-base text-gray-900 mb-2",children:"日付選択"}),d.jsx("select",{value:i,onChange:ee=>s(ee.target.value),className:"w-full md:w-80 border-2 rounded-xl px-3 py-3 text-lg font-semibold text-black placeholder:text-gray-600 focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500",children:re.map(ee=>d.jsx("option",{value:ee,children:new Date(ee).toLocaleDateString("ja-JP")},ee))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-base",children:[d.jsxs("div",{className:"space-y-2 border-2 rounded-xl px-3 py-3",children:[d.jsxs("label",{className:"flex items-center justify-between gap-3",children:[d.jsx("span",{className:"text-gray-700 font-semibold",children:"検温"}),d.jsxs("select",{className:"border-2 rounded-lg px-3 py-2 text-lg font-semibold text-black focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500",value:a,onChange:ee=>u(ee.target.value),children:[d.jsx("option",{children:"OK"}),d.jsx("option",{children:"NG"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"検温写真（任意）"}),d.jsx("input",{type:"file",accept:"image/*",onChange:ee=>{var ve;const he=(ve=ee.target.files)==null?void 0:ve[0];he&&be(he,E)},className:"block w-full text-sm"}),y&&d.jsx("div",{className:"mt-2 w-40 h-24 border rounded overflow-hidden",children:d.jsx("img",{src:y,alt:"検温写真",className:"w-full h-full object-cover"})})]})]}),d.jsxs("div",{className:"space-y-2 border-2 rounded-xl px-3 py-3",children:[d.jsxs("label",{className:"flex items-center justify-between gap-3",children:[d.jsx("span",{className:"text-gray-700 font-semibold",children:"アルコール"}),d.jsxs("select",{className:"border-2 rounded-lg px-3 py-2 text-lg font-semibold focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500",value:c,onChange:ee=>h(ee.target.value),children:[d.jsx("option",{children:"OK"}),d.jsx("option",{children:"NG"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-gray-700 mb-1 font-semibold",children:"アルコール検知器写真（任意）"}),d.jsx("input",{type:"file",accept:"image/*",onChange:ee=>{var ve;const he=(ve=ee.target.files)==null?void 0:ve[0];he&&be(he,M)},className:"block w-full text-sm"}),F&&d.jsx("div",{className:"mt-2 w-40 h-24 border rounded overflow-hidden",children:d.jsx("img",{src:F,alt:"アルコール写真",className:"w-full h-full object-cover"})})]})]})]}),(a==="NG"||c==="NG")&&d.jsx("div",{className:"mt-3",children:d.jsx("input",{className:`border-2 rounded-xl px-4 py-3 w-full text-lg focus:outline-none focus:ring-4 focus:ring-rose-200 ${p.trim()?"border-gray-300":"border-rose-400 bg-rose-50"}`,placeholder:"NG理由を入力",value:p,onChange:ee=>m(ee.target.value)})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-base mt-5",children:[d.jsx("input",{className:"border-2 rounded-xl px-4 py-3 text-lg text-black placeholder:text-gray-600 focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500",type:"number",inputMode:"decimal",placeholder:"開始距離 (km)",value:b,onChange:ee=>_(ee.target.value)}),d.jsx("input",{className:"border-2 rounded-xl px-4 py-3 text-lg text-black placeholder:text-gray-600 focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500",type:"number",inputMode:"decimal",placeholder:"終了距離 (km)",value:C,onChange:ee=>w(ee.target.value)})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-base mt-5",children:[d.jsxs("div",{className:"border-2 rounded-xl p-4",children:[d.jsx("div",{className:"text-sm text-gray-700 mb-2 font-semibold",children:"開始メーター写真（任意）"}),d.jsx("input",{type:"file",accept:"image/*",onChange:ee=>{var ve;const he=(ve=ee.target.files)==null?void 0:ve[0];he&&be(he,N)},className:"block w-full text-sm"})]}),d.jsxs("div",{className:"border-2 rounded-xl p-4",children:[d.jsx("div",{className:"text-sm text-gray-700 mb-2 font-semibold",children:"終了メーター写真（任意）"}),d.jsx("input",{type:"file",accept:"image/*",onChange:ee=>{var ve;const he=(ve=ee.target.files)==null?void 0:ve[0];he&&be(he,O)},className:"block w-full text-sm"})]})]}),d.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[d.jsx("button",{className:"px-4 py-3 text-base md:text-lg bg-orange-600 text-white rounded-xl font-bold shadow-sm active:scale-[0.98]",onClick:()=>oe("start"),children:"稼働開始"}),d.jsx("button",{className:"px-4 py-3 text-base md:text-lg bg-orange-600 text-white rounded-xl font-bold shadow-sm active:scale-[0.98]",onClick:()=>oe("breakStart"),children:"休憩開始"}),d.jsx("button",{className:"px-4 py-3 text-base md:text-lg bg-orange-600 text-white rounded-xl font-bold shadow-sm active:scale-[0.98]",onClick:()=>oe("breakEnd"),children:"休憩終了"}),d.jsx("button",{className:"px-4 py-3 text-base md:text-lg bg-orange-600 text-white rounded-xl font-bold shadow-sm active:scale-[0.98]",onClick:()=>oe("end"),children:"稼働終了"}),d.jsx("button",{className:"px-3 py-2 text-sm md:text-base border-2 rounded-xl ml-0 md:ml-3",onClick:()=>V("start"),children:"開始取消"}),d.jsx("button",{className:"px-3 py-2 text-sm md:text-base border-2 rounded-xl",onClick:()=>V("breakStart"),children:"休憩開始取消"}),d.jsx("button",{className:"px-3 py-2 text-sm md:text-base border-2 rounded-xl",onClick:()=>V("breakEnd"),children:"休憩終了取消"}),d.jsx("button",{className:"px-3 py-2 text-sm md:text-base border-2 rounded-xl",onClick:()=>V("end"),children:"終了取消"})]}),d.jsx("div",{className:"mt-8",children:d.jsx("button",{onClick:Q,className:"px-6 py-4 text-lg bg-blue-700 text-white rounded-2xl font-extrabold shadow-md w-full md:w-auto",children:"PDFを作ってプレビュー"})})]}),d.jsxs("div",{ref:T,className:"bg-white rounded-2xl shadow-lg p-6 md:p-8 print:p-6 text-black",children:[d.jsxs("div",{className:"flex items-start justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl md:text-3xl font-black tracking-wide",children:e}),d.jsx("div",{className:"text-sm md:text-base text-gray-800",children:"ドライバー日報（A4）"})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"mt-1",children:[d.jsx("label",{className:"text-sm text-gray-800 mr-2",children:"日付："}),d.jsx("span",{className:"px-2 py-1 rounded border font-semibold text-base",children:new Date(i).toLocaleDateString("ja-JP")})]}),d.jsxs("div",{className:"text-xs text-gray-800 mt-1",children:["ドライバー：",n]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 text-base",children:[d.jsxs("section",{className:"rounded-xl border-2 p-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-1.5 h-6 bg-blue-600 rounded"}),d.jsx("h3",{className:"text-lg md:text-xl font-bold",children:"体調・点呼"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-900",children:"検温"}),d.jsx("span",{className:`px-3 py-1 rounded-lg text-sm md:text-base font-extrabold tracking-wide ${a==="OK"?"bg-emerald-200 text-emerald-900":"bg-rose-200 text-rose-900"}`,children:a})]}),y&&d.jsx("div",{className:"w-40 h-24 border rounded overflow-hidden",children:d.jsx("img",{src:y,alt:"検温写真",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-900",children:"アルコール"}),d.jsx("span",{className:`px-3 py-1 rounded-lg text-sm md:text-base font-extrabold tracking-wide ${c==="OK"?"bg-emerald-200 text-emerald-900":"bg-rose-200 text-rose-900"}`,children:c})]}),F&&d.jsx("div",{className:"w-40 h-24 border rounded overflow-hidden",children:d.jsx("img",{src:F,alt:"アルコール写真",className:"w-full h-full object-cover"})}),(a==="NG"||c==="NG")&&d.jsxs("div",{className:"mt-2",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mb-1",children:"NG理由"}),d.jsx("div",{className:`border-2 rounded-lg p-3 min-h-[48px] ${p.trim()?"border-gray-200":"border-rose-400 bg-rose-50"}`,children:p||d.jsx("span",{className:"text-gray-400",children:"（未入力）"})})]})]})]}),d.jsxs("section",{className:"rounded-xl border-2 p-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded"}),d.jsx("h3",{className:"text-lg md:text-xl font-bold",children:"走行距離"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"border-2 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-800",children:"開始距離"}),d.jsx("div",{className:"text-xl md:text-2xl font-extrabold",children:b?`${b} km`:"-"})]}),d.jsxs("div",{className:"border-2 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"終了距離"}),d.jsx("div",{className:"text-xl md:text-2xl font-extrabold",children:C?`${C} km`:"-"})]}),d.jsxs("div",{className:"col-span-2 border-2 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"走行距離（自動計算）"}),d.jsx("div",{className:`text-3xl md:text-4xl font-black tracking-wide ${ue===null?"text-gray-400":"text-blue-700"}`,children:ue===null?"-":`${ue} km`})]})]}),(k||S)&&d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"メーター写真"}),d.jsxs("div",{className:"flex gap-4",children:[k&&d.jsx("div",{className:"w-36 h-24 border rounded-lg overflow-hidden",children:d.jsx("img",{src:k,alt:"開始メーター",className:"w-full h-full object-cover"})}),S&&d.jsx("div",{className:"w-36 h-24 border rounded-lg overflow-hidden",children:d.jsx("img",{src:S,alt:"終了メーター",className:"w-full h-full object-cover"})})]})]})]})]}),d.jsxs("section",{className:"rounded-xl border-2 p-4 mt-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"w-1.5 h-6 bg-amber-600 rounded"}),d.jsx("h3",{className:"text-lg md:text-xl font-bold",children:"勤務タイムライン"})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-base",children:[d.jsxs("div",{className:"border-2 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"稼働開始"}),d.jsx("div",{className:"font-mono text-lg md:text-xl",children:H.start||"-"})]}),d.jsxs("div",{className:"border-2 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"休憩開始"}),d.jsx("div",{className:"font-mono text-lg md:text-xl",children:H.breakStart||"-"})]}),d.jsxs("div",{className:"border-2 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"休憩終了"}),d.jsx("div",{className:"font-mono text-lg md:text-xl",children:H.breakEnd||"-"})]}),d.jsxs("div",{className:"border-2 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"稼働終了"}),d.jsx("div",{className:"font-mono text-lg md:text-xl",children:H.end||"-"})]})]})]}),ie&&d.jsx("div",{className:"rounded-xl px-5 py-4 mt-6 border-2 bg-emerald-50 border-emerald-300 text-emerald-900",children:d.jsx("div",{className:"text-lg md:text-xl font-extrabold tracking-wide",children:"✅ 問題なし（ALL CLEAR）"})})]}),D.open&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-[1px] flex items-center justify-center z-50 p-3",children:d.jsxs("div",{className:"bg-white w-full max-w-5xl h-[82vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[d.jsxs("h3",{className:"font-bold text-lg md:text-xl",children:["📄 プレビュー：",D.fileName]}),d.jsx("button",{className:"text-red-600 font-semibold hover:underline",onClick:()=>W({open:!1,dataUrl:"",fileName:""}),children:"閉じる"})]}),d.jsx("iframe",{src:D.dataUrl,className:"flex-1 w-full",title:"日報プレビュー"}),d.jsxs("div",{className:"p-4 border-t flex justify-end gap-2",children:[d.jsx("button",{className:"px-4 py-2 border-2 rounded-xl",onClick:()=>W({open:!1,dataUrl:"",fileName:""}),children:"やり直す"}),d.jsx("button",{className:"px-5 py-3 bg-green-600 text-white rounded-xl font-bold",onClick:J,children:"この内容で送信"})]})]})})]})}const Wie=()=>{const[t,e]=Y.useState(null);return Y.useEffect(()=>{const n=JSON.parse(localStorage.getItem("driverList")||"[]"),r=localStorage.getItem("loggedInDriver");if(!r){e(null);return}const i=n.find(s=>s.name===r);e(i||null)},[]),t?d.jsxs("div",{className:"max-w-xl mx-auto bg-white p-6 rounded shadow space-y-4",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"👤 ドライバープロフィール"}),d.jsxs("div",{children:[d.jsx("strong",{children:"氏名："}),t.name]}),d.jsxs("div",{children:[d.jsx("strong",{children:"所属会社："}),t.company]}),d.jsxs("div",{children:[d.jsx("strong",{children:"区分："}),t.type]}),d.jsxs("div",{children:[d.jsx("strong",{children:"電話番号："}),t.phone]}),d.jsxs("div",{children:[d.jsx("strong",{children:"住所："}),t.address]}),d.jsxs("div",{children:[d.jsx("strong",{children:"生年月日："}),t.birthday]})]}):d.jsx("div",{className:"text-red-600",children:"プロフィール情報が見つかりません（ログイン情報が未設定か、該当ドライバーが未登録です）。"})},qie=()=>{const[t,e]=Y.useState([]),n=Y.useMemo(()=>JSON.parse(localStorage.getItem("currentUser")||"{}"),[]),r=(n==null?void 0:n.company)||"default",[i,s]=Y.useState(""),[o,l]=Y.useState("all"),[a,u]=Y.useState("company"),[c,h]=Y.useState(!0);Y.useEffect(()=>{const C=Tl(ro(ln,"companies",r,"projects"),ko("approved","==",!0),Om("createdAt","desc")),w=pa(C,y=>{const E=y.docs.map(F=>{const M=F.data();return{id:F.id,company:String(M.company??""),name:String(M.name??""),person:String(M.person??M.manager??"未登録"),time:M.time??(M.startTime&&M.endTime?`${M.startTime}～${M.endTime}`:"未設定")}});e(E)});return()=>w()},[r]);const p=Y.useMemo(()=>{const C=new Set(t.map(w=>w.company));return Array.from(C).sort()},[t]),m=Y.useMemo(()=>{const C=i.trim().toLowerCase();return[...t.filter(E=>{const F=o==="all"||E.company===o;if(!C)return F;const M=`${E.company} ${E.name} ${E.person} ${E.time}`.toLowerCase();return F&&M.includes(C)})].sort((E,F)=>{const M=(E[a]??"").toString(),k=(F[a]??"").toString();return c?M.localeCompare(k,"ja"):k.localeCompare(M,"ja")})},[t,i,o,a,c]),b={total:t.length,filtered:m.length};function _(C){if(a===C)return h(w=>!w);u(C),h(!0)}return d.jsxs("div",{className:"p-6 space-y-8 text-black",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-3xl",children:"📋"}),d.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-white",children:["案件一覧",d.jsx("span",{className:"ml-2 text-base md:text-lg text-white font-medium",children:"— Project List —"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"inline-flex items-center gap-1 text-xs md:text-sm px-2 py-1 rounded-full bg-slate-100",children:["全体 ",b.total]}),d.jsxs("span",{className:"inline-flex items-center gap-1 text-xs md:text-sm px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:["表示 ",b.filtered]})]})]}),d.jsx("section",{className:"bg-white p-4 md:p-5 rounded-2xl shadow-lg space-y-3 text-black",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:"block text-sm text-gray-800 mb-1",children:"キーワード検索"}),d.jsx("input",{className:"w-full border-2 rounded-xl px-4 py-3 text-base text-black placeholder:text-gray-500 focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500",placeholder:"会社名 / 案件名 / 担当 / 時間 で検索",value:i,onChange:C=>s(C.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-800 mb-1",children:"会社で絞り込み"}),d.jsxs("select",{className:"w-full border-2 rounded-xl px-3 py-3 text-base font-semibold text-black focus:outline-none focus:ring-4 focus:ring-blue-200 focus:border-blue-500",value:o,onChange:C=>l(C.target.value),children:[d.jsx("option",{value:"all",children:"すべて"}),p.map(C=>d.jsx("option",{value:C,children:C},C))]})]})]})}),d.jsx("section",{className:"md:hidden space-y-3 text-black",children:m.length===0?d.jsx("p",{className:"text-gray-700",children:"登録された案件がありません。"}):m.map(C=>d.jsxs("div",{className:"bg-white rounded-xl shadow border p-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"font-bold text-lg",children:C.name}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-slate-100 text-black",children:C.company})]}),d.jsxs("div",{className:"text-sm text-gray-800",children:["担当：",d.jsx("span",{className:"font-medium",children:C.person})]}),d.jsxs("div",{className:"text-sm text-gray-800",children:["勤務時間：",d.jsx("span",{className:"font-mono",children:C.time})]})]},C.id))}),d.jsx("section",{className:"hidden md:block bg-white p-5 rounded-2xl shadow-lg text-black",children:m.length===0?d.jsx("p",{className:"text-gray-700",children:"登録された案件がありません。"}):d.jsx("div",{className:"overflow-auto max-h-[70vh] rounded-xl border",children:d.jsxs("table",{className:"min-w-full text-sm md:text-base text-black",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10 text-black",children:d.jsxs("tr",{className:"text-left",children:[d.jsx("th",{className:"px-4 py-3 border-b w-56",children:d.jsxs("button",{onClick:()=>_("company"),className:"inline-flex items-center gap-1 font-semibold hover:underline text-black",title:"クリックで並べ替え",children:["会社名",a==="company"&&d.jsx("span",{className:"text-xs",children:c?"▲":"▼"})]})}),d.jsx("th",{className:"px-4 py-3 border-b",children:d.jsxs("button",{onClick:()=>_("name"),className:"inline-flex items-center gap-1 font-semibold hover:underline text-black",title:"クリックで並べ替え",children:["案件名",a==="name"&&d.jsx("span",{className:"text-xs",children:c?"▲":"▼"})]})}),d.jsx("th",{className:"px-4 py-3 border-b w-56",children:d.jsxs("button",{onClick:()=>_("person"),className:"inline-flex items-center gap-1 font-semibold hover:underline text-black",title:"クリックで並べ替え",children:["担当社員",a==="person"&&d.jsx("span",{className:"text-xs",children:c?"▲":"▼"})]})}),d.jsx("th",{className:"px-4 py-3 border-b w-56",children:d.jsxs("button",{onClick:()=>_("time"),className:"inline-flex items-center gap-1 font-semibold hover:underline text-black",title:"クリックで並べ替え",children:["勤務時間",a==="time"&&d.jsx("span",{className:"text-xs",children:c?"▲":"▼"})]})})]})}),d.jsx("tbody",{className:"[&>tr:nth-child(even)]:bg-gray-50 text-black",children:m.map(C=>d.jsxs("tr",{className:"hover:bg-blue-50/60",children:[d.jsx("td",{className:"px-4 py-3 border-b",children:C.company}),d.jsx("td",{className:"px-4 py-3 border-b",children:C.name}),d.jsx("td",{className:"px-4 py-3 border-b",children:C.person}),d.jsx("td",{className:"px-4 py-3 border-b font-mono",children:C.time})]},C.id))})]})})})]})};function Jie(){var b;const t=Y.useMemo(()=>JSON.parse(localStorage.getItem("currentUser")||"{}"),[]),e=t.company||"default",n=t.uid||t.id||((b=wd.currentUser)==null?void 0:b.uid)||"unknown",[r,i]=Y.useState([]),[s,o]=Y.useState(""),[l,a]=Y.useState(!0);Y.useEffect(()=>{const _=Tl(ro(ln,"companies",e,"drivers",n,"files"),Om("createdAt","desc")),C=pa(_,w=>{const y=w.docs.map(E=>({id:E.id,...E.data()}));i(y),a(!1)},()=>a(!1));return()=>C()},[e,n]);const u=r.filter(_=>_.kind==="yearlyFolder"),c=r.filter(_=>_.kind==="monthlyFolder"),h=r.filter(_=>_.kind==="daily"),p=h.filter(_=>s?(_.date||"").startsWith(s):!0),m={yearly:u.length,monthly:c.length,daily:h.length,dailyFiltered:p.length};return d.jsxs("div",{className:"space-y-8 text-black",children:[d.jsxs("div",{className:"flex items-end justify-between gap-3",children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:["📁 ",d.jsx("span",{className:"text-white",children:"ファイル管理"}),d.jsx("span",{className:"ml-2 align-baseline text-sm md:text-lg font-medium text-white",children:"— Driver File Manager —"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"inline-flex items-center gap-1 text-xs md:text-sm px-2 py-1 rounded-full bg-slate-100",children:["年 ",m.yearly]}),d.jsxs("span",{className:"inline-flex items-center gap-1 text-xs md:text-sm px-2 py-1 rounded-full bg-slate-100",children:["月 ",m.monthly]}),d.jsxs("span",{className:"inline-flex items-center gap-1 text-xs md:text-sm px-2 py-1 rounded-full bg-slate-100",children:["日報 ",m.daily]})]})]}),d.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-1.5 h-6 bg-gray-900 rounded"}),d.jsx("h3",{className:"text-xl md:text-2xl font-extrabold",children:"年次フォルダ"})]}),l?d.jsx("p",{className:"text-gray-800 text-sm",children:"読み込み中…"}):m.yearly===0?d.jsx("p",{className:"text-gray-800 text-sm",children:"🗂️ まだありません"}):d.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(_=>d.jsx("span",{className:"px-3 py-2 text-sm md:text-base rounded-xl border-2 bg-white hover:bg-slate-50",title:"年次フォルダ",children:_.label},_.id))})]}),d.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-6 bg-blue-700 rounded"}),d.jsx("h3",{className:"text-xl md:text-2xl font-extrabold",children:"月次フォルダ"})]}),s?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm md:text-base font-semibold",children:["フィルタ中：",d.jsx("span",{className:"px-2 py-1 rounded-lg bg-blue-100 text-blue-800",children:s})]}),d.jsx("button",{onClick:()=>o(""),className:"px-3 py-2 text-sm md:text-base border-2 rounded-xl hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-200",children:"フィルタ解除"})]}):null]}),l?d.jsx("p",{className:"text-gray-800 text-sm",children:"読み込み中…"}):m.monthly===0?d.jsx("p",{className:"text-gray-800 text-sm",children:"🗓️ まだありません"}):d.jsx("div",{className:"flex gap-2 flex-wrap",children:c.map(_=>{var F,M;const C=(F=_.label)==null?void 0:F.slice(0,4),w=(M=_.label)==null?void 0:M.slice(5,7),y=C&&w?`${C}-${w}`:void 0,E=y&&y===s;return d.jsx("button",{type:"button",onClick:()=>y&&o(y),className:`px-3 py-2 rounded-xl border-2 text-sm md:text-base transition
                    focus:outline-none focus:ring-4
                    ${E?"bg-blue-600 border-blue-700 text-white focus:ring-blue-300":"bg-white hover:bg-slate-50 border-slate-300 focus:ring-blue-200"}`,title:"クリックでその月に絞り込み",children:_.label},_.id)})})]}),d.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-1.5 h-6 bg-emerald-600 rounded"}),d.jsxs("h3",{className:"text-xl md:text-2xl font-extrabold",children:["日報 ",d.jsxs("span",{className:"text-base md:text-lg text-gray-800 font-medium",children:["（",s||"全期間","）"]})]})]}),d.jsxs("span",{className:"inline-flex items-center gap-1 text-xs md:text-sm px-2 py-1 rounded-full bg-emerald-50 text-emerald-800 border border-emerald-200",children:["件数 ",m.dailyFiltered]})]}),l?d.jsx("p",{className:"text-gray-800 text-sm",children:"読み込み中…"}):p.length===0?d.jsx("p",{className:"text-gray-800 text-sm",children:"📄 該当する日報はありません"}):d.jsx("div",{className:"overflow-auto max-h-[60vh] rounded-xl border",children:d.jsxs("table",{className:"min-w-full text-sm md:text-base text-black",children:[d.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:d.jsxs("tr",{className:"text-left",children:[d.jsx("th",{className:"px-3 md:px-4 py-3 border-b w-40",children:"日付"}),d.jsx("th",{className:"px-3 md:px-4 py-3 border-b",children:"ファイル名"}),d.jsx("th",{className:"px-3 md:px-4 py-3 border-b w-36 text-center",children:"操作"})]})}),d.jsx("tbody",{className:"[&>tr:nth-child(even)]:bg-gray-50",children:p.map(_=>{var w;const C=_.fileName||((w=_.path)==null?void 0:w.split("/").pop())||"（名称未設定）";return d.jsxs("tr",{className:"hover:bg-blue-50/60",children:[d.jsx("td",{className:"px-3 md:px-4 py-3 border-b font-mono",children:_.date}),d.jsx("td",{className:"px-3 md:px-4 py-3 border-b truncate",children:C}),d.jsx("td",{className:"px-3 md:px-4 py-3 border-b text-center",children:_.url?d.jsx("a",{className:"inline-flex items-center justify-center px-3 py-2 text-sm md:text-base rounded-xl border-2 bg-white hover:bg-slate-50 text-blue-700 border-blue-300 font-semibold focus:outline-none focus:ring-4 focus:ring-blue-200",href:_.url,target:"_blank",rel:"noreferrer",title:"別タブで開く",children:"開く"}):d.jsx("span",{className:"text-gray-700",children:"URLなし"})})]},_.id)})})]})})]})]})}const Yie=()=>{const[t,e]=Y.useState(null),[n,r]=Y.useState(""),i=()=>{if(!t){alert("ファイルを選択してください");return}const s=new FileReader;s.onloadend=()=>{const o=s.result,l=JSON.parse(localStorage.getItem("documentSubmissions")||"[]");l.push({id:Date.now(),driver:JSON.parse(localStorage.getItem("loggedInDriver")||"{}").name||"unknown",filename:t.name,data:o,timestamp:new Date().toISOString()}),localStorage.setItem("documentSubmissions",JSON.stringify(l));const a=JSON.parse(localStorage.getItem("notifications")||"[]");a.push({id:Date.now(),type:"document",category:"書類提出",message:`${t.name} が提出されました`,timestamp:new Date().toISOString(),read:!1}),localStorage.setItem("notifications",JSON.stringify(a)),r("書類を送信しました！"),e(null)},s.readAsDataURL(t)};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h1",{className:"text-2xl font-bold",children:["📄 書類提出 ",d.jsx("span",{className:"text-sm text-gray-500",children:"- Document Upload -"})]}),d.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:s=>{var o;return e(((o=s.target.files)==null?void 0:o[0])||null)}}),d.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"送信"}),n&&d.jsx("p",{className:"text-green-600",children:n})]})},Xie=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState(""),[i,s]=Y.useState(""),[o,l]=Y.useState(""),a=JSON.parse(localStorage.getItem("loggedInDriver")||"{}"),u=()=>{if(n!==i){l("新パスワードが一致しません");return}const c=JSON.parse(localStorage.getItem("driverList")||"[]"),h=c.find(p=>p.id===a.id);if(!h||h.password!==t){l("現在のパスワードが違います");return}h.password=n,localStorage.setItem("driverList",JSON.stringify(c)),l("パスワードを変更しました"),e(""),r(""),s("")};return d.jsxs("div",{className:"space-y-4 max-w-md",children:[d.jsxs("h1",{className:"text-2xl font-bold",children:["🔑 パスワード変更 ",d.jsx("span",{className:"text-sm text-gray-500",children:"- Change Password -"})]}),d.jsx("input",{type:"password",placeholder:"現在のパスワード",value:t,onChange:c=>e(c.target.value),className:"border w-full px-2 py-1 text-black"}),d.jsx("input",{type:"password",placeholder:"新パスワード",value:n,onChange:c=>r(c.target.value),className:"border w-full px-2 py-1 text-black"}),d.jsx("input",{type:"password",placeholder:"新パスワード(確認)",value:i,onChange:c=>s(c.target.value),className:"border w-full px-2 py-1 text-black"}),d.jsx("button",{onClick:u,className:"bg-green-600 text-white px-4 py-2 rounded",children:"変更"}),o&&d.jsx("p",{className:"text-red-600",children:o})]})};function Zie(){const{year:t,month:e}=R9(),n=pu(),r=localStorage.getItem("driverLoginId"),[i,s]=Y.useState(null);return Y.useEffect(()=>{if(!r)return;const o=`ps_${t}_${e}_${r}`,l=localStorage.getItem(o);l&&s(JSON.parse(l))},[t,e,r]),i?d.jsxs("div",{className:"p-4 flex flex-col items-center",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"支払明細書確認"}),d.jsx("iframe",{src:i.dataUrl,title:"payment-preview",className:"w-full max-w-3xl h-[80vh] border"}),i.confirmed?d.jsx("p",{className:"mt-6 text-green-700 font-semibold",children:"✅ 既に確認済みです"}):d.jsx("button",{className:"mt-6 px-6 py-2 bg-green-600 text-white rounded",onClick:()=>{const o=`ps_${t}_${e}_${r}`;localStorage.setItem(o,JSON.stringify({...i,confirmed:!0})),alert("確認を送信しました。請求書作成へ進んでください。"),n("/driver/invoice")},children:"この内容で確認する"})]}):d.jsx("div",{className:"p-4",children:"明細書が見つかりません。"})}function ese(){const t=pu(),e=JSON.parse(localStorage.getItem("loggedInDriver")||"{}"),n=localStorage.getItem("driverLoginId"),r=new Date,[i,s]=Y.useState(""),o=`${r.getFullYear()}_${(r.getMonth()+1).toString().padStart(2,"0")}`,l=`ps_${o}_${n}`,a=localStorage.getItem(l);if(!(a?JSON.parse(a):null))return d.jsx("div",{className:"p-4",children:"支払明細が見つかりません。"});const c=()=>{const h=new Dt;h.setFontSize(14),h.text("請求書",90,20),h.setFontSize(12),h.text(`請求番号: ${i}`,20,40),h.text(`請求日: ${r.toLocaleDateString("ja-JP")}`,20,50),h.text(`請求元: ${e.company} ${e.name}`,20,60),h.text("合計金額: 計算金額",20,80),h.text("※本請求書は支払明細に基づき発行されました",20,110);const p=`請求書_${o}_${e.name}.pdf`,m=h.output("dataurlstring"),b=`invoice_${o}_${n}`,_={driverId:n,driverName:e.name,year:r.getFullYear(),month:r.getMonth()+1,invoiceNo:i,dataUrl:m,fileName:p};localStorage.setItem(b,JSON.stringify(_));const C=`file_invoice_${o}_${n}`;localStorage.setItem(C,JSON.stringify({driverName:e.name,driverId:n,year:r.getFullYear(),month:r.getMonth()+1,dataUrl:m,fileName:p})),h.save(p),alert("請求書を作成しました！"),t("/driver/history")};return d.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-xl font-bold mb-4",children:"請求書作成"}),d.jsx("p",{className:"mb-4",children:"以下の情報を入力し、請求書を作成してください。"}),d.jsxs("label",{className:"block mb-4",children:[d.jsx("span",{className:"block font-semibold mb-1",children:"請求番号"}),d.jsx("input",{className:"border p-2 w-full",value:i,onChange:h=>s(h.target.value),placeholder:"例: INV-2025-0703"})]}),d.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded",onClick:c,disabled:!i,children:"請求書を作成する"})]})}function tse(){return d.jsx(Yk,{})}function nse(){return Y.useMemo(()=>{var i,s;let t="会社未設定",e="未ログイン",n=null;try{const o=JSON.parse(localStorage.getItem("currentUser")||"{}");t=(o==null?void 0:o.company)||t,e=(o==null?void 0:o.name)||e,typeof(o==null?void 0:o.logoUrl)=="string"&&o.logoUrl.length>0&&(n=o.logoUrl)}catch{}const r=["companyLogoUrl","orgLogoUrl","logoUrl","logo"];for(const o of r)try{const l=localStorage.getItem(o);if(!l)continue;const a=l.startsWith("{")?((i=JSON.parse(l))==null?void 0:i.url)??((s=JSON.parse(l))==null?void 0:s.logoUrl):l;if(typeof a=="string"&&a.length>0){n=a;break}}catch{}return n||(n="/logo.png"),{companyName:t,registrant:e,logoUrl:n}},[])}const rse=()=>{const t=pu(),e=fu(),[n,r]=Y.useState(!1);Y.useEffect(()=>{sessionStorage.getItem("__hard_refreshed__")||vZ()},[]);const{companyName:i,registrant:s,logoUrl:o}=nse(),l=u=>{const c=e.pathname;return c==="/driver"&&u==="daily-report"?!0:c.endsWith(`/${u}`)},a=()=>{localStorage.removeItem("loggedInDriver"),localStorage.removeItem("currentUser"),t("/login")};return d.jsxs("div",{className:"relative min-h-screen text-slate-100 overflow-x-hidden",children:[d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-[#0b1220] bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950"}),d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-white/[0.06] backdrop-blur-[2px]"}),d.jsx("div",{"aria-hidden":!0,className:`pointer-events-none fixed top-16 left-0 md:left-72 right-0 bottom-0
             px-3 sm:px-5 lg:px-8 xl:px-12`,children:d.jsx("div",{className:"h-full w-full rounded-[28px] ring-8 ring-white/35 ring-inset"})}),d.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:[d.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-cyan-500/25 blur-3xl"}),d.jsx("div",{className:"absolute -bottom-24 -right-24 h-80 w-80 rounded-full bg-teal-400/25 blur-3xl"}),d.jsx("div",{className:"absolute left-1/2 top-1/3 h-96 w-96 -translate-x-1/2 rounded-full bg-indigo-500/20 blur-3xl"})]}),d.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 h-16 bg-slate-900/70 backdrop-blur border-b border-white/10",children:d.jsxs("div",{className:"mx-auto h-full max-w-[1900px] px-0 pr-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[d.jsx("img",{src:o,alt:i,className:"h-9 w-auto",onError:u=>u.currentTarget.src="/logo.png"}),d.jsx("button",{className:"inline-flex items-center justify-center rounded-lg p-2 md:hidden hover:bg-white/10","aria-label":"メニュー",onClick:()=>r(!0),children:d.jsx(fE,{size:22})})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"hidden sm:block px-2 py-1 rounded text-xs sm:text-sm font-bold text-white/90 bg-white/10 border border-white/20 max-w-[40vw] truncate",title:`${i} / ${s}`,children:[i," / ",s]}),d.jsx("button",{onClick:a,className:"text-red-300 hover:text-red-200 font-bold px-3 py-1 rounded hover:bg-white/10",children:"ログアウト"})]})]})}),d.jsxs("div",{className:"pt-16 relative z-10",children:[n&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 lg:hidden",onClick:()=>r(!1)}),d.jsxs("aside",{className:["fixed z-50 top-16 left-0 h-[calc(100vh-64px)] w-72 transform transition-transform duration-200","bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-2xl",n?"translate-x-0":"-translate-x-full","md:translate-x-0"].join(" "),children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between px-4 py-3 border-b border-white/10",children:[d.jsx("span",{className:"text-sm font-semibold text-white/80",children:"メニュー"}),d.jsx("button",{className:"inline-flex items-center justify-center rounded-lg p-2 hover:bg-white/10","aria-label":"閉じる",onClick:()=>r(!1),children:d.jsx(mE,{size:18})})]}),d.jsxs("nav",{className:"px-3 pb-6 pt-4 space-y-1 overflow-y-auto h-[calc(100%-52px)] md:h-full",children:[d.jsx(Lu,{to:"daily-report",icon:d.jsx(Yp,{size:18}),active:l("daily-report"),onClick:()=>r(!1),children:"日報提出"}),d.jsx(Lu,{to:"chat",icon:d.jsx(Yp,{size:18}),active:l("chat"),onClick:()=>r(!1),children:"チャット"}),d.jsx(Lu,{to:"files",icon:d.jsx(uY,{size:18}),active:l("files"),onClick:()=>r(!1),children:"ファイル管理"}),d.jsx(Lu,{to:"profile",icon:d.jsx(l_,{size:18}),active:l("profile"),onClick:()=>r(!1),children:"プロフィール"}),d.jsx(Lu,{to:"projects",icon:d.jsx(qk,{size:18}),active:l("projects"),onClick:()=>r(!1),children:"案件一覧"}),d.jsx(Lu,{to:"submit-documents",icon:d.jsx(Yp,{size:18}),active:l("submit-documents"),onClick:()=>r(!1),children:"書類提出"}),d.jsx(Lu,{to:"change-password",icon:d.jsx(l_,{size:18}),active:l("change-password"),onClick:()=>r(!1),children:"パスワード変更"})]})]}),d.jsx("main",{className:`fixed top-16 left-0 md:left-72 right-0 bottom-0
             px-3 sm:px-5 lg:px-8 xl:px-12 py-3
             z-20 overflow-hidden`,children:d.jsx("div",{className:"h-full w-[99%] mx-auto",children:d.jsx("div",{className:`h-full w-full rounded-[24px] border border-white/10
                    bg-white/5 backdrop-blur-xl shadow-2xl overflow-auto`,children:d.jsx("div",{className:"p-4 sm:p-6 md:p-8 min-h-full",children:d.jsxs(ef,{children:[d.jsx(tn,{path:"/",element:d.jsx(aT,{})}),d.jsx(tn,{path:"daily-report",element:d.jsx(aT,{})}),d.jsx(tn,{path:"files",element:d.jsx(Jie,{})}),d.jsx(tn,{path:"profile",element:d.jsx(Wie,{})}),d.jsx(tn,{path:"projects",element:d.jsx(qie,{})}),d.jsx(tn,{path:"submit-documents",element:d.jsx(Yie,{})}),d.jsx(tn,{path:"change-password",element:d.jsx(Xie,{})}),d.jsx(tn,{path:"/driver/payment/:year/:month",element:d.jsx(Zie,{})}),d.jsx(tn,{path:"invoice",element:d.jsx(ese,{})}),d.jsx(tn,{path:"chat",element:d.jsx(tse,{})})]})})})})})]})]})};function Lu({to:t,icon:e,active:n,onClick:r,children:i}){return d.jsxs($u,{to:t,onClick:r,className:["flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition",n?"bg-gradient-to-r from-teal-400/30 to-cyan-400/30 text-white ring-1 ring-cyan-300/40 shadow-[0_0_22px_rgba(34,211,238,.35)]":"text-white/80 hover:text-white hover:bg-white/10"].join(" "),children:[d.jsx("span",{className:"opacity-90",children:e}),i]})}function ise(t,e){if(Cn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pO(t){var e=ise(t,"string");return Cn(e)=="symbol"?e:e+""}function _p(t,e,n){return(e=pO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){_p(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t){if(Array.isArray(t))return t}function ose(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],a=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function mO(t,e){if(t){if(typeof t=="string")return j_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j_(t,e):void 0}}function ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SA(t,e){return sse(t)||ose(t,e)||mO(t,e)||ase()}function lse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KA(t,e){if(t==null)return{};var n,r,i=lse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Ase=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function cse(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,l=t.inputValue,a=t.menuIsOpen,u=t.onChange,c=t.onInputChange,h=t.onMenuClose,p=t.onMenuOpen,m=t.value,b=KA(t,Ase),_=Y.useState(l!==void 0?l:n),C=SA(_,2),w=C[0],y=C[1],E=Y.useState(a!==void 0?a:i),F=SA(E,2),M=F[0],k=F[1],N=Y.useState(m!==void 0?m:o),S=SA(N,2),O=S[0],H=S[1],j=Y.useCallback(function(z,ue){typeof u=="function"&&u(z,ue),H(z)},[u]),T=Y.useCallback(function(z,ue){var ie;typeof c=="function"&&(ie=c(z,ue)),y(ie!==void 0?ie:z)},[c]),D=Y.useCallback(function(){typeof p=="function"&&p(),k(!0)},[p]),W=Y.useCallback(function(){typeof h=="function"&&h(),k(!1)},[h]),oe=l!==void 0?l:w,V=a!==void 0?a:M,q=m!==void 0?m:O;return Mt(Mt({},b),{},{inputValue:oe,menuIsOpen:V,onChange:j,onInputChange:T,onMenuClose:W,onMenuOpen:D,value:q})}function zt(){return zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zt.apply(null,arguments)}function use(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pO(r.key),r)}}function dse(t,e,n){return e&&AT(t.prototype,e),n&&AT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},U_(t,e)}function hse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oy(t)}function gO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!t})()}function fse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pse(t,e){if(e&&(Cn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fse(t)}function mse(t){var e=gO();return function(){var n,r=Oy(t);if(e){var i=Oy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pse(this,n)}}function gse(t){if(Array.isArray(t))return j_(t)}function vse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PE(t){return gse(t)||vse(t)||mO(t)||yse()}var wse=!1;function xse(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function bse(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var _se=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!wse:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bse(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=xse(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ps="-ms-",Dy="-moz-",Pn="-webkit-",vO="comm",LE="rule",jE="decl",Bse="@import",yO="@keyframes",Cse="@layer",Ese=Math.abs,sw=String.fromCharCode,Sse=Object.assign;function Ise(t,e){return qi(t,0)^45?(((e<<2^qi(t,0))<<2^qi(t,1))<<2^qi(t,2))<<2^qi(t,3):0}function wO(t){return t.trim()}function Nse(t,e){return(t=e.exec(t))?t[0]:t}function Ln(t,e,n){return t.replace(e,n)}function k_(t,e){return t.indexOf(e)}function qi(t,e){return t.charCodeAt(e)|0}function Km(t,e,n){return t.slice(e,n)}function Fl(t){return t.length}function UE(t){return t.length}function V0(t,e){return e.push(t),t}function Tse(t,e){return t.map(e).join("")}var ow=1,lf=1,xO=0,fo=0,ni=0,Bf="";function aw(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ow,column:lf,length:o,return:""}}function ep(t,e){return Sse(aw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Fse(){return ni}function Pse(){return ni=fo>0?qi(Bf,--fo):0,lf--,ni===10&&(lf=1,ow--),ni}function Vo(){return ni=fo<xO?qi(Bf,fo++):0,lf++,ni===10&&(lf=1,ow++),ni}function $l(){return qi(Bf,fo)}function Ev(){return fo}function yg(t,e){return Km(Bf,t,e)}function zm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bO(t){return ow=lf=1,xO=Fl(Bf=t),fo=0,[]}function _O(t){return Bf="",t}function Sv(t){return wO(yg(fo-1,R_(t===91?t+2:t===40?t+1:t)))}function Lse(t){for(;(ni=$l())&&ni<33;)Vo();return zm(t)>2||zm(ni)>3?"":" "}function jse(t,e){for(;--e&&Vo()&&!(ni<48||ni>102||ni>57&&ni<65||ni>70&&ni<97););return yg(t,Ev()+(e<6&&$l()==32&&Vo()==32))}function R_(t){for(;Vo();)switch(ni){case t:return fo;case 34:case 39:t!==34&&t!==39&&R_(ni);break;case 40:t===41&&R_(t);break;case 92:Vo();break}return fo}function Use(t,e){for(;Vo()&&t+ni!==47+10;)if(t+ni===42+42&&$l()===47)break;return"/*"+yg(e,fo-1)+"*"+sw(t===47?t:Vo())}function kse(t){for(;!zm($l());)Vo();return yg(t,fo)}function Rse(t){return _O(Iv("",null,null,null,[""],t=bO(t),0,[0],t))}function Iv(t,e,n,r,i,s,o,l,a){for(var u=0,c=0,h=o,p=0,m=0,b=0,_=1,C=1,w=1,y=0,E="",F=i,M=s,k=r,N=E;C;)switch(b=y,y=Vo()){case 40:if(b!=108&&qi(N,h-1)==58){k_(N+=Ln(Sv(y),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:N+=Sv(y);break;case 9:case 10:case 13:case 32:N+=Lse(b);break;case 92:N+=jse(Ev()-1,7);continue;case 47:switch($l()){case 42:case 47:V0(Ose(Use(Vo(),Ev()),e,n),a);break;default:N+="/"}break;case 123*_:l[u++]=Fl(N)*w;case 125*_:case 59:case 0:switch(y){case 0:case 125:C=0;case 59+c:w==-1&&(N=Ln(N,/\f/g,"")),m>0&&Fl(N)-h&&V0(m>32?uT(N+";",r,n,h-1):uT(Ln(N," ","")+";",r,n,h-2),a);break;case 59:N+=";";default:if(V0(k=cT(N,e,n,u,c,i,l,E,F=[],M=[],h),s),y===123)if(c===0)Iv(N,e,k,k,F,s,h,l,M);else switch(p===99&&qi(N,3)===110?100:p){case 100:case 108:case 109:case 115:Iv(t,k,k,r&&V0(cT(t,k,k,0,0,i,l,E,i,F=[],h),M),i,M,h,l,r?F:M);break;default:Iv(N,k,k,k,[""],M,0,l,M)}}u=c=m=0,_=w=1,E=N="",h=o;break;case 58:h=1+Fl(N),m=b;default:if(_<1){if(y==123)--_;else if(y==125&&_++==0&&Pse()==125)continue}switch(N+=sw(y),y*_){case 38:w=c>0?1:(N+="\f",-1);break;case 44:l[u++]=(Fl(N)-1)*w,w=1;break;case 64:$l()===45&&(N+=Sv(Vo())),p=$l(),c=h=Fl(E=N+=kse(Ev())),y++;break;case 45:b===45&&Fl(N)==2&&(_=0)}}return s}function cT(t,e,n,r,i,s,o,l,a,u,c){for(var h=i-1,p=i===0?s:[""],m=UE(p),b=0,_=0,C=0;b<r;++b)for(var w=0,y=Km(t,h+1,h=Ese(_=o[b])),E=t;w<m;++w)(E=wO(_>0?p[w]+" "+y:Ln(y,/&\f/g,p[w])))&&(a[C++]=E);return aw(t,e,n,i===0?LE:l,a,u,c)}function Ose(t,e,n){return aw(t,e,n,vO,sw(Fse()),Km(t,2,-2),0)}function uT(t,e,n,r){return aw(t,e,n,jE,Km(t,0,r),Km(t,r+1,-1),r)}function $h(t,e){for(var n="",r=UE(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Dse(t,e,n,r){switch(t.type){case Cse:if(t.children.length)break;case Bse:case jE:return t.return=t.return||t.value;case vO:return"";case yO:return t.return=t.value+"{"+$h(t.children,r)+"}";case LE:t.value=t.props.join(",")}return Fl(n=$h(t.children,r))?t.return=t.value+"{"+n+"}":""}function Qse(t){var e=UE(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function Mse(t){return function(e){e.root||(e=e.return)&&t(e)}}function Hse(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Vse=function(e,n,r){for(var i=0,s=0;i=s,s=$l(),i===38&&s===12&&(n[r]=1),!zm(s);)Vo();return yg(e,fo)},Kse=function(e,n){var r=-1,i=44;do switch(zm(i)){case 0:i===38&&$l()===12&&(n[r]=1),e[r]+=Vse(fo-1,n,r);break;case 2:e[r]+=Sv(i);break;case 4:if(i===44){e[++r]=$l()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=sw(i)}while(i=Vo());return e},zse=function(e,n){return _O(Kse(bO(e),n))},dT=new WeakMap,$se=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!dT.get(r))&&!i){dT.set(e,!0);for(var s=[],o=zse(n,s),l=r.props,a=0,u=0;a<o.length;a++)for(var c=0;c<l.length;c++,u++)e.props[u]=s[a]?o[a].replace(/&\f/g,l[c]):l[c]+" "+o[a]}}},Gse=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function BO(t,e){switch(Ise(t,e)){case 5103:return Pn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pn+t+Dy+t+ps+t+t;case 6828:case 4268:return Pn+t+ps+t+t;case 6165:return Pn+t+ps+"flex-"+t+t;case 5187:return Pn+t+Ln(t,/(\w+).+(:[^]+)/,Pn+"box-$1$2"+ps+"flex-$1$2")+t;case 5443:return Pn+t+ps+"flex-item-"+Ln(t,/flex-|-self/,"")+t;case 4675:return Pn+t+ps+"flex-line-pack"+Ln(t,/align-content|flex-|-self/,"")+t;case 5548:return Pn+t+ps+Ln(t,"shrink","negative")+t;case 5292:return Pn+t+ps+Ln(t,"basis","preferred-size")+t;case 6060:return Pn+"box-"+Ln(t,"-grow","")+Pn+t+ps+Ln(t,"grow","positive")+t;case 4554:return Pn+Ln(t,/([^-])(transform)/g,"$1"+Pn+"$2")+t;case 6187:return Ln(Ln(Ln(t,/(zoom-|grab)/,Pn+"$1"),/(image-set)/,Pn+"$1"),t,"")+t;case 5495:case 3959:return Ln(t,/(image-set\([^]*)/,Pn+"$1$`$1");case 4968:return Ln(Ln(t,/(.+:)(flex-)?(.*)/,Pn+"box-pack:$3"+ps+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pn+t+t;case 4095:case 3583:case 4068:case 2532:return Ln(t,/(.+)-inline(.+)/,Pn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fl(t)-1-e>6)switch(qi(t,e+1)){case 109:if(qi(t,e+4)!==45)break;case 102:return Ln(t,/(.+:)(.+)-([^]+)/,"$1"+Pn+"$2-$3$1"+Dy+(qi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~k_(t,"stretch")?BO(Ln(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(qi(t,e+1)!==115)break;case 6444:switch(qi(t,Fl(t)-3-(~k_(t,"!important")&&10))){case 107:return Ln(t,":",":"+Pn)+t;case 101:return Ln(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pn+(qi(t,14)===45?"inline-":"")+"box$3$1"+Pn+"$2$3$1"+ps+"$2box$3")+t}break;case 5936:switch(qi(t,e+11)){case 114:return Pn+t+ps+Ln(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pn+t+ps+Ln(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pn+t+ps+Ln(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pn+t+ps+t+t}return t}var Wse=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case jE:e.return=BO(e.value,e.length);break;case yO:return $h([ep(e,{value:Ln(e.value,"@","@"+Pn)})],i);case LE:if(e.length)return Tse(e.props,function(s){switch(Nse(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $h([ep(e,{props:[Ln(s,/:(read-\w+)/,":"+Dy+"$1")]})],i);case"::placeholder":return $h([ep(e,{props:[Ln(s,/:(plac\w+)/,":"+Pn+"input-$1")]}),ep(e,{props:[Ln(s,/:(plac\w+)/,":"+Dy+"$1")]}),ep(e,{props:[Ln(s,/:(plac\w+)/,ps+"input-$1")]})],i)}return""})}},qse=[Wse],Jse=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var C=_.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||qse,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var C=_.getAttribute("data-emotion").split(" "),w=1;w<C.length;w++)s[C[w]]=!0;l.push(_)});var a,u=[$se,Gse];{var c,h=[Dse,Mse(function(_){c.insert(_)})],p=Qse(u.concat(i,h)),m=function(C){return $h(Rse(C),p)};a=function(C,w,y,E){c=y,m(C?C+"{"+w.styles+"}":w.styles),E&&(b.inserted[w.name]=!0)}}var b={key:n,sheet:new _se({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return b.sheet.hydrate(l),b},CO={exports:{}},$n={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=typeof Symbol=="function"&&Symbol.for,kE=Li?Symbol.for("react.element"):60103,RE=Li?Symbol.for("react.portal"):60106,lw=Li?Symbol.for("react.fragment"):60107,Aw=Li?Symbol.for("react.strict_mode"):60108,cw=Li?Symbol.for("react.profiler"):60114,uw=Li?Symbol.for("react.provider"):60109,dw=Li?Symbol.for("react.context"):60110,OE=Li?Symbol.for("react.async_mode"):60111,hw=Li?Symbol.for("react.concurrent_mode"):60111,fw=Li?Symbol.for("react.forward_ref"):60112,pw=Li?Symbol.for("react.suspense"):60113,Yse=Li?Symbol.for("react.suspense_list"):60120,mw=Li?Symbol.for("react.memo"):60115,gw=Li?Symbol.for("react.lazy"):60116,Xse=Li?Symbol.for("react.block"):60121,Zse=Li?Symbol.for("react.fundamental"):60117,eoe=Li?Symbol.for("react.responder"):60118,toe=Li?Symbol.for("react.scope"):60119;function Go(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kE:switch(t=t.type,t){case OE:case hw:case lw:case cw:case Aw:case pw:return t;default:switch(t=t&&t.$$typeof,t){case dw:case fw:case gw:case mw:case uw:return t;default:return e}}case RE:return e}}}function EO(t){return Go(t)===hw}$n.AsyncMode=OE;$n.ConcurrentMode=hw;$n.ContextConsumer=dw;$n.ContextProvider=uw;$n.Element=kE;$n.ForwardRef=fw;$n.Fragment=lw;$n.Lazy=gw;$n.Memo=mw;$n.Portal=RE;$n.Profiler=cw;$n.StrictMode=Aw;$n.Suspense=pw;$n.isAsyncMode=function(t){return EO(t)||Go(t)===OE};$n.isConcurrentMode=EO;$n.isContextConsumer=function(t){return Go(t)===dw};$n.isContextProvider=function(t){return Go(t)===uw};$n.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kE};$n.isForwardRef=function(t){return Go(t)===fw};$n.isFragment=function(t){return Go(t)===lw};$n.isLazy=function(t){return Go(t)===gw};$n.isMemo=function(t){return Go(t)===mw};$n.isPortal=function(t){return Go(t)===RE};$n.isProfiler=function(t){return Go(t)===cw};$n.isStrictMode=function(t){return Go(t)===Aw};$n.isSuspense=function(t){return Go(t)===pw};$n.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lw||t===hw||t===cw||t===Aw||t===pw||t===Yse||typeof t=="object"&&t!==null&&(t.$$typeof===gw||t.$$typeof===mw||t.$$typeof===uw||t.$$typeof===dw||t.$$typeof===fw||t.$$typeof===Zse||t.$$typeof===eoe||t.$$typeof===toe||t.$$typeof===Xse)};$n.typeOf=Go;CO.exports=$n;var noe=CO.exports,SO=noe,roe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ioe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IO={};IO[SO.ForwardRef]=roe;IO[SO.Memo]=ioe;var soe=!0;function ooe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var NO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||soe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},aoe=function(e,n,r){NO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function loe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Aoe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},coe=!1,uoe=/[A-Z]|^ms/g,doe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TO=function(e){return e.charCodeAt(1)===45},hT=function(e){return e!=null&&typeof e!="boolean"},px=Hse(function(t){return TO(t)?t:t.replace(uoe,"-$&").toLowerCase()}),fT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(doe,function(r,i,s){return Pl={name:i,styles:s,next:Pl},i})}return Aoe[e]!==1&&!TO(e)&&typeof n=="number"&&n!==0?n+"px":n},hoe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function $m(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Pl={name:i.name,styles:i.styles,next:Pl},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Pl={name:o.name,styles:o.styles,next:Pl},o=o.next;var l=s.styles+";";return l}return foe(t,e,n)}case"function":{if(t!==void 0){var a=Pl,u=n(t);return Pl=a,$m(t,e,u)}break}}var c=n;if(e==null)return c;var h=e[c];return h!==void 0?h:c}function foe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$m(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?r+=s+"{"+e[l]+"}":hT(l)&&(r+=px(s)+":"+fT(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&coe)throw new Error(hoe);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)hT(o[a])&&(r+=px(s)+":"+fT(s,o[a])+";");else{var u=$m(t,e,o);switch(s){case"animation":case"animationName":{r+=px(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var pT=/label:\s*([^\s;{]+)\s*(;|$)/g,Pl;function FO(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Pl=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=$m(n,e,s);else{var o=s;i+=o[0]}for(var l=1;l<t.length;l++)if(i+=$m(n,e,t[l]),r){var a=s;i+=a[l]}pT.lastIndex=0;for(var u="",c;(c=pT.exec(i))!==null;)u+="-"+c[1];var h=loe(i)+u;return{name:h,styles:i,next:Pl}}var poe=function(e){return e()},moe=_x["useInsertionEffect"]?_x["useInsertionEffect"]:!1,goe=moe||poe,voe=!1,PO=Y.createContext(typeof HTMLElement<"u"?Jse({key:"css"}):null);PO.Provider;var yoe=function(e){return Y.forwardRef(function(n,r){var i=Y.useContext(PO);return e(n,i,r)})},woe=Y.createContext({}),DE={}.hasOwnProperty,O_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xoe=function(e,n){var r={};for(var i in n)DE.call(n,i)&&(r[i]=n[i]);return r[O_]=e,r},boe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return NO(n,r,i),goe(function(){return aoe(n,r,i)}),null},_oe=yoe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[O_],s=[r],o="";typeof t.className=="string"?o=ooe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var l=FO(s,void 0,Y.useContext(woe));o+=e.key+"-"+l.name;var a={};for(var u in t)DE.call(t,u)&&u!=="css"&&u!==O_&&!voe&&(a[u]=t[u]);return a.className=o,n&&(a.ref=n),Y.createElement(Y.Fragment,null,Y.createElement(boe,{cache:e,serialized:l,isStringTag:typeof i=="string"}),Y.createElement(i,a))}),Boe=_oe,Rt=function(e,n){var r=arguments;if(n==null||!DE.call(n,"css"))return Y.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Boe,s[1]=xoe(e,n);for(var o=2;o<i;o++)s[o]=r[o];return Y.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Rt||(Rt={}));function QE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return FO(e)}function Coe(){var t=QE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Eoe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Soe=Math.min,Ioe=Math.max,Qy=Math.round,K0=Math.floor,My=t=>({x:t,y:t});function Noe(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function vw(){return typeof window<"u"}function LO(t){return UO(t)?(t.nodeName||"").toLowerCase():"#document"}function il(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jO(t){var e;return(e=(UO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UO(t){return vw()?t instanceof Node||t instanceof il(t).Node:!1}function D_(t){return vw()?t instanceof Element||t instanceof il(t).Element:!1}function ME(t){return vw()?t instanceof HTMLElement||t instanceof il(t).HTMLElement:!1}function mT(t){return!vw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof il(t).ShadowRoot}const Toe=new Set(["inline","contents"]);function kO(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=HE(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Toe.has(i)}function Foe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Poe=new Set(["html","body","#document"]);function Loe(t){return Poe.has(LO(t))}function HE(t){return il(t).getComputedStyle(t)}function joe(t){if(LO(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mT(t)&&t.host||jO(t);return mT(e)?e.host:e}function RO(t){const e=joe(t);return Loe(e)?t.ownerDocument?t.ownerDocument.body:t.body:ME(e)&&kO(e)?e:RO(e)}function Hy(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=RO(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=il(i);if(s){const l=Q_(o);return e.concat(o,o.visualViewport||[],kO(i)?i:[],l&&n?Hy(l):[])}return e.concat(i,Hy(i,[],n))}function Q_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Uoe(t){const e=HE(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ME(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Qy(n)!==s||Qy(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function VE(t){return D_(t)?t:t.contextElement}function mx(t){const e=VE(t);if(!ME(e))return My(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Uoe(e);let o=(s?Qy(n.width):n.width)/r,l=(s?Qy(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const koe=My(0);function Roe(t){const e=il(t);return!Foe()||!e.visualViewport?koe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ooe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==il(t)?!1:e}function gT(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=VE(t);let o=My(1);e&&(r?D_(r)&&(o=mx(r)):o=mx(t));const l=Ooe(s,n,r)?Roe(s):My(0);let a=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(s){const p=il(s),m=r&&D_(r)?il(r):r;let b=p,_=Q_(b);for(;_&&r&&m!==b;){const C=mx(_),w=_.getBoundingClientRect(),y=HE(_),E=w.left+(_.clientLeft+parseFloat(y.paddingLeft))*C.x,F=w.top+(_.clientTop+parseFloat(y.paddingTop))*C.y;a*=C.x,u*=C.y,c*=C.x,h*=C.y,a+=E,u+=F,b=il(_),_=Q_(b)}}return Noe({width:c,height:h,x:a,y:u})}function OO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Doe(t,e){let n=null,r;const i=jO(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const u=t.getBoundingClientRect(),{left:c,top:h,width:p,height:m}=u;if(l||e(),!p||!m)return;const b=K0(h),_=K0(i.clientWidth-(c+p)),C=K0(i.clientHeight-(h+m)),w=K0(c),E={rootMargin:-b+"px "+-_+"px "+-C+"px "+-w+"px",threshold:Ioe(0,Soe(1,a))||1};let F=!0;function M(k){const N=k[0].intersectionRatio;if(N!==a){if(!F)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!OO(u,t.getBoundingClientRect())&&o(),F=!1}try{n=new IntersectionObserver(M,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,E)}n.observe(t)}return o(!0),s}function Qoe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=VE(t),c=i||s?[...u?Hy(u):[],...Hy(e)]:[];c.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=u&&l?Doe(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),u&&!a&&m.observe(u),m.observe(e));let b,_=a?gT(t):null;a&&C();function C(){const w=gT(t);_&&!OO(_,w)&&n(),_=w,b=requestAnimationFrame(C)}return n(),()=>{var w;c.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h==null||h(),(w=m)==null||w.disconnect(),m=null,a&&cancelAnimationFrame(b)}}var M_=Y.useLayoutEffect,Moe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Vy=function(){};function Hoe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Voe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Hoe(t,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var vT=function(e){return Xoe(e)?e.filter(Boolean):Cn(e)==="object"&&e!==null?[e]:[]},DO=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=KA(e,Moe);return Mt({},n)},Tr=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,l=e.className;return{css:s(n,e),className:i(r??{},o(n,e),l)}};function yw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Koe(t){return yw(t)?window.innerHeight:t.clientHeight}function QO(t){return yw(t)?window.pageYOffset:t.scrollTop}function Ky(t,e){if(yw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function zoe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function $oe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function z0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Vy,i=QO(t),s=e-i,o=10,l=0;function a(){l+=o;var u=$oe(l,i,s,n);Ky(t,u),l<n?window.requestAnimationFrame(a):r(t)}a()}function yT(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Ky(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Ky(t,Math.max(e.offsetTop-i,0))}function Goe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function wT(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Woe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var MO=!1,qoe={get passive(){return MO=!0}},$0=typeof window<"u"?window:{};$0.addEventListener&&$0.removeEventListener&&($0.addEventListener("p",Vy,qoe),$0.removeEventListener("p",Vy,!1));var Joe=MO;function Yoe(t){return t!=null}function Xoe(t){return Array.isArray(t)}function G0(t,e,n){return t?e:n}var Zoe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var l=SA(o,1),a=l[0];return!r.includes(a)});return s.reduce(function(o,l){var a=SA(l,2),u=a[0],c=a[1];return o[u]=c,o},{})},eae=["children","innerProps"],tae=["children","innerProps"];function nae(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,a=zoe(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=a.getBoundingClientRect(),h=c.height,p=n.getBoundingClientRect(),m=p.bottom,b=p.height,_=p.top,C=n.offsetParent.getBoundingClientRect(),w=C.top,y=o?window.innerHeight:Koe(a),E=QO(a),F=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),k=w-M,N=y-_,S=k+E,O=h-E-_,H=m-y+E+F,j=E+_-M,T=160;switch(i){case"auto":case"bottom":if(N>=b)return{placement:"bottom",maxHeight:e};if(O>=b&&!o)return s&&z0(a,H,T),{placement:"bottom",maxHeight:e};if(!o&&O>=r||o&&N>=r){s&&z0(a,H,T);var D=o?N-F:O-F;return{placement:"bottom",maxHeight:D}}if(i==="auto"||o){var W=e,oe=o?k:S;return oe>=r&&(W=Math.min(oe-F-l,e)),{placement:"top",maxHeight:W}}if(i==="bottom")return s&&Ky(a,H),{placement:"bottom",maxHeight:e};break;case"top":if(k>=b)return{placement:"top",maxHeight:e};if(S>=b&&!o)return s&&z0(a,j,T),{placement:"top",maxHeight:e};if(!o&&S>=r||o&&k>=r){var V=e;return(!o&&S>=r||o&&k>=r)&&(V=o?k-M:S-M),s&&z0(a,j,T),{placement:"top",maxHeight:V}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function rae(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var HO=function(e){return e==="auto"?"bottom":e},iae=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,l=s.spacing,a=s.colors;return Mt((r={label:"menu"},_p(r,rae(i),"100%"),_p(r,"position","absolute"),_p(r,"width","100%"),_p(r,"zIndex",1),r),n?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},VO=Y.createContext(null),sae=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,u=Y.useContext(VO)||{},c=u.setPortalPlacement,h=Y.useRef(null),p=Y.useState(i),m=SA(p,2),b=m[0],_=m[1],C=Y.useState(null),w=SA(C,2),y=w[0],E=w[1],F=a.spacing.controlHeight;return M_(function(){var M=h.current;if(M){var k=o==="fixed",N=l&&!k,S=nae({maxHeight:i,menuEl:M,minHeight:r,placement:s,shouldScroll:N,isFixedPosition:k,controlHeight:F});_(S.maxHeight),E(S.placement),c==null||c(S.placement)}},[i,s,o,l,r,c,F]),n({ref:h,placerProps:Mt(Mt({},e),{},{placement:y||HO(s),maxHeight:b})})},oae=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return Rt("div",zt({},Tr(e,"menu",{menu:!0}),{ref:r},i),n)},aae=oae,lae=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Mt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Aae=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return Rt("div",zt({},Tr(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},KO=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Mt({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},cae=KO,uae=KO,dae=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=KA(e,eae);return Rt("div",zt({},Tr(Mt(Mt({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},hae=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=KA(e,tae);return Rt("div",zt({},Tr(Mt(Mt({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},fae=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},pae=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,l=e.menuPosition,a=Y.useRef(null),u=Y.useRef(null),c=Y.useState(HO(o)),h=SA(c,2),p=h[0],m=h[1],b=Y.useMemo(function(){return{setPortalPlacement:m}},[]),_=Y.useState(null),C=SA(_,2),w=C[0],y=C[1],E=Y.useCallback(function(){if(i){var N=Goe(i),S=l==="fixed"?0:window.pageYOffset,O=N[p]+S;(O!==(w==null?void 0:w.offset)||N.left!==(w==null?void 0:w.rect.left)||N.width!==(w==null?void 0:w.rect.width))&&y({offset:O,rect:N})}},[i,l,p,w==null?void 0:w.offset,w==null?void 0:w.rect.left,w==null?void 0:w.rect.width]);M_(function(){E()},[E]);var F=Y.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&a.current&&(u.current=Qoe(i,a.current,E,{elementResize:"ResizeObserver"in window}))},[i,E]);M_(function(){F()},[F]);var M=Y.useCallback(function(N){a.current=N,F()},[F]);if(!n&&l!=="fixed"||!w)return null;var k=Rt("div",zt({ref:M},Tr(Mt(Mt({},e),{},{offset:w.offset,position:l,rect:w.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Rt(VO.Provider,{value:b},n?wm.createPortal(k,n):k)},mae=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},gae=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return Rt("div",zt({},Tr(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},vae=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Mt({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},yae=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return Rt("div",zt({},Tr(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},wae=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},xae=function(e){var n=e.children,r=e.innerProps;return Rt("div",zt({},Tr(e,"indicatorsContainer",{indicators:!0}),r),n)},xT,bae=["size"],_ae=["innerProps","isRtl","size"],Bae={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},zO=function(e){var n=e.size,r=KA(e,bae);return Rt("svg",zt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Bae},r))},KE=function(e){return Rt(zO,zt({size:20},e),Rt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},$O=function(e){return Rt(zO,zt({size:20},e),Rt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},GO=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Mt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},Cae=GO,Eae=function(e){var n=e.children,r=e.innerProps;return Rt("div",zt({},Tr(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Rt($O,null))},Sae=GO,Iae=function(e){var n=e.children,r=e.innerProps;return Rt("div",zt({},Tr(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Rt(KE,null))},Nae=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Mt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Tae=function(e){var n=e.innerProps;return Rt("span",zt({},n,Tr(e,"indicatorSeparator",{"indicator-separator":!0})))},Fae=Coe(xT||(xT=Eoe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Pae=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,l=s.spacing.baseUnit;return Mt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:l*2})},gx=function(e){var n=e.delay,r=e.offset;return Rt("span",{css:QE({animation:"".concat(Fae," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Lae=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=KA(e,_ae);return Rt("div",zt({},Tr(Mt(Mt({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Rt(gx,{delay:0,offset:r}),Rt(gx,{delay:160,offset:!0}),Rt(gx,{delay:320,offset:!r}))},jae=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,l=s.borderRadius,a=s.spacing;return Mt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},Uae=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Rt("div",zt({ref:s},Tr(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":l}),o,{"aria-disabled":r||void 0}),n)},kae=Uae,Rae=["data"],Oae=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Dae=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,l=e.headingProps,a=e.innerProps,u=e.label,c=e.theme,h=e.selectProps;return Rt("div",zt({},Tr(e,"group",{group:!0}),a),Rt(o,zt({},l,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),u),Rt("div",null,n))},Qae=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Mt({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Mae=function(e){var n=DO(e);n.data;var r=KA(n,Rae);return Rt("div",zt({},Tr(e,"groupHeading",{"group-heading":!0}),r))},Hae=Dae,Vae=["innerRef","isDisabled","isHidden","inputClassName"],Kae=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,l=s.colors;return Mt(Mt({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},zae),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},WO={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},zae={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Mt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},WO)},$ae=function(e){return Mt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},WO)},Gae=function(e){var n=e.cx,r=e.value,i=DO(e),s=i.innerRef,o=i.isDisabled,l=i.isHidden,a=i.inputClassName,u=KA(i,Vae);return Rt("div",zt({},Tr(e,"input",{"input-container":!0}),{"data-value":r||""}),Rt("input",zt({className:n({input:!0},a),ref:s,style:$ae(l),disabled:o},u)))},Wae=Gae,qae=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Mt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},Jae=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Mt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Yae=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,l=e.isFocused;return Mt({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},qO=function(e){var n=e.children,r=e.innerProps;return Rt("div",r,n)},Xae=qO,Zae=qO;function ele(t){var e=t.children,n=t.innerProps;return Rt("div",zt({role:"button"},n),e||Rt(KE,{size:14}))}var tle=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,l=e.removeProps,a=e.selectProps,u=r.Container,c=r.Label,h=r.Remove;return Rt(u,{data:i,innerProps:Mt(Mt({},Tr(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:a},Rt(c,{data:i,innerProps:Mt({},Tr(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},n),Rt(h,{data:i,innerProps:Mt(Mt({},Tr(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:a}))},nle=tle,rle=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,l=o.spacing,a=o.colors;return Mt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?a.primary:i?a.primary25:"transparent",color:r?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?a.primary:a.primary50}})},ile=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,l=e.innerProps;return Rt("div",zt({},Tr(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},l),n)},sle=ile,ole=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Mt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},ale=function(e){var n=e.children,r=e.innerProps;return Rt("div",zt({},Tr(e,"placeholder",{placeholder:!0}),r),n)},lle=ale,Ale=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Mt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},cle=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return Rt("div",zt({},Tr(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},ule=cle,dle={ClearIndicator:Iae,Control:kae,DropdownIndicator:Eae,DownChevron:$O,CrossIcon:KE,Group:Hae,GroupHeading:Mae,IndicatorsContainer:xae,IndicatorSeparator:Tae,Input:Wae,LoadingIndicator:Lae,Menu:aae,MenuList:Aae,MenuPortal:pae,LoadingMessage:hae,NoOptionsMessage:dae,MultiValue:nle,MultiValueContainer:Xae,MultiValueLabel:Zae,MultiValueRemove:ele,Option:sle,Placeholder:lle,SelectContainer:gae,SingleValue:ule,ValueContainer:yae},hle=function(e){return Mt(Mt({},dle),e.components)},bT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function fle(t,e){return!!(t===e||bT(t)&&bT(e))}function ple(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!fle(t[n],e[n]))return!1;return!0}function mle(t,e){e===void 0&&(e=ple);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var gle={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},vle=function(e){return Rt("span",zt({css:gle},e))},_T=vle,yle={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,l=e.selectValue,a=e.isDisabled,u=e.isSelected,c=e.isAppleDevice,h=function(_,C){return _&&_.length?"".concat(_.indexOf(C)+1," of ").concat(_.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(h(l,r),".");if(n==="menu"&&c){var p=a?" disabled":"",m="".concat(u?" selected":"").concat(p);return"".concat(o).concat(m,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},wle=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,l=e.selectValue,a=e.selectProps,u=e.id,c=e.isAppleDevice,h=a.ariaLiveMessages,p=a.getOptionLabel,m=a.inputValue,b=a.isMulti,_=a.isOptionDisabled,C=a.isSearchable,w=a.menuIsOpen,y=a.options,E=a.screenReaderStatus,F=a.tabSelectsValue,M=a.isLoading,k=a["aria-label"],N=a["aria-live"],S=Y.useMemo(function(){return Mt(Mt({},yle),h||{})},[h]),O=Y.useMemo(function(){var oe="";if(n&&S.onChange){var V=n.option,q=n.options,z=n.removedValue,ue=n.removedValues,ie=n.value,be=function(fe){return Array.isArray(fe)?null:fe},Q=z||V||be(ie),J=Q?p(Q):"",re=q||ue||void 0,ee=re?re.map(p):[],he=Mt({isDisabled:Q&&_(Q,l),label:J,labels:ee},n);oe=S.onChange(he)}return oe},[n,S,_,l,p]),H=Y.useMemo(function(){var oe="",V=r||i,q=!!(r&&l&&l.includes(r));if(V&&S.onFocus){var z={focused:V,label:p(V),isDisabled:_(V,l),isSelected:q,options:s,context:V===r?"menu":"value",selectValue:l,isAppleDevice:c};oe=S.onFocus(z)}return oe},[r,i,p,_,S,s,l,c]),j=Y.useMemo(function(){var oe="";if(w&&y.length&&!M&&S.onFilter){var V=E({count:s.length});oe=S.onFilter({inputValue:m,resultsMessage:V})}return oe},[s,m,w,S,y,E,M]),T=(n==null?void 0:n.action)==="initial-input-focus",D=Y.useMemo(function(){var oe="";if(S.guidance){var V=i?"value":w?"menu":"input";oe=S.guidance({"aria-label":k,context:V,isDisabled:r&&_(r,l),isMulti:b,isSearchable:C,tabSelectsValue:F,isInitialFocus:T})}return oe},[k,r,i,b,_,C,w,S,l,F,T]),W=Rt(Y.Fragment,null,Rt("span",{id:"aria-selection"},O),Rt("span",{id:"aria-focused"},H),Rt("span",{id:"aria-results"},j),Rt("span",{id:"aria-guidance"},D));return Rt(Y.Fragment,null,Rt(_T,{id:u},T&&W),Rt(_T,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!T&&W))},xle=wle,H_=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],ble=new RegExp("["+H_.map(function(t){return t.letters}).join("")+"]","g"),JO={};for(var vx=0;vx<H_.length;vx++)for(var yx=H_[vx],wx=0;wx<yx.letters.length;wx++)JO[yx.letters[wx]]=yx.base;var YO=function(e){return e.replace(ble,function(n){return JO[n]})},_le=mle(YO),BT=function(e){return e.replace(/^\s+|\s+$/g,"")},Ble=function(e){return"".concat(e.label," ").concat(e.value)},Cle=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Mt({ignoreCase:!0,ignoreAccents:!0,stringify:Ble,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,l=i.stringify,a=i.trim,u=i.matchFrom,c=a?BT(r):r,h=a?BT(l(n)):l(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=_le(c),h=YO(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},Ele=["innerRef"];function Sle(t){var e=t.innerRef,n=KA(t,Ele),r=Zoe(n,"onExited","in","enter","exit","appear");return Rt("input",zt({ref:e},r,{css:QE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ile=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Nle(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=Y.useRef(!1),l=Y.useRef(!1),a=Y.useRef(0),u=Y.useRef(null),c=Y.useCallback(function(C,w){if(u.current!==null){var y=u.current,E=y.scrollTop,F=y.scrollHeight,M=y.clientHeight,k=u.current,N=w>0,S=F-M-E,O=!1;S>w&&o.current&&(r&&r(C),o.current=!1),N&&l.current&&(s&&s(C),l.current=!1),N&&w>S?(n&&!o.current&&n(C),k.scrollTop=F,O=!0,o.current=!0):!N&&-w>E&&(i&&!l.current&&i(C),k.scrollTop=0,O=!0,l.current=!0),O&&Ile(C)}},[n,r,i,s]),h=Y.useCallback(function(C){c(C,C.deltaY)},[c]),p=Y.useCallback(function(C){a.current=C.changedTouches[0].clientY},[]),m=Y.useCallback(function(C){var w=a.current-C.changedTouches[0].clientY;c(C,w)},[c]),b=Y.useCallback(function(C){if(C){var w=Joe?{passive:!1}:!1;C.addEventListener("wheel",h,w),C.addEventListener("touchstart",p,w),C.addEventListener("touchmove",m,w)}},[m,p,h]),_=Y.useCallback(function(C){C&&(C.removeEventListener("wheel",h,!1),C.removeEventListener("touchstart",p,!1),C.removeEventListener("touchmove",m,!1))},[m,p,h]);return Y.useEffect(function(){if(e){var C=u.current;return b(C),function(){_(C)}}},[e,b,_]),function(C){u.current=C}}var CT=["boxSizing","height","overflow","paddingRight","position"],ET={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ST(t){t.cancelable&&t.preventDefault()}function IT(t){t.stopPropagation()}function NT(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function TT(){return"ontouchstart"in window||navigator.maxTouchPoints}var FT=!!(typeof window<"u"&&window.document&&window.document.createElement),tp=0,oh={capture:!1,passive:!1};function Tle(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=Y.useRef({}),s=Y.useRef(null),o=Y.useCallback(function(a){if(FT){var u=document.body,c=u&&u.style;if(r&&CT.forEach(function(b){var _=c&&c[b];i.current[b]=_}),r&&tp<1){var h=parseInt(i.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+h||0;Object.keys(ET).forEach(function(b){var _=ET[b];c&&(c[b]=_)}),c&&(c.paddingRight="".concat(m,"px"))}u&&TT()&&(u.addEventListener("touchmove",ST,oh),a&&(a.addEventListener("touchstart",NT,oh),a.addEventListener("touchmove",IT,oh))),tp+=1}},[r]),l=Y.useCallback(function(a){if(FT){var u=document.body,c=u&&u.style;tp=Math.max(tp-1,0),r&&tp<1&&CT.forEach(function(h){var p=i.current[h];c&&(c[h]=p)}),u&&TT()&&(u.removeEventListener("touchmove",ST,oh),a&&(a.removeEventListener("touchstart",NT,oh),a.removeEventListener("touchmove",IT,oh)))}},[r]);return Y.useEffect(function(){if(e){var a=s.current;return o(a),function(){l(a)}}},[e,o,l]),function(a){s.current=a}}var Fle=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Ple={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Lle(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,a=t.onTopLeave,u=Nle({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:a}),c=Tle({isEnabled:n}),h=function(m){u(m),c(m)};return Rt(Y.Fragment,null,n&&Rt("div",{onClick:Fle,css:Ple}),e(h))}var jle={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ule=function(e){var n=e.name,r=e.onFocus;return Rt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:jle,value:"",onChange:function(){}})},kle=Ule;function zE(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Rle(){return zE(/^iPhone/i)}function XO(){return zE(/^Mac/i)}function Ole(){return zE(/^iPad/i)||XO()&&navigator.maxTouchPoints>1}function Dle(){return Rle()||Ole()}function Qle(){return XO()||Dle()}var Mle=function(e){return e.label},Hle=function(e){return e.label},Vle=function(e){return e.value},Kle=function(e){return!!e.isDisabled},zle={clearIndicator:Sae,container:mae,control:jae,dropdownIndicator:Cae,group:Oae,groupHeading:Qae,indicatorsContainer:wae,indicatorSeparator:Nae,input:Kae,loadingIndicator:Pae,loadingMessage:uae,menu:iae,menuList:lae,menuPortal:fae,multiValue:qae,multiValueLabel:Jae,multiValueRemove:Yae,noOptionsMessage:cae,option:rle,placeholder:ole,singleValue:Ale,valueContainer:vae},$le={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Gle=4,ZO=4,Wle=38,qle=ZO*2,Jle={baseUnit:ZO,controlHeight:Wle,menuGutter:qle},xx={borderRadius:Gle,colors:$le,spacing:Jle},Yle={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:wT(),captureMenuScroll:!wT(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Cle(),formatGroupLabel:Mle,getOptionLabel:Hle,getOptionValue:Vle,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Kle,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Woe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function PT(t,e,n,r){var i=nD(t,e,n),s=rD(t,e,n),o=tD(t,e),l=zy(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:l,index:r}}function Nv(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,l){return PT(t,o,e,l)}).filter(function(o){return jT(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=PT(t,n,e,r);return jT(t,s)?s:void 0}).filter(Yoe)}function eD(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,PE(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function LT(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,PE(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Xle(t,e){return eD(Nv(t,e))}function jT(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,l=e.value;return(!sD(t)||!s)&&iD(t,{label:o,value:l,data:i},r)}function Zle(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function eAe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var bx=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},tD=function(e,n){return e.getOptionLabel(n)},zy=function(e,n){return e.getOptionValue(n)};function nD(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function rD(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=zy(t,e);return n.some(function(i){return zy(t,i)===r})}function iD(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var sD=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},tAe=1,oD=function(t){hse(n,t);var e=mse(n);function n(r){var i;if(use(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,u){var c=i.props,h=c.onChange,p=c.name;u.name=p,i.ariaOnChange(a,u),h(a,u)},i.setValue=function(a,u,c){var h=i.props,p=h.closeMenuOnSelect,m=h.isMulti,b=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:b}),p&&(i.setState({inputIsHiddenAfterUpdate:!m}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:u,option:c})},i.selectOption=function(a){var u=i.props,c=u.blurInputOnSelect,h=u.isMulti,p=u.name,m=i.state.selectValue,b=h&&i.isOptionSelected(a,m),_=i.isOptionDisabled(a,m);if(b){var C=i.getOptionValue(a);i.setValue(m.filter(function(w){return i.getOptionValue(w)!==C}),"deselect-option",a)}else if(!_)h?i.setValue([].concat(PE(m),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:p});return}c&&i.blurInput()},i.removeValue=function(a){var u=i.props.isMulti,c=i.state.selectValue,h=i.getOptionValue(a),p=c.filter(function(b){return i.getOptionValue(b)!==h}),m=G0(u,p,p[0]||null);i.onChange(m,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(G0(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,u=i.state.selectValue,c=u[u.length-1],h=u.slice(0,u.length-1),p=G0(a,h,h[0]||null);c&&i.onChange(p,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(a){return bx(i.state.focusableOptionsWithIds,a)},i.getFocusableOptionsWithIds=function(){return LT(Nv(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return Voe.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(a){return tD(i.props,a)},i.getOptionValue=function(a){return zy(i.props,a)},i.getStyles=function(a,u){var c=i.props.unstyled,h=zle[a](u,c);h.boxSizing="border-box";var p=i.props.styles[a];return p?p(h,u):h},i.getClassNames=function(a,u){var c,h;return(c=(h=i.props.classNames)[a])===null||c===void 0?void 0:c.call(h,u)},i.getElementId=function(a){return"".concat(i.state.instancePrefix,"-").concat(a)},i.getComponents=function(){return hle(i.props)},i.buildCategorizedOptions=function(){return Nv(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return eD(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,u){i.setState({ariaSelection:Mt({value:a},u)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var u=i.props,c=u.isMulti,h=u.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&yw(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var u=a.touches,c=u&&u.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var u=a.touches,c=u&&u.item(0);if(c){var h=Math.abs(c.clientX-i.initialTouchX),p=Math.abs(c.clientY-i.initialTouchY),m=5;i.userIsDragging=h>m||p>m}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var u=i.props.inputValue,c=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){if(!(i.blockOptionHover||i.state.focusedOption===a)){var u=i.getFocusableOptions(),c=u.indexOf(a);i.setState({focusedOption:a,focusedOptionId:c>-1?i.getFocusedOptionId(a):null})}},i.shouldHideSelectedOptions=function(){return sD(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var u=i.props,c=u.isMulti,h=u.backspaceRemovesValue,p=u.escapeClearsValue,m=u.inputValue,b=u.isClearable,_=u.isDisabled,C=u.menuIsOpen,w=u.onKeyDown,y=u.tabSelectsValue,E=u.openMenuOnFocus,F=i.state,M=F.focusedOption,k=F.focusedValue,N=F.selectValue;if(!_&&!(typeof w=="function"&&(w(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||m)return;i.focusValue("previous");break;case"ArrowRight":if(!c||m)return;i.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(k)i.removeValue(k);else{if(!h)return;c?i.popValue():b&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!C||!y||!M||E&&i.isOptionSelected(M,N))return;i.selectOption(M);break;case"Enter":if(a.keyCode===229)break;if(C){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":C?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:m}),i.onMenuClose()):b&&p&&i.clearValue();break;case" ":if(m)return;if(!C){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":C?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":C?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!C)return;i.focusOption("pageup");break;case"PageDown":if(!C)return;i.focusOption("pagedown");break;case"Home":if(!C)return;i.focusOption("first");break;case"End":if(!C)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++tAe),i.state.selectValue=vT(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),l=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[l],i.state.focusedOptionId=bx(s,o[l])}return i}return dse(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&yT(this.menuListRef,this.focusedOptionRef),Qle()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,a=this.state.isFocused;(a&&!o&&i.isDisabled||a&&l&&!i.menuIsOpen)&&this.focusInput(),a&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(yT(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,l=o.selectValue,a=o.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(l[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=o.indexOf(l);l||(a=-1);var u=o.length-1,c=-1;if(o.length){switch(i){case"previous":a===0?c=0:a===-1?c=u:c=a-1;break;case"next":a>-1&&a<u&&(c=a+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,u=l.indexOf(o);o||(u=-1),i==="up"?a=u>0?u-1:l.length-1:i==="down"?a=(u+1)%l.length:i==="pageup"?(a=u-s,a<0&&(a=0)):i==="pagedown"?(a=u+s,a>l.length-1&&(a=l.length-1)):i==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(xx):Mt(Mt({},xx),this.props.theme):xx}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,a=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,p=h.isMulti,m=h.isRtl,b=h.options,_=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:l,getValue:a,hasValue:_,isMulti:p,isRtl:m,options:b,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return nD(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return rD(this.props,i,s)}},{key:"filterOption",value:function(i,s){return iD(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,l=i.inputId,a=i.inputValue,u=i.tabIndex,c=i.form,h=i.menuIsOpen,p=i.required,m=this.getComponents(),b=m.Input,_=this.state,C=_.inputIsHidden,w=_.ariaSelection,y=this.commonProps,E=l||this.getElementId("input"),F=Mt(Mt(Mt({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?Y.createElement(b,zt({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:s,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:a},F)):Y.createElement(Sle,zt({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Vy,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:c,value:""},F))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,a=s.MultiValueLabel,u=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,p=this.commonProps,m=this.props,b=m.controlShouldRenderValue,_=m.isDisabled,C=m.isMulti,w=m.inputValue,y=m.placeholder,E=this.state,F=E.selectValue,M=E.focusedValue,k=E.isFocused;if(!this.hasValue()||!b)return w?null:Y.createElement(h,zt({},p,{key:"placeholder",isDisabled:_,isFocused:k,innerProps:{id:this.getElementId("placeholder")}}),y);if(C)return F.map(function(S,O){var H=S===M,j="".concat(i.getOptionLabel(S),"-").concat(i.getOptionValue(S));return Y.createElement(o,zt({},p,{components:{Container:l,Label:a,Remove:u},isFocused:H,isDisabled:_,key:j,index:O,removeProps:{onClick:function(){return i.removeValue(S)},onTouchEnd:function(){return i.removeValue(S)},onMouseDown:function(D){D.preventDefault()}},data:S}),i.formatOptionLabel(S,"value"))});if(w)return null;var N=F[0];return Y.createElement(c,zt({},p,{data:N,isDisabled:_}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,l=this.props,a=l.isDisabled,u=l.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Y.createElement(s,zt({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,l=this.props,a=l.isDisabled,u=l.isLoading,c=this.state.isFocused;if(!s||!u)return null;var h={"aria-hidden":"true"};return Y.createElement(s,zt({},o,{innerProps:h,isDisabled:a,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused;return Y.createElement(o,zt({},l,{isDisabled:a,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Y.createElement(s,zt({},o,{innerProps:u,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,a=s.Menu,u=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,b=this.commonProps,_=this.state.focusedOption,C=this.props,w=C.captureMenuScroll,y=C.inputValue,E=C.isLoading,F=C.loadingMessage,M=C.minMenuHeight,k=C.maxMenuHeight,N=C.menuIsOpen,S=C.menuPlacement,O=C.menuPosition,H=C.menuPortalTarget,j=C.menuShouldBlockScroll,T=C.menuShouldScrollIntoView,D=C.noOptionsMessage,W=C.onMenuScrollToTop,oe=C.onMenuScrollToBottom;if(!N)return null;var V=function(J,re){var ee=J.type,he=J.data,ve=J.isDisabled,fe=J.isSelected,ne=J.label,te=J.value,Ae=_===he,xe=ve?void 0:function(){return i.onOptionHover(he)},ye=ve?void 0:function(){return i.selectOption(he)},Fe="".concat(i.getElementId("option"),"-").concat(re),Ce={id:Fe,onClick:ye,onMouseMove:xe,onMouseOver:xe,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:fe};return Y.createElement(m,zt({},b,{innerProps:Ce,data:he,isDisabled:ve,isSelected:fe,key:Fe,label:ne,type:ee,value:te,isFocused:Ae,innerRef:Ae?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(J.data,"menu"))},q;if(this.hasOptions())q=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var J=Q.data,re=Q.options,ee=Q.index,he="".concat(i.getElementId("group"),"-").concat(ee),ve="".concat(he,"-heading");return Y.createElement(o,zt({},b,{key:he,data:J,options:re,Heading:l,headingProps:{id:ve,data:Q.data},label:i.formatGroupLabel(Q.data)}),Q.options.map(function(fe){return V(fe,"".concat(ee,"-").concat(fe.index))}))}else if(Q.type==="option")return V(Q,"".concat(Q.index))});else if(E){var z=F({inputValue:y});if(z===null)return null;q=Y.createElement(h,b,z)}else{var ue=D({inputValue:y});if(ue===null)return null;q=Y.createElement(p,b,ue)}var ie={minMenuHeight:M,maxMenuHeight:k,menuPlacement:S,menuPosition:O,menuShouldScrollIntoView:T},be=Y.createElement(sae,zt({},b,ie),function(Q){var J=Q.ref,re=Q.placerProps,ee=re.placement,he=re.maxHeight;return Y.createElement(a,zt({},b,ie,{innerRef:J,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:E,placement:ee}),Y.createElement(Lle,{captureEnabled:w,onTopArrive:W,onBottomArrive:oe,lockEnabled:j},function(ve){return Y.createElement(u,zt({},b,{innerRef:function(ne){i.getMenuListRef(ne),ve(ne)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:i.getElementId("listbox")},isLoading:E,maxHeight:he,focusedOption:_}),q)}))});return H||O==="fixed"?Y.createElement(c,zt({},b,{appendTo:H,controlElement:this.controlRef,menuPlacement:S,menuPosition:O}),be):be}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,l=s.isDisabled,a=s.isMulti,u=s.name,c=s.required,h=this.state.selectValue;if(c&&!this.hasValue()&&!l)return Y.createElement(kle,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(a)if(o){var p=h.map(function(_){return i.getOptionValue(_)}).join(o);return Y.createElement("input",{name:u,type:"hidden",value:p})}else{var m=h.length>0?h.map(function(_,C){return Y.createElement("input",{key:"i-".concat(C),name:u,type:"hidden",value:i.getOptionValue(_)})}):Y.createElement("input",{name:u,type:"hidden",value:""});return Y.createElement("div",null,m)}else{var b=h[0]?this.getOptionValue(h[0]):"";return Y.createElement("input",{name:u,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,a=s.focusedValue,u=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return Y.createElement(xle,zt({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:a,isFocused:u,selectValue:c,focusableOptions:h,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,l=i.SelectContainer,a=i.ValueContainer,u=this.props,c=u.className,h=u.id,p=u.isDisabled,m=u.menuIsOpen,b=this.state.isFocused,_=this.commonProps=this.getCommonProps();return Y.createElement(l,zt({},_,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:b}),this.renderLiveRegion(),Y.createElement(s,zt({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:b,menuIsOpen:m}),Y.createElement(a,zt({},_,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),Y.createElement(o,zt({},_,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,p=s.instancePrefix,m=i.options,b=i.value,_=i.menuIsOpen,C=i.inputValue,w=i.isMulti,y=vT(b),E={};if(o&&(b!==o.value||m!==o.options||_!==o.menuIsOpen||C!==o.inputValue)){var F=_?Xle(i,y):[],M=_?LT(Nv(i,y),"".concat(p,"-option")):[],k=l?Zle(s,y):null,N=eAe(s,F),S=bx(M,N);E={selectValue:y,focusedOption:N,focusedOptionId:S,focusableOptionsWithIds:M,focusedValue:k,clearFocusValueOnUpdate:!1}}var O=a!=null&&i!==o?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},H=u,j=c&&h;return c&&!j&&(H={value:G0(w,y,y[0]||null),options:y,action:"initial-input-focus"},j=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(H=null),Mt(Mt(Mt({},E),O),{},{prevProps:i,ariaSelection:H,prevWasFocused:j})}}]),n}(Y.Component);oD.defaultProps=Yle;var nAe=Y.forwardRef(function(t,e){var n=cse(t);return Y.createElement(oD,zt({ref:e},n))}),aD=nAe;function rAe({isOpen:t,onClose:e,onSave:n,pricingPlans:r}){const[i,s]=Y.useState({company:"",address:"",representative:"",plan:"",startDate:"",endDate:"",contactPerson:"",contactPhone:"",email:"",corporateNo:"",invoiceNo:"",paymentSite:"",paymentMethod:"",note:"",selectedPlans:[]});if(!t)return null;const o=r.map(a=>({value:a.id,label:a.name})),l=i.selectedPlans.map(a=>{var u;return{value:a,label:((u=r.find(c=>c.id===a))==null?void 0:u.name)||a}});return d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white w-full max-w-3xl rounded shadow p-6 overflow-y-auto max-h-[90vh]",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"新規顧客登録"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("label",{className:"space-y-1 col-span-2",children:[d.jsx("span",{className:"font-semibold",children:"会社名"}),d.jsx("input",{className:"border p-1 w-full",value:i.company,onChange:a=>s({...i,company:a.target.value})})]}),d.jsxs("label",{className:"space-y-1 col-span-2",children:[d.jsx("span",{className:"font-semibold",children:"本社住所"}),d.jsx("input",{className:"border p-1 w-full",value:i.address,onChange:a=>s({...i,address:a.target.value})})]}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{className:"font-semibold",children:"代表者名"}),d.jsx("input",{className:"border p-1 w-full",value:i.representative,onChange:a=>s({...i,representative:a.target.value})})]}),d.jsxs("label",{className:"space-y-1 col-span-2",children:[d.jsx("span",{className:"font-semibold",children:"契約プラン"}),d.jsx(aD,{isMulti:!0,options:o,value:l,onChange:a=>{s({...i,selectedPlans:a.map(u=>u.value)})}})]}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{className:"font-semibold",children:"利用開始日"}),d.jsx("input",{type:"date",className:"border p-1 w-full",value:i.startDate,onChange:a=>s({...i,startDate:a.target.value})})]}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{className:"font-semibold",children:"契約満了日"}),d.jsx("input",{type:"date",className:"border p-1 w-full",value:i.endDate,onChange:a=>s({...i,endDate:a.target.value})})]}),d.jsx("div",{className:"col-span-2 border-t pt-2 font-semibold",children:"担当窓口"}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{children:"担当者名"}),d.jsx("input",{className:"border p-1 w-full",value:i.contactPerson,onChange:a=>s({...i,contactPerson:a.target.value})})]}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{children:"電話番号"}),d.jsx("input",{className:"border p-1 w-full",value:i.contactPhone,onChange:a=>s({...i,contactPhone:a.target.value})})]}),d.jsxs("label",{className:"space-y-1 col-span-2",children:[d.jsx("span",{children:"Email"}),d.jsx("input",{type:"email",className:"border p-1 w-full",value:i.email,onChange:a=>s({...i,email:a.target.value})})]}),d.jsx("div",{className:"col-span-2 border-t pt-2 font-semibold",children:"税務・請求"}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{children:"法人番号"}),d.jsx("input",{className:"border p-1 w-full",value:i.corporateNo,onChange:a=>s({...i,corporateNo:a.target.value})})]}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{children:"インボイス番号"}),d.jsx("input",{className:"border p-1 w-full",value:i.invoiceNo,onChange:a=>s({...i,invoiceNo:a.target.value})})]}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{children:"支払サイト"}),d.jsx("input",{className:"border p-1 w-full",value:i.paymentSite,onChange:a=>s({...i,paymentSite:a.target.value})})]}),d.jsxs("label",{className:"space-y-1",children:[d.jsx("span",{children:"支払方法"}),d.jsx("input",{className:"border p-1 w-full",value:i.paymentMethod,onChange:a=>s({...i,paymentMethod:a.target.value})})]}),d.jsxs("label",{className:"space-y-1 col-span-2",children:[d.jsx("span",{className:"font-semibold",children:"契約書 PDF URL"}),d.jsx("input",{className:"border p-1 w-full",value:i.note,onChange:a=>s({...i,note:a.target.value})})]})]}),d.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[d.jsx("button",{className:"px-4 py-1 bg-gray-300 rounded",onClick:e,children:"キャンセル"}),d.jsx("button",{className:"px-4 py-1 bg-green-600 text-white rounded",onClick:()=>{n({...i,plan:i.selectedPlans[0]||""}),e()},children:"登録"})]})]})})}async function iAe(t,e){const n=Date.now(),r=`${t.replace(/\s/g,"").toLowerCase()}_${n}@anborco.jp`,i=Math.random().toString(36).slice(-8),s=Bn(K1);return await SH(s,r,i),console.log("✅ Firebase Auth にユーザー登録:",{email:r,password:i}),{email:r,password:i}}const sAe=typeof import.meta<"u"?"# 値は NEXT_PUBLIC_API_BASE と同じでOK":"",oAe=sAe.replace(/\/$/,""),lD=t=>`${oAe}${t.startsWith("/")?t:`/${t}`}`,ju=[{id:"basic",name:"ベーシック",price:9800,maxUsers:10,features:{chat:!0,shift:!0,dailyReport:!1,vehicle:!1}},{id:"advanced",name:"アドバンス",price:19800,maxUsers:30,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!1}},{id:"pro",name:"プロ",price:32e3,maxUsers:50,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}},{id:"elite",name:"エリート",price:42e3,maxUsers:70,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}},{id:"premium",name:"プレミアム",price:55e3,maxUsers:99,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}},{id:"unlimited",name:"アンリミテッド",price:6e4,maxUsers:Number.POSITIVE_INFINITY,features:{chat:!0,shift:!0,dailyReport:!0,vehicle:!0}}],UT="customerMaster",aAe=t=>{const e="inline-block px-2 py-1 text-xs font-bold rounded w-24 text-center";switch(t){case"ベーシック":return`${e} bg-amber-600 text-white`;case"アドバンス":return`${e} bg-green-600 text-white`;case"プロ":return`${e} bg-blue-600 text-white`;case"エリート":return`${e} bg-purple-600 text-white`;case"プレミアム":return`${e} bg-pink-600 text-white`;case"アンリミテッド":return`${e} bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-black shadow-lg`;default:return`${e} bg-gray-600 text-white`}},kT=async t=>{if(!(t!=null&&t.trim()))return 0;try{const c=await fetch(lD(`/api/company/stats?company=${encodeURIComponent(t)}`),{credentials:"include",headers:{Accept:"application/json"}});if(c.ok){const h=await c.json();if(typeof(h==null?void 0:h.userCount)=="number")return h.userCount}}catch{}const e=c=>{try{const h=JSON.parse(c||"[]");return Array.isArray(h)?h:[]}catch{return[]}},n=e(localStorage.getItem(`adminMaster_${t}`)),r=e(localStorage.getItem("adminMaster")),i=n.length?n:r,s=e(localStorage.getItem(`driverMaster_${t}`)),o=e(localStorage.getItem("driverMaster")),l=s.length?s:o,a=i.filter(c=>(c==null?void 0:c.company)===t).length;return l.filter(c=>(c==null?void 0:c.company)===t).length+a};function lAe(){const[t,e]=Y.useState(null),[n,r]=Y.useState(()=>{const b=localStorage.getItem(UT);return b?JSON.parse(b):[]}),[i,s]=Y.useState(!1),[o,l]=Y.useState(null),[a,u]=Y.useState({});Y.useEffect(()=>{(async()=>{const b=await Promise.all([...new Set(n.map(_=>_.company))].map(async _=>{const C=await kT(_);return[_,C]}));u(Object.fromEntries(b))})()},[n]);const c={company:"",address:"",representative:"",contactPerson:"",contactPhone:"",plan:"ベーシック",selectedPlans:[],startDate:"",endDate:"",corporateNo:"",invoiceNo:"",paymentSite:"",paymentMethod:"",email:"",uid:"",upw:"",note:""},[h,p]=Y.useState(c),m=b=>{r(b),localStorage.setItem(UT,JSON.stringify(b))};return d.jsxs("div",{className:"p-4 overflow-x-auto font-sans",children:[d.jsx("button",{className:"mb-3 px-4 py-1.5 bg-green-600 text-white rounded shadow",onClick:()=>s(!0),children:"新規登録"}),d.jsx(rAe,{isOpen:i,onClose:()=>s(!1),onSave:async b=>{var M,k,N;const _=await kT(b.company);let C=0,w={chat:!1,shift:!1,dailyReport:!1,vehicle:!1};for(const S of b.selectedPlans||[]){const O=ju.find(H=>H.id===S);O&&(O.maxUsers>C&&(C=O.maxUsers),w={chat:w.chat||O.features.chat,shift:w.shift||O.features.shift,dailyReport:w.dailyReport||O.features.dailyReport,vehicle:w.vehicle||O.features.vehicle})}if(C===0){const S=ju[0];C=S.maxUsers,w={...S.features}}Number.isFinite(C)&&_>C&&alert(`⚠ 現在の利用人数(${_}名)は、契約プランの上限(${C}名)を超えています。
プラン変更をご検討ください。`);const y=await iAe(b.company,b.contactPerson),E=Number.isFinite(C)?C:null,F={id:Date.now().toString(),uid:y.email,upw:y.password,...b,plan:(M=b.selectedPlans)!=null&&M[0]&&((k=ju.find(S=>S.id===b.selectedPlans[0]))==null?void 0:k.name)||"",selectedPlans:b.selectedPlans||[],limits:{maxUsers:E},features:w};m([...n,F]);try{const{getAuth:S}=await Ya(()=>import("./index.esm-fc044e20.js"),[],import.meta.url),O=await((N=S().currentUser)==null?void 0:N.getIdToken());await fetch(lD("/api/customers"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json",...O?{Authorization:`Bearer ${O}`}:{}},body:JSON.stringify(F)})}catch(S){console.warn("サーバ保存に失敗（ローカルには保存済み）:",S)}alert(`✅ 顧客アカウントを作成しました
ログインID: ${F.uid}
パスワード: ${F.upw}`),s(!1)},pricingPlans:ju}),d.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300 bg-white shadow-md text-sm rounded-lg overflow-hidden",children:[d.jsx("thead",{className:"bg-gradient-to-r from-green-200 to-green-100 text-gray-900",children:d.jsxs("tr",{className:"text-center font-semibold",children:[d.jsx("th",{className:"border px-3 py-2",children:"会社名"}),d.jsx("th",{className:"border px-3 py-2",children:"住所"}),d.jsx("th",{className:"border px-3 py-2",children:"担当者"}),d.jsx("th",{className:"border px-3 py-2",children:"TEL"}),d.jsx("th",{className:"border px-3 py-2",children:"契約プラン"}),d.jsx("th",{className:"border px-3 py-2",children:"ユーザー数"}),d.jsx("th",{className:"border px-3 py-2",children:"開始日"}),d.jsx("th",{className:"border px-3 py-2",children:"満了日"}),d.jsx("th",{className:"border px-3 py-2",children:"詳細"})]})}),d.jsx("tbody",{children:n.map(b=>{var _;return d.jsxs(Sn.Fragment,{children:[d.jsxs("tr",{className:"text-center hover:bg-gray-50",children:[d.jsx("td",{className:"border px-3 py-1",children:t===b.id?d.jsx("input",{value:h.company,onChange:C=>p({...h,company:C.target.value}),className:"border px-2 py-1 w-full text-sm"}):b.company}),d.jsx("td",{className:"border px-3 py-1",children:b.address}),d.jsx("td",{className:"border px-3 py-1",children:b.contactPerson}),d.jsx("td",{className:"border px-3 py-1",children:b.contactPhone}),d.jsx("td",{className:"border px-3 py-1",children:d.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:(_=b.selectedPlans)==null?void 0:_.map(C=>{const w=ju.find(y=>y.id===C);return d.jsx("span",{className:aAe((w==null?void 0:w.name)||""),children:w==null?void 0:w.name},C)})})}),d.jsxs("td",{className:"border px-3 py-1",children:[a[b.company]??"—","人"]}),d.jsx("td",{className:"border px-3 py-1",children:b.startDate}),d.jsx("td",{className:"border px-3 py-1",children:b.endDate}),d.jsx("td",{className:"border px-3 py-1",children:d.jsx("button",{onClick:()=>l(o===b.id?null:b.id),className:"text-blue-600 hover:underline",children:o===b.id?"閉じる":"詳細"})})]}),o===b.id&&d.jsx("tr",{children:d.jsx("td",{colSpan:9,className:"bg-gray-50 border px-4 py-3",children:t===b.id?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[["会社名","住所","代表者名","担当者","TEL","契約プラン","開始日","満了日","法人番号","インボイス番号","支払サイト","支払方法","Email","発番 ID","発番 PW"].map((C,w)=>{const E=["company","address","representative","contactPerson","contactPhone","plan","startDate","endDate","corporateNo","invoiceNo","paymentSite","paymentMethod","email","uid","upw"][w];return d.jsxs("label",{className:"flex flex-col",children:[d.jsx("span",{className:"font-bold",children:C}),E==="plan"?d.jsx(aD,{isMulti:!0,className:"text-sm",options:ju.map(F=>({value:F.id,label:F.name})),value:(h.selectedPlans||[]).map(F=>{var M;return{value:F,label:((M=ju.find(k=>k.id===F))==null?void 0:M.name)||""}}),onChange:F=>{const k=(Array.isArray(F)?F:[]).map(N=>N.value);p({...h,selectedPlans:k})}}):E==="startDate"||E==="endDate"?d.jsx("input",{type:"date",className:"border rounded px-1",value:h[E]||"",onChange:F=>p({...h,[E]:F.target.value})}):d.jsx("input",{className:"border rounded px-1",value:h[E]||"",onChange:F=>p({...h,[E]:F.target.value})})]},E)}),d.jsxs("label",{className:"flex flex-col col-span-2",children:[d.jsx("span",{className:"font-bold",children:"契約書 PDF"}),d.jsx("input",{type:"file",accept:"application/pdf",onChange:C=>{var E;const w=(E=C.target.files)==null?void 0:E[0];if(!w)return;const y=URL.createObjectURL(w);p({...h,note:y})}}),h.note&&d.jsx("a",{href:h.note,target:"_blank",className:"text-blue-600 underline mt-1",rel:"noreferrer",children:"現在のPDFを表示"})]})]}),d.jsxs("div",{className:"mt-3 flex gap-3",children:[d.jsx("button",{className:"px-4 py-1 bg-green-600 text-white rounded",onClick:()=>{const C=n.map(w=>w.id===b.id?{...w,...h,selectedPlans:h.selectedPlans}:w);m(C),e(null)},children:"保存"}),d.jsx("button",{className:"px-4 py-1 bg-gray-400 text-white rounded",onClick:()=>{e(null),p(c)},children:"キャンセル"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 text-sm",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"法人番号："}),b.corporateNo]}),d.jsxs("p",{children:[d.jsx("strong",{children:"インボイス番号："}),b.invoiceNo]}),d.jsxs("p",{children:[d.jsx("strong",{children:"支払サイト："}),b.paymentSite]}),d.jsxs("p",{children:[d.jsx("strong",{children:"支払方法："}),b.paymentMethod]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email："}),b.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"発番 ID："}),b.uid]}),d.jsxs("p",{children:[d.jsx("strong",{children:"発番 PW："}),b.upw]})]}),d.jsxs("p",{className:"mt-1 text-sm",children:[d.jsx("strong",{children:"契約書 PDF："}),b.note&&d.jsx("a",{href:b.note,target:"_blank",className:"text-blue-600 underline ml-1",rel:"noopener noreferrer",children:"表示"})]}),d.jsxs("div",{className:"mt-3 flex gap-3",children:[d.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-blue-600 text-white shadow",onClick:()=>{e(b.id),p({...b,selectedPlans:b.selectedPlans||[]})},children:"編集"}),d.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-red-600 text-white shadow",onClick:()=>{confirm("本当に削除しますか？")&&m(n.filter(C=>C.id!==b.id))},children:"削除"})]})]})})})]},b.id)})})]})]})}const AAe=()=>{const[t,e]=Y.useState(""),[n,r]=Y.useState(""),[i,s]=Y.useState(""),[o,l]=Y.useState(""),a=JSON.parse(localStorage.getItem("loggedInMaster")||"{}"),u=()=>{if(n!==i){l("新パスワードが一致しません");return}const c=JSON.parse(localStorage.getItem("masterList")||"[]"),h=c.find(p=>p.id===a.id);if(!h||h.password!==t){l("現在のパスワードが違います");return}h.password=n,localStorage.setItem("masterList",JSON.stringify(c)),l("パスワードを変更しました"),e(""),r(""),s("")};return d.jsxs("div",{className:"space-y-4 max-w-md",children:[d.jsxs("h1",{className:"text-2xl font-bold",children:["🔑 パスワード変更"," ",d.jsx("span",{className:"text-sm text-gray-500",children:"- Change Password -"})]}),d.jsx("input",{type:"password",placeholder:"現在のパスワード",value:t,onChange:c=>e(c.target.value),className:"border w-full px-2 py-1"}),d.jsx("input",{type:"password",placeholder:"新パスワード",value:n,onChange:c=>r(c.target.value),className:"border w-full px-2 py-1"}),d.jsx("input",{type:"password",placeholder:"新パスワード(確認)",value:i,onChange:c=>s(c.target.value),className:"border w-full px-2 py-1"}),d.jsx("button",{onClick:u,className:"bg-green-600 text-white px-4 py-2 rounded",children:"変更"}),o&&d.jsx("p",{className:"text-red-600",children:o})]})},W0=[{key:"adminManager",label:"管理者管理"},{key:"drivers",label:"ドライバー管理"},{key:"vehicles",label:"車両管理"},{key:"chat",label:"チャット"},{key:"shift",label:"シフト登録"},{key:"dailyReport",label:"日報管理"},{key:"projects",label:"案件一覧"},{key:"files",label:"ファイル管理"},{key:"map",label:"位置情報マップ"},{key:"payment",label:"支払集計"},{key:"todo",label:"法改正対応ToDo"}],RT=["adminManager","drivers","vehicles","dailyReport","shift"],OT=["chat","files","map","projects","payment","todo"];function cAe(){const t=pu(),[e,n]=Y.useState(!1),r=[{id:"basic",name:"ベーシック",eng:"Basic",price:9800,range:"～10名",description:"チャット・シフト管理",maxUsers:10},{id:"advanced",name:"アドバンス",eng:"Advanced",price:19800,range:"～30名",description:"チャット・シフト管理・日報管理",maxUsers:30},{id:"pro",name:"プロ",eng:"Pro",price:32e3,range:"31～50名",description:"チャット・シフト管理・日報管理・車両管理",maxUsers:50},{id:"elite",name:"エリート",eng:"Elite",price:42e3,range:"51～70名",description:"全機能対応",maxUsers:70},{id:"premium",name:"プレミアム",eng:"Premium",price:55e3,range:"71～99名",description:"全機能対応",maxUsers:99},{id:"unlimited",name:"アンリミテッド",eng:"Unlimited",price:6e4,extra:"+1名¥800",range:"100名以上",description:"全機能対応",maxUsers:1/0}],i=[{id:"basic-setup",name:"ベーシック",price:8e4,range:"～30名",details:"初期設定／管理者1名・1データセット取込（最大150件）＋1時間リモート講習"},{id:"standard-setup",name:"スタンダード",price:15e4,range:"31～70名",details:"ドライバー＋車両CSV取込（合計500件まで）＋2時間講習＋2週間ハイパーケア＋ロゴ/配色"},{id:"premium-setup",name:"プレミアム",price:22e4,range:"71～99名",details:"案件CSV取込＋位置情報/ファイル権限設定＋通知調整＋1か月ハイパーケア"},{id:"unlimited-setup",name:"アンリミテッド",price:3e5,range:"100名以上",details:"大規模移行＋監査/セキュリティ強化＋従量(@¥800〜¥1,000/人)"}],s=Y.useRef(null),o=async()=>{const l=s.current;if(!l)return;const a=await fO(l,{scale:2}),u=a.toDataURL("image/png"),c=new Dt("landscape","mm","a4"),h=297,p=210,m=a.height*h/a.width;let b=m,_=0;for(c.addImage(u,"PNG",0,_,h,m),b-=p;b>=0;)_=b-m,c.addPage(),c.addImage(u,"PNG",0,_,h,m),b-=p;c.save("anborco-pricing.pdf")};return d.jsxs("div",{className:"relative min-h-screen text-slate-100 overflow-hidden",children:[d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-[#0b1220] bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950"}),d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-white/[0.06] backdrop-blur-[2px]"}),d.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:[d.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-cyan-500/25 blur-3xl"}),d.jsx("div",{className:"absolute -bottom-24 -right-24 h-80 w-80 rounded-full bg-teal-400/25 blur-3xl"}),d.jsx("div",{className:"absolute left-1/2 top-1/3 h-96 w-96 -translate-x-1/2 rounded-full bg-indigo-500/20 blur-3xl"})]}),d.jsx("div",{"aria-hidden":!0,className:"pointer-events-none fixed top-16 left-0 md:left-64 right-0 bottom-0 px-3 sm:px-5 lg:px-8 xl:px-12 z-10",children:d.jsx("div",{className:"h-full w-full rounded-[28px] ring-8 ring-white/35 ring-inset"})}),d.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 h-16 bg-slate-900/70 backdrop-blur border-b border-white/10",children:d.jsxs("div",{className:"h-full w-full flex items-center",children:[d.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[d.jsx(AR,{className:"h-8 w-auto"}),d.jsx("button",{className:"inline-flex items-center justify-center rounded-lg p-2 md:hidden hover:bg-white/10","aria-label":"メニュー",onClick:()=>n(!0),children:d.jsx(fE,{size:22})})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-3 sm:gap-4 pr-2",children:[d.jsx("div",{className:"hidden sm:block px-2 py-1 rounded text-xs sm:text-sm font-bold text-white/90 bg-white/10 border border-white/20",children:"株式会社Anbor / マスター"}),d.jsx("button",{className:"text-sm text-white bg-red-500 px-3 sm:px-4 py-1 rounded hover:bg-red-600",onClick:()=>{localStorage.removeItem("loggedInMaster"),t("/login")},children:"ログアウト"})]})]})}),d.jsxs("div",{className:"pt-16 relative z-20",children:[e&&d.jsx("div",{className:"fixed inset-0 z-30 bg-black/40 md:hidden",onClick:()=>n(!1)}),d.jsxs("aside",{className:["fixed z-30 top-16 left-0 h-[calc(100vh-64px)] w-64 transform transition-transform duration-200","bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-2xl",e?"translate-x-0":"-translate-x-full","md:translate-x-0"].join(" "),children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between px-4 py-3 border-b border-white/10",children:[d.jsx("span",{className:"text-sm font-semibold text-white/80",children:"メニュー"}),d.jsx("button",{className:"inline-flex items-center justify-center rounded-lg p-2 hover:bg-white/10","aria-label":"閉じる",onClick:()=>n(!1),children:d.jsx(mE,{size:18})})]}),d.jsxs("nav",{className:"px-4 py-4 space-y-2 h-[calc(100%-52px)] md:h-full overflow-y-auto",children:[d.jsx("div",{className:"px-2 pb-2 text-left font-bold text-white/90 text-sm border-b border-white/10",children:"メニュー"}),d.jsxs("ul",{className:"space-y-2 pt-2",children:[d.jsx("li",{children:d.jsx($u,{to:"/master/customers",className:"block rounded px-3 py-2 hover:bg-white/10",children:"📋 契約顧客一覧"})}),d.jsx("li",{children:d.jsx("a",{href:"/pdfs/guide.pdf",target:"_blank",rel:"noopener noreferrer",className:"block rounded px-3 py-2 hover:bg-white/10",children:"📁 システム案内資料"})}),d.jsx("li",{children:d.jsx($u,{to:"/master/pricing",className:"block rounded px-3 py-2 hover:bg白/10",children:"💴 料金表"})}),d.jsx("li",{className:"pt-3 mt-3 border-t border-white/10 text-sm font-bold text-white/80",children:"会社設定"}),d.jsx("li",{children:d.jsx($u,{to:"/master/settings",className:"block rounded px-3 py-2 hover:bg-white/10",children:"⚙️ 画面構成の設定"})}),d.jsx("li",{children:d.jsx($u,{to:"/master/password",className:"block rounded px-3 py-2 hover:bg-white/10",children:"🔑 パスワード変更"})})]})]})]}),d.jsx("main",{className:"fixed top-16 left-0 md:left-64 right-0 bottom-0 px-3 sm:px-5 lg:px-8 xl:px-12 py-3 z-20",children:d.jsx("div",{className:"h-full w-full rounded-[24px] border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl overflow-hidden",children:d.jsx("div",{className:"h-full w-full overflow-auto p-4 sm:p-6 md:p-8",children:d.jsxs(ef,{children:[d.jsx(tn,{path:"/",element:d.jsx(Op,{to:"/master/customers",replace:!0})}),d.jsx(tn,{path:"/customers",element:d.jsxs("div",{children:[d.jsx("div",{className:"px-1 mb-4",children:d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("span",{className:"text-3xl",role:"img","aria-label":"list",children:"📋"}),d.jsxs("div",{className:"flex items-baseline gap-3",children:[d.jsx("h1",{className:"text-white text-2xl md:text-3xl font-bold",children:"契約顧客一覧"}),d.jsx("span",{className:"text-sm md:text-base text-gray-300",children:"-Customer List-"})]})]})}),d.jsx("div",{className:"text-black [&_th]:!text-black [&_td]:!text-black [&_a]:!text-black",children:d.jsx(lAe,{})})]})}),d.jsx(tn,{path:"/password",element:d.jsx(AAe,{})}),d.jsx(tn,{path:"/pricing",element:d.jsxs("div",{ref:s,className:"bg-gradient-to-br from-[#0c0f1a] via-[#0b0d18] to-black text-white flex flex-col items-center py-10 w-full px-10",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h1",{className:"text-5xl font-extrabold text-yellow-400 tracking-wide",children:"Anborco 料金プラン"}),d.jsx("div",{className:"w-32 h-1 bg-gradient-to-r from-yellow-400 via-amber-500 to-yellow-400 mx-auto my-4 rounded-full shadow-[0_0_15px_rgba(250,204,21,0.7)]"}),d.jsx("p",{className:"text-gray-400 mt-3 text-lg",children:"あなたのチームに最適なプレミアムプランをお選びください"})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-center text-2xl font-bold text-yellow-400 mb-4",children:"月額料金プラン"}),d.jsx("p",{className:"text-center text-gray-400 mb-8",children:"税込価格・プレミアムサービス"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:["basic","advanced","pro"].map(l=>{const a=r.find(c=>c.id===l),u=ad[l];return d.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-yellow-500 rounded-2xl shadow-lg hover:shadow-[0_0_25px_rgba(250,204,21,0.6)] transition-transform p-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:a.name}),d.jsx("p",{className:"text-xs text-gray-400",children:a.eng}),d.jsxs("p",{className:"text-3xl font-extrabold text-yellow-400 mt-3",children:["¥",a.price.toLocaleString()]}),a.extra&&d.jsx("p",{className:"text-xs text-amber-300",children:a.extra}),d.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["対象人数: ",a.range]})]}),d.jsx("div",{className:"my-4 h-px bg-gradient-to-r from-transparent via-yellow-500/30 to-transparent"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left",children:[d.jsx("ul",{className:"space-y-2",children:RT.map(c=>{var h;return d.jsxs("li",{className:"flex items-start gap-2",children:[u[c]?d.jsx(Nh,{className:"w-4 h-4 mt-0.5 text-emerald-400 shrink-0"}):d.jsx(hp,{className:"w-4 h-4 mt-0.5 text-gray-500 shrink-0"}),d.jsx("span",{className:u[c]?"text-gray-100 text-sm":"text-gray-500 text-sm",children:(h=W0.find(p=>p.key===c))==null?void 0:h.label})]},c)})}),d.jsx("ul",{className:"space-y-2",children:OT.map(c=>{var h;return d.jsxs("li",{className:"flex items-start gap-2",children:[u[c]?d.jsx(Nh,{className:"w-4 h-4 mt-0.5 text-emerald-400 shrink-0"}):d.jsx(hp,{className:"w-4 h-4 mt-0.5 text-gray-500 shrink-0"}),d.jsx("span",{className:u[c]?"text-gray-100 text-sm":"text-gray-500 text-sm",children:(h=W0.find(p=>p.key===c))==null?void 0:h.label})]},c)})})]})]},a.id)})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["elite","premium","unlimited"].map(l=>{const a=r.find(c=>c.id===l),u=ad[l];return d.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-yellow-500 rounded-2xl shadow-lg hover:shadow-[0_0_25px_rgba(250,204,21,0.6)] transition-transform p-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:a.name}),d.jsx("p",{className:"text-xs text-gray-400",children:a.eng}),d.jsxs("p",{className:"text-3xl font-extrabold text-yellow-400 mt-3",children:["¥",a.price.toLocaleString()]}),a.extra&&d.jsx("p",{className:"text-xs text-amber-300",children:a.extra}),d.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["対象人数: ",a.range]})]}),d.jsx("div",{className:"my-4 h-px bg-gradient-to-r from-transparent via-yellow-500/30 to-transparent"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left",children:[d.jsx("ul",{className:"space-y-2",children:RT.map(c=>{var h;return d.jsxs("li",{className:"flex items-start gap-2",children:[u[c]?d.jsx(Nh,{className:"w-4 h-4 mt-0.5 text-emerald-400 shrink-0"}):d.jsx(hp,{className:"w-4 h-4 mt-0.5 text-gray-500 shrink-0"}),d.jsx("span",{className:u[c]?"text-gray-100 text-sm":"text-gray-500 text-sm",children:(h=W0.find(p=>p.key===c))==null?void 0:h.label})]},c)})}),d.jsx("ul",{className:"space-y-2",children:OT.map(c=>{var h;return d.jsxs("li",{className:"flex items-start gap-2",children:[u[c]?d.jsx(Nh,{className:"w-4 h-4 mt-0.5 text-emerald-400 shrink-0"}):d.jsx(hp,{className:"w-4 h-4 mt-0.5 text-gray-500 shrink-0"}),d.jsx("span",{className:u[c]?"text-gray-100 text-sm":"text-gray-500 text-sm",children:(h=W0.find(p=>p.key===c))==null?void 0:h.label})]},c)})})]})]},a.id)})})]}),d.jsxs("section",{className:"mt-10",children:[d.jsx("h2",{className:"text-center text-2xl font-bold text-yellow-400 mb-6",children:"導入プラン"}),d.jsx("p",{className:"text-center text-gray-400 mb-6",children:"初期費用・税込価格"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:i.map(l=>d.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-gray-700 rounded-lg shadow-lg p-6 text-center hover:shadow-[0_0_15px_rgba(250,204,21,0.6)] hover:scale-105 transition-transform",children:[d.jsx("p",{className:"text-amber-400 font-bold",children:l.name}),d.jsxs("p",{className:"text-2xl font-extrabold text-yellow-400",children:["¥",l.price.toLocaleString()]}),d.jsx("p",{className:"text-xs text-gray-400",children:l.range}),d.jsx("p",{className:"text-xs text-gray-500",children:l.details})]},l.id))})]}),d.jsxs("section",{className:"text-center mt-10",children:[d.jsx("p",{className:"text-gray-400",children:"ご不明点がございましたら、お気軽にお問い合わせください。"}),d.jsx("button",{className:"mt-4 bg-gradient-to-r from-yellow-500 to-amber-600 text-black font-semibold px-6 py-3 rounded-lg shadow hover:scale-105 transition",children:"お問い合わせ"})]}),d.jsx("div",{className:"mt-10",children:d.jsx("button",{onClick:o,className:"bg-gradient-to-r from-yellow-500 to-amber-600 text-black font-bold px-6 py-3 rounded-lg shadow hover:scale-105 transition",children:"PDFダウンロード"})})]})}),d.jsx(tn,{path:"/settings",element:d.jsx("div",{className:"text-white",children:"設定ページ（実装待ち）"})})]})})})})]})]})}function uAe(){return d.jsxs(sK,{children:[d.jsx(l9,{}),d.jsxs(ef,{children:[d.jsx(tn,{path:"/admin/*",element:d.jsx(gZ,{})}),d.jsx(tn,{path:"/driver/*",element:d.jsx(rse,{})}),d.jsx(tn,{path:"/master/*",element:d.jsx(cAe,{})}),d.jsx(tn,{path:"/reset",element:d.jsx(AK,{})}),d.jsx(tn,{path:"/*",element:d.jsx(uq,{})})]})]})}class dAe extends Sn.Component{constructor(){super(...arguments);u5(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,err:n}}componentDidCatch(n,r){console.error("💥 ErrorBoundary",n,r)}render(){return this.state.hasError?d.jsxs("div",{style:{padding:16,fontFamily:"system-ui"},children:[d.jsx("h2",{children:"画面の表示でエラーが発生しました"}),d.jsx("p",{children:"ブラウザの拡張を一時的に無効化し、ハードリロードをお試しください。"}),d.jsx("details",{style:{whiteSpace:"pre-wrap",marginTop:8},children:String(this.state.err)})]}):this.props.children}}const AD=document.getElementById("root");if(!AD)throw new Error("#root が index.html に見つかりません");L3(AD).render(d.jsx(Sn.StrictMode,{children:d.jsx(dAe,{children:d.jsx(uAe,{})})}));export{UH as $,yAe as A,jAe as B,QAe as C,Bn as D,Cm as E,yc as F,xc as G,bAe as H,S7 as I,qAe as J,Ace as K,kS as L,nV as M,Z7 as N,UA as O,Zu as P,HAe as Q,XAe as R,bb as S,e9 as T,PAe as U,_H as V,ece as W,sce as X,lce as Y,JAe as Z,ig as _,ng as a,_Ae as a0,p7 as a1,BH as a2,tce as a3,ice as a4,ace as a5,T7 as a6,GAe as a7,UAe as a8,SAe as a9,FAe as aa,MAe as ab,BAe as ac,qB as ad,EAe as ae,HS as af,LAe as ag,ZAe as ah,rce as ai,oce as aj,$Ae as ak,CAe as al,zAe as am,OAe as an,DAe as ao,nce as ap,RAe as aq,KAe as ar,VAe as as,kAe as at,TAe as au,$y as av,mh as aw,Lp as ax,_p as ay,tg as b,xAe as c,Cd as d,pAe as e,wc as f,dv as g,vAe as h,Hh as i,ZV as j,mAe as k,gAe as l,oC as m,bc as n,NAe as o,kH as p,YAe as q,VH as r,XV as s,PL as t,EH as u,IAe as v,tH as w,SH as x,wAe as y,WAe as z};
